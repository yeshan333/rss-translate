<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Grafana Labs 上的 Grafana Labs 博客</title><link>https://grafana.com/blog/</link><description>Grafana Labs 上的 Grafana Labs 博客中的最​​新内容</description><lastBuildDate>Fri, 05 Jul 2024 03:05:42 GMT</lastBuildDate><generator>rfeed v1.1.1</generator><docs>https://github.com/svpino/rfeed/blob/master/README.md</docs><item><title>【Getting started with Grafana: best practices to design your first dashboard】</title><link>https://grafana.com/blog/2024/07/03/getting-started-with-grafana-best-practices-to-design-your-first-dashboard/</link><description>&lt;p&gt;可观察性的核心是帮助人类理解和优化复杂系统。它使工程团队能够即时提出问题，不仅可以了解出现问题的时间，还可以了解&lt;em&gt;原因&lt;/em&gt;。可观察性还允许组织在最终用户有机会注意到之前主动识别和解决性能问题。&lt;/p&gt;&lt;p&gt; &lt;a href="https://grafana.com/blog/2023/07/14/celebrating-grafana-10-top-10-grafana-features-you-need-to-know-about/"&gt;十多年来&lt;/a&gt;，Grafana 仪表板通过以漂亮的图形、图表和其他可视化形式统一和显示数据，使组织能够实现这些（以及更多）可观察性目标。尽管 Grafana 以其易用性而闻名，但我们也意识到，在构建您的第一个仪表板时，一些指导可以大有帮助。&lt;/p&gt;&lt;p&gt;在这篇针对 Grafana 入门者的博文中，我们详细分析了有效仪表板设计背后的一些关键原则。从了解您的受众到选择要包含的指标，这里有一些有用的指南，可帮助您立即开始创建令人惊叹且信息丰富的 Grafana 仪表板，并将您的数据转化为可行的见解。&lt;/p&gt;&lt;p&gt;&lt;em&gt;注意：要了解有关 Grafana 仪表板设计的更多信息并观看演示，请观看我们的&lt;a href="https://grafana.com/go/webinar/getting-started-with-grafana-dashboard-design/?pg=blog&amp;amp;plcmt=body-txt"&gt;“Grafana 仪表板设计入门”网络研讨会&lt;/a&gt;。&lt;/em&gt;&lt;/p&gt;&lt;h2 id="know-your-audience-and-what-they-want-to-know"&gt;了解您的受众（以及&lt;em&gt;他们&lt;/em&gt;想知道什么）&lt;/h2&gt;&lt;p&gt;设计 Grafana 仪表板的黄金规则之一是考虑特定目的或用例。您的仪表板应该通过数据的逻辑进展（例如从大到小或从一般到具体）来讲述一个故事，回答一个问题，或两者兼而有之。为了有效地做到这一点，您需要了解仪表板的目标用户或受众。&lt;/p&gt;&lt;p&gt;例如，与产品经理相比，工程师在使用 Grafana 仪表板时的目标非常不同。工程师可能希望可视化能够快速传达他们的服务或系统是否按预期运行，并在发生性能下降时帮助他们查明问题的原因。另一方面，产品经理可能会使用 Grafana 仪表板来了解客户如何访问其应用程序并与之交互。底线？ Grafana 仪表板的&lt;a href="https://grafana.com/blog/2023/12/27/grafana-dashboards-in-2023-memorable-use-cases-of-the-year/"&gt;用例非常广泛&lt;/a&gt;，无论是在专业环境还是个人环境中。&lt;/p&gt;&lt;p&gt;这意味着，在开始设计仪表板之前，您应该设身处地为目标用户着想，概述他们在数据可视化方面的具体目标和需求。作为该练习的一部分，还要考虑交付方法和所需的交互级别 - 例如，PDF 报告中显示的仪表板不会是交互式的，但它可能是向领导层发送每月绩效报告的最佳方式团队。&lt;/p&gt;&lt;h2 id="take-advantage-of-visual-hierarchies"&gt;利用视觉层次结构&lt;/h2&gt;&lt;p&gt;定义受众及其目标后，是时候考虑如何最有效地在仪表板中显示信息了。这就是&lt;em&gt;视觉层次结构&lt;/em&gt;概念发挥作用的地方。&lt;/p&gt;&lt;p&gt;视觉层次结构是一种模式，其中某些元素比其他元素更突出并更吸引注意力，从而表明重要性的层次结构。通过使用视觉层次结构，您可以引导观众找到您最希望他们关注的信息。&lt;/p&gt;&lt;p&gt;有几个类别的视觉层次结构需要考虑：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;对齐：&lt;/strong&gt;这是您呈现或组织内容的顺序，这对参与度有重大影响。例如，在英语国家，用户倾向于从左到右、从上到下以“Z”模式扫描页面内容——无论是在书中、在网络上还是在 Grafana 仪表板中。了解这一点后，您可能希望将关键内容放置在仪表板的左上角。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;尺寸：&lt;/strong&gt;这一点相当简单：组件的尺寸越大，重要性的感知就越大。例如，您可以在大型&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/stat/?pg=blog&amp;amp;plcmt=body-txt"&gt;统计面板&lt;/a&gt;中强调关键指标，然后将支持数据和其他详细信息放置在较小的&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/?pg=blog&amp;amp;plcmt=body-txt"&gt;面板&lt;/a&gt;中。 &lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;img alt="展示尺寸重要性的图表" class="lazyload d-inline-block" height="540" width="960" /&gt;&lt;/p&gt;&lt;ol start="3"&gt;&lt;li&gt;&lt;strong&gt;颜色&lt;/strong&gt;：我们的眼睛被明亮、饱和的颜色所吸引。如果物体的颜色在视觉上与其背景不同，观看者可能会首先注意到它。因此，如果您被迫在仪表板中间使用较大的面板（例如&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/geomap/?pg=blog&amp;amp;plcmt=body-txt"&gt;地理地图）&lt;/a&gt; ，但想要强调顶部面板中的信息，则可以使用颜色将用户的注意力引导回顶部。 &lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;img alt="展示颜色重要性的图表" class="lazyload d-inline-block" height="540" width="960" /&gt;&lt;/p&gt;&lt;ol start="4"&gt;&lt;li&gt;&lt;strong&gt;形状：&lt;/strong&gt;从周围环境中脱颖而出的复杂形状也有助于吸引注意力。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;请记住，仪表板中的所有内容都应该很重要，但并非所有内容都&lt;em&gt;同样&lt;/em&gt;重要。同样，视觉层次结构的强大之处在于它们可以帮助引导用户找到仪表板中最重要的信息。&lt;/p&gt;&lt;p&gt;最后，在考虑这些视觉线索时，可访问性始终很重要。例如，为了适应色盲用户，请避免红色和绿色的颜色组合，因为这些颜色对他们来说很难看到。&lt;/p&gt;&lt;h2 id="choose-the-right-metrics"&gt;选择正确的指标&lt;/h2&gt;&lt;p&gt;指标是仪表板设计中的另一个重要考虑因素。为了选择要突出显示的正确指标，您应该再次考虑您的目标用户以及他们得出结论和采取行动所需的信息。&lt;/p&gt;&lt;p&gt;例如，运营和工程团队倾向于优先考虑可以帮助他们保持一致的 SLO、延长正常运行时间并缩短 MTTR 的指标。对于这些类型的仪表板用户，使用&lt;strong&gt;&lt;a href="https://grafana.com/docs/grafana/latest/dashboards/build-dashboards/best-practices/#red-method"&gt;RED 方法&lt;/a&gt;&lt;/strong&gt;来定义指标会很有帮助。红色代表：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;速率：&lt;/strong&gt;每秒请求数&lt;/li&gt;&lt;li&gt;&lt;strong&gt;错误：&lt;/strong&gt;失败的请求数&lt;/li&gt;&lt;li&gt;&lt;strong&gt;持续时间：&lt;/strong&gt;这些请求所花费的时间以及延迟测量的分布&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;RED 方法可以帮助您衡量客户在使用您的服务时的满意度。在下面的仪表板中，我们的服务由三层组成：负载平衡层、Web 应用程序层和后端数据库，并且我们正在跟踪每个层的 RED 指标。 &lt;/p&gt;&lt;p&gt;&lt;img alt="显示 RED 指标的 Grafana 仪表板" class="lazyload d-inline-block" height="2134" width="4072" /&gt;&lt;/p&gt;&lt;p&gt;虽然 RED 方法旨在观察服务层，但还有&lt;strong&gt;&lt;a href="https://grafana.com/docs/grafana/latest/dashboards/build-dashboards/best-practices/?pg=blog&amp;amp;plcmt=body-txt#use-method"&gt;USE 方法&lt;/a&gt;&lt;/strong&gt;用于观察基础设施层。此方法有助于跟踪支持服务或应用程序的底层基础设施资源，例如 CPU、内存、磁盘和网络组件。 USE 代表：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;利用率&lt;/strong&gt;：资源（例如 CPU）繁忙的时间百分比&lt;/li&gt;&lt;li&gt;&lt;strong&gt;饱和度&lt;/strong&gt;：资源必须完成的工作量，通常用队列长度或节点负载来表示&lt;/li&gt;&lt;li&gt;&lt;strong&gt;错误：&lt;/strong&gt;错误事件的计数&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;例如，网络管理员或工程师可以使用 USE 方法来确保资源不会过度饱和并导致性能问题。 &lt;/p&gt;&lt;p&gt;&lt;img alt="用于使用指标的 Grafana 仪表板" class="lazyload d-inline-block" height="651" width="1200" /&gt;&lt;/p&gt;&lt;p&gt;另一组需要考虑的指标是监控的四个黄金信号。这些指标在&lt;a href="https://sre.google/sre-book/monitoring-distributed-systems/#xref_monitoring_golden-signals" rel="noopener noreferrer" target="_blank"&gt;Google SRE 手册&lt;/a&gt;中定义，包括：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;延迟：&lt;/strong&gt;处理请求所花费的时间&lt;/li&gt;&lt;li&gt;&lt;strong&gt;流量：&lt;/strong&gt;衡量系统上有多少需求的指标。对于 Web 服务，这通常通过每秒 HTTP 请求数来反映。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;错误：&lt;/strong&gt;请求失败的比率（例如，带有 HTTP 500 状态代码）&lt;/li&gt;&lt;li&gt;&lt;strong&gt;饱和度：&lt;/strong&gt;系统的“满”程度，例如内存和 I/O 方面。这很重要，因为许多系统在达到 100% 利用率之前都会经历性能下降。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这些是监控系统性能的核心基准指标。正如谷歌所说，如果你只能衡量面向用户的系统的四个指标，那么这四个指标就是值得关注的。&lt;/p&gt;&lt;h2 id="iterate-iterate-iterate"&gt;迭代，迭代，迭代&lt;/h2&gt;&lt;p&gt;可观察性是一个旅程，而不是目的地。它需要仔细的规划、有效的反馈循环和持续改进。这同样适用于仪表板设计：您将（并且应该）始终进行迭代。&lt;/p&gt;&lt;p&gt;随着时间的推移，“坏”指标或“好”指标，甚至积极状态与消极状态的定义可能会因您和您的用户而发生变化。即使您觉得自己已经构建了完美的仪表板，请记住始终有发展或改进的机会。&lt;/p&gt;&lt;p&gt;要了解更多信息并查看与仪表板设计相关的演示，请观看我们的点播网络研讨会&lt;a href="https://grafana.com/go/webinar/getting-started-with-grafana-dashboard-design/?pg=blog&amp;amp;plcmt=body-txt"&gt;“Grafana 仪表板设计入门”。&lt;/a&gt;您还可以参考我们的&lt;a href="https://grafana.com/grafana/dashboards/?pg=blog&amp;amp;plcmt=body-txt"&gt;仪表板模板库&lt;/a&gt;和我们的&lt;a href="https://grafana.com/docs/grafana/latest/getting-started/build-first-dashboard/?pg=blog&amp;amp;plcmt=body-txt"&gt;技术文档&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;快乐设计！&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪和仪表板的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Wed, 03 Jul 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/07/03/getting-started-with-grafana-best-practices-to-design-your-first-dashboard/</guid></item><item><title>【Identify anomalies, outlier detection, forecasting: How Grafana Cloud uses AI/ML to make observability easier】</title><link>https://grafana.com/blog/2024/07/02/identify-anomalies-outlier-detection-forecasting-how-grafana-cloud-uses-ai/ml-to-make-observability-easier/</link><description>&lt;p&gt;在 Grafana Labs，我们构建 AI/ML 工具时的首要方法是让人类（也就是我们所有人！）理解复杂的系统。换句话说，我们希望使可观察性仍然是人性化的，但不那么复杂。 （我们的第二个用例？ &lt;a href="https://www.linkedin.com/posts/grafana-labs_the-5-worstbest-rejected-grafana-labs-marketing-activity-7146940548048707584-AynS/" rel="noopener noreferrer" target="_blank"&gt;让社交媒体变得更有趣&lt;/a&gt;。）&lt;/p&gt;&lt;p&gt;我们认为，可观察性中的 AI/ML 工具应该致力于最大限度地减少辛苦工作，并减少组织中每个人对日益复杂的堆栈拥有相同深入领域知识的需求。&lt;/p&gt;&lt;p&gt;毕竟，人工智能/机器学习最终应该让团队更轻松、更轻松地运行服务，并帮助您有效且高效地发现和解决问题——有时甚至在问题影响用户&lt;em&gt;之前&lt;/em&gt;。以下是我们在 Grafana Cloud 中执行此操作的方法。&lt;/p&gt;&lt;h2 id="learn-why-your-system-isnt-working-sift-investigations"&gt;了解系统&lt;em&gt;无法&lt;/em&gt;运行的原因：筛选调查&lt;/h2&gt;&lt;p&gt;&lt;img alt="筛选调查" class="lazyload d-inline-block" height="625" width="1000" /&gt;&lt;/p&gt;&lt;p&gt; 您的应用程序有问题吗？ Sift 是一种诊断工具，利用机器学习帮助团队识别异常并调查问题。它通过提供以下功能来减少工作量并加快响应时间：&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;strong&gt;&lt;a href="https://grafana.com/blog/2023/09/14/announcing-sift-automated-system-checks-for-faster-incident-response-times-in-grafana-cloud/"&gt;自动检查指标、日志和跟踪，&lt;/a&gt;&lt;/strong&gt;以发现日志中的异常、HTTP 错误的模式、通过跟踪的缓慢请求等。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;日志错误的解释&lt;/strong&gt;总结了异常情况并通过易于遵循的步骤提供了潜在的修复方法。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;您可以在 Grafana Cloud 中的任何位置开始 Sift 调查，包括在仪表板和 Explore 中，并在多个工作流程中运行 Sift。您还可以从&lt;a href="https://grafana.com/blog/2024/05/06/grafana-incident-new-tools-for-faster-simpler-incident-response/"&gt;Grafana Incident&lt;/a&gt;自动触发 Sift，它可以自动执行事件管理的耗时任务，以便您实际上可以更快地解决问题，以及&lt;a href="https://grafana.com/blog/2024/03/29/a-better-grafana-oncall-seamless-workflows-with-the-rest-of-grafana-cloud/"&gt;Grafana OnCall&lt;/a&gt; ，我们的待命管理工具，与 Grafana LGTM Stack 的所有部分集成。&lt;/p&gt;&lt;p&gt;最好的？ Sift 可在所有 Grafana Cloud 层上使用，&lt;em&gt;无需额外付费&lt;/em&gt;。&lt;/p&gt;&lt;p&gt;请参阅我们的&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/machine-learning/sift/?pg=blog&amp;amp;plcmt=body-txt"&gt;Sift 文档&lt;/a&gt;了解更多信息。&lt;/p&gt;&lt;h2 id="predict-anomalies-forecasting--outlier-detection"&gt;预测异常：预测和异常值检测&lt;/h2&gt;&lt;p&gt;&lt;img alt="异常检测灵敏度设置" class="lazyload d-inline-block" height="396" width="800" /&gt;&lt;/p&gt;&lt;p&gt;这些功能会告诉您系统&lt;em&gt;何时&lt;/em&gt;不健康——无论是现在还是将来。 Grafana Cloud 中的预测和异常值检测可帮助您了解指标随时间变化的预期值，并应用动态警报来预测和检测异常。&lt;/p&gt;&lt;h3 id="forecasting"&gt;预测&lt;/h3&gt;&lt;p&gt;通过 Grafana Cloud 中的&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/machine-learning/forecasts/tutorial/?pg=blog&amp;amp;plcmt=body-txt"&gt;预测&lt;/a&gt;，您可以了解时间序列的历史性能并预测当前和未来的使用值。您无需调整警报阈值，只需在指标超出范围时发出警报即可。您还可以捕获每日和每周的季节性，以帮助设置高峰和非高峰时段的阈值。&lt;/p&gt;&lt;p&gt;预测还可以帮助您进行容量规划和自动扩展，以便您可以展望未来并自信地预测一周或一个月后的使用情况。&lt;/p&gt;&lt;h3 id="outlier-detection"&gt;异常值检测&lt;/h3&gt;&lt;p&gt;通过&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/machine-learning/forecasts/outlier-detection/"&gt;异常值检测&lt;/a&gt;，您可以监控一组服务并识别某个功能何时与其他功能的执行水平不同。 （提示内存泄漏、吵闹的邻居和其他令人头痛的问题。）&lt;/p&gt;&lt;p&gt;要了解更多信息，请查看我们的&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/machine-learning/forecasts/outlier-detection/?pg=blog&amp;amp;plcmt=body-txt"&gt;异常值检测文档&lt;/a&gt;和&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/machine-learning/forecasts/tutorial/?pg=blog&amp;amp;plcmt=body-txt"&gt;预测教程&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="simplify-your-workflows-and-your-life-grafana-llm-plugin"&gt;简化您的工作流程（和您的生活）：Grafana LLM 插件&lt;/h2&gt;&lt;p&gt;当您的可观察性堆栈产生&lt;em&gt;大量&lt;/em&gt;数据时，有时您只需要切入要点。通过将 Grafana LLM 插件添加到您的堆栈中，您可以执行以下操作：&lt;/p&gt;&lt;h3 id="understand-flame-graphs-faster"&gt;更快地理解火焰图&lt;/h3&gt;&lt;p&gt;&lt;a href="https://grafana.com/blog/2024/05/15/ai-powered-insights-for-continuous-profiling-introducing-flame-graph-ai-in-grafana-cloud/"&gt;火焰图 AI&lt;/a&gt;使用 LLM 协助火焰图数据解释，以便您可以更快地识别瓶颈、根本原因和建议的修复措施。 &lt;/p&gt;&lt;p&gt;&lt;img alt="火焰图人工智能" class="lazyload d-inline-block" height="1353" width="1999" /&gt;&lt;/p&gt;&lt;h3 id="summarize-incidents-in-one-click"&gt;一键汇总事件&lt;/h3&gt;&lt;p&gt;&lt;a href="https://grafana.com/blog/2024/05/06/grafana-incident-new-tools-for-faster-simpler-incident-response/#ai-driven-summaries-with-openai-integration"&gt;OpenAI 集成会&lt;/a&gt;自动生成简洁、可操作的事件摘要。这种分析不仅可以快速捕获事件的本质，还可以帮助团队确保在记录和传达事件影响时不会忽略任何关键细节。&lt;/p&gt;&lt;h3 id="ai-generated-titles-and-descriptions-for-grafana-dashboards"&gt; AI 为 Grafana 仪表板生成的标题和描述&lt;/h3&gt;&lt;p&gt;不再想知道如何将您打包到仪表板中的所有数据汇总到一个标题中。 Grafana 包含一个新的&lt;a href="https://grafana.com/blog/2024/04/09/grafana-11-release-all-the-new-features/?pg=blog&amp;amp;plcmt=body-txt#faster-ai-powered-titles-and-descriptions"&gt;人工智能驱动工具，可以自动汇总&lt;/a&gt;面板和仪表板中的信息，并为仪表板创建详细的标题和描述。&lt;/p&gt;&lt;p&gt;立即了解&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/machine-learning/llm/?pg=blog&amp;amp;plcmt=body-txt"&gt;如何在 Grafana Cloud 堆栈中启用 Grafana LLM 插件&lt;/a&gt;并开始使用所有这些工具及更多工具。&lt;/p&gt;&lt;p&gt;要了解有关 AI/ML 和 Grafana 的更多信息，请查看我们的 GrafanaCON 2024 会议“ &lt;a href="https://grafana.com/events/grafanacon/2024/creating-intelligent-grafana-apps-using-llms-large-language-models/?pg=blog&amp;amp;plcmt=body-txt"&gt;AI/ML + Grafana：如何利用法学硕士创建智能 Grafana 应用程序&lt;/a&gt;”，现已按需提供。&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Tue, 02 Jul 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/07/02/identify-anomalies-outlier-detection-forecasting-how-grafana-cloud-uses-ai/ml-to-make-observability-easier/</guid></item><item><title>【Industrial IoT visualization: Why United Manufacturing Hub chose Grafana to power its IIoT platform】</title><link>https://grafana.com/blog/2024/07/01/industrial-iot-visualization-why-united-manufacturing-hub-chose-grafana-to-power-its-iiot-platform/</link><description>&lt;p&gt;&lt;em&gt;Denis Gontcharov 是一名数据顾问，帮助铝冶炼厂打破数据障碍。过去五年，他作为独立顾问为铝行业提供 IT 和数据服务。丹尼斯还在联合制造中心担任开发倡导者。&lt;/em&gt;&lt;/p&gt;&lt;p&gt; &lt;em&gt;Jeremy Theocharis 是 United Manufacturing Hub 的联合创始人兼首席技术官。他是工业物联网领域的专家，拥有七年多领导各行业大型工业物联网项目的经验。他拥有机械工程和工商管理背景，从 14 岁起就成为一名程序员，并发表了多篇有关 IIoT 中可扩展数据处理等主题的文章。&lt;/em&gt;&lt;/p&gt;&lt;p&gt;大多数 IT 专业人员都熟悉 Grafana 作为监控 IT 遥测数据（例如 CPU 消耗）的可视化工具。然而，Grafana 也是工业物联网 (IIoT) 的强大工具 - 这就是为什么我们&lt;a href="https://www.umh.app/" rel="noopener noreferrer" target="_blank"&gt;United Manufacturing Hub (UMH)&lt;/a&gt; （一家为企业制造商提供开源工业物联网平台的初创公司）的团队选择在我们的核心中利用 Grafana产品。&lt;/p&gt;&lt;p&gt;在本文中，我们将探讨为什么 UMH 对专业工业可视化解决方案感到沮丧，这些解决方案与 IIoT 领域的 Grafana 相比如何，最后，Grafana 如何为制造商创造积极的业务影响。&lt;/p&gt;&lt;h2 id="grafana-data-visualization-from-home-automation-to-iiot"&gt; Grafana 数据可视化：从家庭自动化到 IIoT&lt;/h2&gt;&lt;p&gt; Grafana 已成为 IIoT 可视化事实上的标准。在主要工业博览会上，例如德国&lt;a href="https://www.hannovermesse.de/en/" rel="noopener noreferrer" target="_blank"&gt;汉诺威工业博览会&lt;/a&gt;（世界上最大的工业博览会之一），Grafana 在许多 IIoT 展位上占据显着位置。使用 Grafana 构建的仪表板显示制造企业各个层面的数据：从董事会一直到车间。当首席执行官观察公司的高级财务关键绩效指标时，机器操作员可以密切关注关键参数和实时过程值。&lt;/p&gt;&lt;p&gt;但 Grafana 究竟是如何在制造业中获得如此广泛的采用的呢？在 UMH，我们认为这是因为 Grafana 通过&lt;a href="https://grafana.com/blog/2024/01/10/how-to-set-up-home-automation-a-beginners-guide-with-grafana-cloud-and-home-assistant/"&gt;家庭自动化领域&lt;/a&gt;进入了市场，它因可视化物联网传感器的指标而变得流行。&lt;/p&gt;&lt;p&gt;在个人项目中尝试使用 Grafana 的爱好者意识到了它在工作中的潜力。毕竟，如果您可以实时显示客厅的温度，为什么不能实时显示生产车间熔炉的温度呢？这种认识促使 UMH 团队选择 Grafana 来可视化客户的传感器数据。&lt;/p&gt;&lt;h2 id="why-grafana-beats-existing-industrial-technologies"&gt;为什么 Grafana 击败了现有的工业技术&lt;/h2&gt;&lt;p&gt;但是等等 - 为什么 UMH 以及汉诺威工业博览会上的其他 IIoT 供应商对 Grafana 充满信心？为什么不简单地实施专为制造而设计的现有工业产品呢？&lt;/p&gt;&lt;p&gt;原因很简单：现有的工业产品不能满足我们的需求。公平地说，其中一些工具在某些利基应用中确实比 Grafana 有优势。尽管如此，市场在一般应用中表现出了对 Grafana 的明显偏好。造成这种情况的一些关键原因是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;尽管相当传统的制造业普遍对现代开源 IT 工具持谨慎态度，但鉴于 Grafana 已经存在十多年，它已经拥有成熟的声誉。&lt;/li&gt;&lt;li&gt;像 Grafana 这样的开源工具具有令人难以置信的成本效益，特别是与工业&lt;a href="https://csrc.nist.gov/glossary/term/human_machine_interface" rel="noopener noreferrer" target="_blank"&gt;人机界面 (HMI)&lt;/a&gt;等一些特定于制造业的解决方案相比。从本质上讲，企业可以通过利用强大的现代 IT 技术（例如 Grafana 和 TimescaleDB）的组合来节省大量资金，而不是坚持使用更传统的制造解决方案和 HMI。&lt;/li&gt;&lt;li&gt;与 Grafana 时尚且视觉上引人注目的仪表板（下面的示例）相比，HMI 的用户界面通常感觉有限且过时。&lt;/li&gt;&lt;/ul&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link captioned" href="https://grafana.com/media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload mb-0"
data-src="/media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg"data-srcset="/media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg?w=320 320w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg?w=550 550w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg?w=750 750w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg?w=900 900w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg?w=1040 1040w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg?w=1240 1240w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg?w=1920 1920w"
data-sizes="auto"alt="A screenshot of a Grafana dashboard in the UMH platform."
width="1999"
height="1125"
title="*Grafana 仪表板由 UMH 社区成员 Diederik Vermeersch 设计，他在比利时根特的 Mayker 工作。*"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-dashboard.jpg"
alt="A screenshot of a Grafana dashboard in the UMH platform."
width="1999"
height="1125"
title="*Grafana 仪表板由 UMH 社区成员 Diederik Vermeersch 设计，他在比利时根特的 Mayker 工作。*"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;figcaption class="w-100p caption text-gray-13 "&gt; &lt;em&gt;Grafana 仪表板由 UMH 社区成员 Diederik Vermeersch 设计，他在比利时根特的 Mayker 工作。&lt;/em&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt; Grafana 等开源工具的另一个优势是其背后的&lt;a href="/blog/2023/12/12/the-story-of-grafana-documentary-the-community-behind-the-code/"&gt;大型在线社区&lt;/a&gt;。公共知识的可用性使没有经验的用户可以轻松找到帮助并快速提升。这意味着制造商不会陷入某些利基边缘情况。还有一个大型&lt;a href="/grafana/dashboards/"&gt;社区仪表板模板库&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;此外，开源技术提供了不受阻碍的数据访问。这听起来可能微不足道，但对于传统历史学家（制造数据的存储和可视化解决方案）来说，以专有文件格式保存数据并不少见，这阻碍了将数据传输到外部系统（包括公共云中的系统）的能力。&lt;/p&gt;&lt;p&gt;然而，Grafana 如此受欢迎的主要原因是它的易用性。鉴于 Grafana 的单一管理平台数据集成方法，可视化来自不同来源的数据非常方便：无需合并后端存储或其他供应商数据库中的数据 — 您可以统一所有数据（无论其位于何处） 。一旦数据在 Grafana 中可用，就可以轻松创建漂亮的可视化效果。&lt;/p&gt;&lt;p&gt;虽然 Grafana 是一种功能强大的实时数据可视化解决方案，但无法直接将信息从 Grafana 发送回工业控制器（某些专用工业解决方案可以做到这一点）。然而，这并不是一个破坏交易的事情。通过 Grafana 的&lt;a href="https://volkovlabs.io/plugins/volkovlabs-form-panel/" target="_blank" rel="noopener noreferrer"&gt;业务表单面板&lt;/a&gt;（以前称为&lt;a href="/grafana/plugins/volkovlabs-form-panel/"&gt;数据操作面板&lt;/a&gt;）插件，可以将数据从仪表板发送到数据库。此解决方法允许 Grafana 仪表板和底层流程通过数据库进行通信。&lt;/p&gt;&lt;h2 id="how-grafana-helps-power-the-umh-stack"&gt; Grafana 如何帮助推动 UMH 堆栈&lt;/h2&gt;&lt;p&gt;Grafana 是 UMH 开源&lt;a href="https://www.umh.app/" target="_blank" rel="noopener noreferrer"&gt;IT/OT 集成平台&lt;/a&gt;的核心组件。 UMH 系统的运行方式是首先从各种来源（例如可编程逻辑控制器 (PLC)）提取数据，然后将其简化为称为&lt;em&gt;&lt;a href="https://learn.umh.app/lesson/chapter-2-the-rise-of-the-unified-namespace/" target="_blank" rel="noopener noreferrer"&gt;统一命名空间&lt;/a&gt;&lt;/em&gt;的中央集成点。该框架利用&lt;a href="https://mqtt.org/" target="_blank" rel="noopener noreferrer"&gt;MQTT&lt;/a&gt;和&lt;a href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer"&gt;Kafka&lt;/a&gt;来确保稳健的数据处理。在这个统一命名空间中，时间序列数据（业内通常称为&lt;em&gt;标签&lt;/em&gt;（数据点的唯一标识符））被系统地组织并随后存储在开源历史记录中。&lt;/p&gt;&lt;p&gt; Grafana 与基于 PostgreSQL 的开源&lt;a href="https://timescale.com/" target="_blank" rel="noopener noreferrer"&gt;TimescaleDB 数据库&lt;/a&gt;一起构成了这个开源历史记录设置的重要组成部分。该设置不仅可以存储来自制造和工业物联网设备的时间序列数据，还可以优雅地可视化这些数据。 Grafana 擅长对重要流程指标和 KPI（例如温度、流量和整体设备效率）进行美观、实时的可视化。这样，操作员可以快速检查和诊断生产过程。&lt;/p&gt;&lt;p&gt; UMH 平台充当 Grafana 和 TimescaleDB 数据库之间的隐形接口，可以轻松检索所需数据。该平台向 Grafana 公开了一个“数据模型”，用户可以利用该模型来制作图表，而无需编写复杂的 SQL 查询。这在制造业中很重要，因为操作技术 (OT) 工人通常不习惯使用 SQL — 另外，当机器出现故障时，您没有时间编写查询！ &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 1652px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link captioned"
href="/media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload mb-0"
data-src="/media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png"data-srcset="/media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png?w=320 320w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png?w=550 550w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png?w=750 750w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png?w=900 900w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png?w=1040 1040w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png?w=1240 1240w, /media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png?w=1920 1920w"
data-sizes="auto"alt="A diagram of UMH's platform architecture. "
width="1652"
height="802"
title="*UMH堆栈的软件架构，展示了Grafana的作用。*"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/united-manufacturing-hub/umh-IIoT-and-grafana-architecture-diagram.png"
alt="A diagram of UMH's platform architecture. "
width="1652"
height="802"
title="*UMH堆栈的软件架构，展示了Grafana的作用。*"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;figcaption class="w-100p caption text-gray-13 "&gt; &lt;em&gt;UMH 堆栈的软件架构，展示了 Grafana 的作用。&lt;/em&gt;&lt;/a&gt;&lt;/figure&gt;&lt;blockquote&gt;&lt;h3 id="how-umh-uses-grafana-cloud-to-monitor-internal-systems"&gt; UMH 如何使用 Grafana Cloud 监控内部系统&lt;/h3&gt;&lt;p&gt;除了使用 Grafana OSS 作为我们的 IIoT 平台的一部分之外，UMH 多年来还利用 Grafana Cloud 来监控支撑我们管理控制台的内部服务。该管理控制台使我们的用户能够从任何位置访问他们的实例，这需要一套强大的服务，包括 PostgreSQL、Kafka、Redis 以及我们的前端和后端 API。作为 Grafana Cloud 的长期用户，我们将这些服务的日志和指标导入其中，设置警报并使用 Grafana OnCall 来解决可能影响我们服务可用性的任何问题。&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id="how-to-learn-more"&gt;如何了解更多&lt;/h2&gt;&lt;p&gt;如果您想了解更多关于 UMH 的开源&lt;a href="https://www.umh.app/" target="_blank" rel="noopener noreferrer"&gt;IT/OT 集成平台&lt;/a&gt;以及 Grafana 的作用，您可以探索&lt;a href="https://learn.umh.app/" target="_blank" rel="noopener noreferrer"&gt;UMH 学习中心&lt;/a&gt;。如果您有兴趣使用 Grafana 查看真实的工业用例，您可以观看 UMH 的&lt;a href="https://www.youtube.com/watch?v=MTgIp-yqbEY" target="_blank" rel="noopener noreferrer"&gt;YouTube 视频&lt;/a&gt;，该视频演示了如何构建 Grafana 仪表板，以便在 20 分钟内可视化 PackML 数据，只需单击、拖动和拖动即可。下降。&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册！&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</description><pubDate>Mon, 01 Jul 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/07/01/industrial-iot-visualization-why-united-manufacturing-hub-chose-grafana-to-power-its-iiot-platform/</guid></item><item><title>【Grafana security update: Grafana Loki and unintended data write attempts to Amazon S3 buckets】</title><link>https://grafana.com/blog/2024/06/27/grafana-security-update-grafana-loki-and-unintended-data-write-attempts-to-amazon-s3-buckets/</link><description>&lt;blockquote&gt;&lt;p&gt;编者注：我们更新了副本，以反映 Google 合作伙伴的更改。 （世界标准时间 6 月 27 日 19:00）&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;em&gt;出于谨慎考虑，我们将此作为安全建议发布。&lt;/em&gt;&lt;/p&gt;&lt;p&gt;您可能读过或听说过 Medium 博客文章“ &lt;a href="https://medium.com/@maciej.pocwierz/how-an-empty-s3-bucket-can-make-your-aws-bill-explode-934a383cb8b1" rel="noopener noreferrer" target="_blank"&gt;空的 S3 存储桶如何让您的 AWS 账单爆炸&lt;/a&gt;”，其中描述了对 Amazon S3 存储桶进行未经授权的写入尝试如何导致 1,300 美元的账单，以及 AWS 随后的新闻对 S3 进行了更改，其中客户未发起的未经授权的请求是免费的。 &lt;a href="https://medium.com/@maciej.pocwierz?source=post_page-----934a383cb8b1--------------------------------" rel="noopener noreferrer" target="_blank"&gt;Maciej Pocwierz&lt;/a&gt;在最初的报告中表示，未经授权的写入是由一个未命名的开源项目在 S3 存储桶中存储备份的默认配置造成的。&lt;/p&gt;&lt;p&gt;所讨论的开源项目是 Grafana Loki，我们的日志聚合工具。部分根本原因是为了方便使用 MinIO，在&lt;a href="https://grafana.com/docs/loki/latest/setup/install/helm/?pg=blog&amp;amp;plcmt=body-txt"&gt;Loki Helm 图表&lt;/a&gt;中使用了默认值&lt;code&gt;chunks&lt;/code&gt; 。当 Maciej 创建名为&lt;code&gt;chunks&lt;/code&gt; AWS 存储桶时，它显示为其他 AWS 客户的有效目标。该存储桶是在没有全局可写权限的情况下创建的，但被拒绝的写入尝试仍会计费。&lt;/p&gt;&lt;p&gt;为了解决这个问题，我们更新了 Loki Helm 图表，删除了默认存储桶名称（使用 MinIO 时除外）。&lt;/p&gt;&lt;p&gt;现在我们的调查已经结束，我们将发布这篇博文。我们要感谢 Maciej 通过我们的&lt;a href="https://app.intigriti.com/programs/grafanalabs/grafanaossbbp/detail" rel="noopener noreferrer" target="_blank"&gt;错误赏金计划&lt;/a&gt;负责任地向我们披露了这个问题。&lt;/p&gt;&lt;h2 id="who-is-impacted"&gt;谁受到影响&lt;/h2&gt;&lt;p&gt;AWS 支持超越组织边界的存储桶命名空间；因此，第三方可以创建一个对其他人和您而言显示为有效目标的存储桶名称。我们已与 AWS 合作，确认这些默认存储桶名称当前由合法实体声明，并且配置方式不允许进行数据收集。出于谨慎考虑，我们建议在 AWS 上部署 Loki 或 Grafana Enterprise Logs (GEL) 的用户升级其 Helm 图表或更改其存储桶的名称，如下面的解决方案和缓解措施部分所述。&lt;/p&gt;&lt;p&gt; Google Cloud 支持全局唯一的存储桶命名空间。我们已与 Google 合作，确认 Google Cloud 用户未受到影响。出于谨慎考虑，我们建议在 Google Cloud 上部署 Loki 或 GEL 的用户升级其 Helm 图表或更改其存储桶的名称，如解决方案和缓解措施部分中所述。&lt;/p&gt;&lt;p&gt; Microsoft Azure 不支持超出组织边界的存储桶命名空间，因此在 Azure 上部署 Loki 或 GEL 的用户&lt;strong&gt;不会受到影响&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt; Grafana Cloud 客户&lt;strong&gt;不受影响&lt;/strong&gt;。&lt;/p&gt;&lt;h2 id="background"&gt;背景&lt;/h2&gt;&lt;p&gt;Loki 将其数据存储在与 S3 兼容的对象存储中。为了方便本地安装，Loki Helm 图表包含本地 MinIO 安装的默认值。&lt;/p&gt;&lt;p&gt; &lt;a href="https://medium.com/@maciej.pocwierz?source=post_page-----934a383cb8b1--------------------------------" rel="noopener noreferrer" target="_blank"&gt;Maciej Pocwierz&lt;/a&gt;是&lt;a href="https://www.semantive.com/" rel="noopener noreferrer" target="_blank"&gt;Semantive&lt;/a&gt;的高级软件工程师，也是《 &lt;a href="https://medium.com/@maciej.pocwierz/how-an-empty-s3-bucket-can-make-your-aws-bill-explode-934a383cb8b1" rel="noopener noreferrer" target="_blank"&gt;空的 S3 存储桶如何让你的 AWS 账单爆炸》一&lt;/a&gt;书的作者，他报告说，他因未经授权的写入尝试而被收取了 1,300 美元的费用。在配置 S3 存储时，他使用了与 Loki Helm 图表默认名称相同的名称。这在 AWS 中创建了一条数据路径，如果 Loki 集群是使用默认存储桶配置通过 Helm 安装的，则 Loki 集群可以尝试写入该数据路径。根据 Maciej 的说法，他后来将他的存储桶设置为世界可写 30 秒，并收集了大约 10GB 的数据。他联系了这些数据的来源公司，但在他发表博客文章时，还没有收到回复。&lt;/p&gt;&lt;p&gt;此后，AWS &lt;a href="https://aws.amazon.com/about-aws/whats-new/2024/05/amazon-s3-no-charge-http-error-codes/" rel="noopener noreferrer" target="_blank"&gt;宣布对 Amazon S3 进行计费更改&lt;/a&gt;，不再对来自其 AWS 账户或 AWS 组织外部的任何未经授权的 PUT 请求收费。&lt;/p&gt;&lt;p&gt;在此之前，在 AWS 上使用这些默认存储桶名称运行的任何 Loki 或 GEL 部署都没有有效的写入目标。这些集群只能查询本地缓存的数据，这会使集群基本上毫无用处。因此，我们有相对较高的信心，没有人会长期运行未配置的集群，即使是作为试验。&lt;/p&gt;&lt;h2 id="impacted-versions"&gt;受影响的版本&lt;/h2&gt;&lt;p&gt;Grafana Loki 和 Grafana Enterprise Logs 的 Loki Helm 图表从 3.0.0 到 5.47.2，另外还有 6.0.0&lt;/p&gt;&lt;p&gt;作为功​​能检查：Helm 图表中的默认存储桶未配置为全局写入，因此处于此错误配置状态的集群只能返回过去两个小时的数据。因此，返回超过两个小时数据的集群不太可能受到影响。&lt;/p&gt;&lt;h2 id="patched-versions"&gt;修补版本&lt;/h2&gt;&lt;p&gt;Grafana Loki 和 Grafana Enterprise Logs 版本&lt;a href="https://github.com/grafana/helm-charts/releases/download/helm-loki-5.48.0/loki-5.48.0.tgz" rel="noopener noreferrer" target="_blank"&gt;5.48.0&lt;/a&gt;和&lt;a href="https://github.com/grafana/helm-charts/releases/download/helm-loki-6.1.0/loki-6.1.0.tgz" rel="noopener noreferrer" target="_blank"&gt;6.1.0&lt;/a&gt;的 Loki Helm 图表已修补。&lt;/p&gt;&lt;h2 id="solutions-and-mitigations"&gt;解决方案和缓解措施&lt;/h2&gt;&lt;p&gt;有几种解决方案：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;将 Loki Helm 图表升级到版本&lt;a href="https://github.com/grafana/helm-charts/releases/download/helm-loki-5.48.0/loki-5.48.0.tgz" rel="noopener noreferrer" target="_blank"&gt;5.48.0&lt;/a&gt;或&lt;a href="https://github.com/grafana/helm-charts/releases/download/helm-loki-6.1.0/loki-6.1.0.tgz" rel="noopener noreferrer" target="_blank"&gt;6.1.0&lt;/a&gt;或更高版本。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href="https://grafana.com/docs/loki/latest/setup/install/helm/configure-storage/"&gt;配置您的存储&lt;/a&gt;：在您的&lt;code&gt;values.yaml&lt;/code&gt;中，将适用于您的实例的所有内容更改为以下内容：&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;code&gt;loki.storage.bucketNames.chunks&lt;/code&gt;远离&lt;code&gt;chunks&lt;/code&gt;&lt;/li&gt;&lt;li&gt; &lt;code&gt;loki.storage.bucketNames.ruler&lt;/code&gt;远离&lt;code&gt;ruler&lt;/code&gt;&lt;/li&gt;&lt;li&gt; &lt;code&gt;loki.storage.bucketNames.admin&lt;/code&gt;远离&lt;code&gt;admin&lt;/code&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;上游修复是不再在 Loki Helm 图表中提供默认值。当用户启动 MinIO 实例时，Loki Helm 图表只会配置 MinIO 默认值。&lt;/p&gt;&lt;p&gt;对于签约客户，我们已尽力帮助缓解任何问题。&lt;/p&gt;&lt;h2 id="timeline"&gt;时间线&lt;/h2&gt;&lt;p&gt;所有时间均采用 UTC 时间&lt;/p&gt;&lt;p&gt;2024-04-09 15:34：Maciej Pocwierz 通过我们的错误赏金计划向 Grafana Labs 报告。&lt;br /&gt; 2024-04-09 17:04：报告已分类。&lt;br /&gt; 2024-04-09 17:04：升级至Loki团队进行调查并确认。&lt;br /&gt; 2024-04-09 19:27：事件宣布。&lt;br /&gt; 2024-04-09 20:32：Loki 团队部分复制。&lt;br /&gt; 2024-04-09 22:35：PR 合并到 Loki Helm 图表版本 6.1.0 修复了该问题。&lt;br /&gt; 2024-04-09 22:35：Loki Helm 图表版本 6.1.0 发布。&lt;br /&gt; 2024-04-10 19:01：AWS 与 Google Cloud 取得联系。&lt;br /&gt; 2024-04-11 06:24：AWS 确认除 5xx 之外的所有未经授权的第三方请求都会计费。&lt;br /&gt; 2024-05-03 01:28：Google Cloud 确认失败的请求不会计费。&lt;br /&gt; 2024-05-06 15:43：PR 合并到 Loki Helm 图表版本 5.48.0 修复了该问题。&lt;br /&gt; 2024-05-06 15:43：Loki Helm 图表版本 5.48.0 发布。&lt;br /&gt; 2024-05-08 14:20：Google Cloud 确认这些存储桶已由合法实体声明，并且配置方式已阻止数据收集。&lt;br /&gt; 2024-05-13 17:30：AWS 对 Amazon S3 进行了更改，其中客户未发起的未经授权的请求是免费的。&lt;br /&gt; 2024-05-31 17:43：AWS 确认这些存储桶由合法实体声明，并且配置方式不允许进行数据收集。&lt;br /&gt; 2024-06-27 05:30：此博文的所有云合作伙伴评论已完成。&lt;br /&gt; 2024-06-27 17:00：博客发布。&lt;br /&gt; 2024-06-27 19:00：博客已更新，以反映 Google 合作伙伴的更改。&lt;/p&gt;&lt;h2 id="reporting-security-issues"&gt;报告安全问题&lt;/h2&gt;&lt;p&gt;如果您认为发现了安全漏洞，请访问我们的&lt;a href="https://grafana.com/legal/report-a-security-issue/?pg=blog&amp;amp;plcmt=body-txt"&gt;报告安全问题页面&lt;/a&gt;，了解如何发送安全报告。&lt;/p&gt;&lt;p&gt; Grafana Labs 将向您发送回复，指示处理您的报告的后续步骤。在对您的报告进行初步回复后，安全团队将随时向您通报修复进度和完整公告，并可能要求您提供其他信息或指导。&lt;/p&gt;&lt;p&gt;&lt;em&gt;重要提示：我们要求您在漏洞修复和公布之前不要披露该漏洞，除非您收到 Grafana Labs 安全团队的回复表明您可以这样做。&lt;/em&gt;&lt;/p&gt;&lt;h2 id="security-announcements"&gt;安全公告&lt;/h2&gt;&lt;p&gt;我们在博客上维护一个&lt;a href="https://grafana.com/tags/security/?pg=blog&amp;amp;plcmt=body-txt"&gt;安全类别&lt;/a&gt;，我们将始终在其中发布包含安全修复程序的任何补丁的摘要、修复和缓解详细信息。您还可以订阅我们的&lt;a href="https://grafana.com/tags/security/index.xml"&gt;RSS 源&lt;/a&gt;。&lt;/p&gt;</description><pubDate>Thu, 27 Jun 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/06/27/grafana-security-update-grafana-loki-and-unintended-data-write-attempts-to-amazon-s3-buckets/</guid></item><item><title>【ObservabilityCON 2024: Register and reserve your spot today!】</title><link>https://grafana.com/blog/2024/06/26/observabilitycon-2024-register-and-reserve-your-spot-today/</link><description>&lt;p&gt;开始传播消息： &lt;a href="https://grafana.com/events/observabilitycon/?pg=blog&amp;amp;plcmt=body-txt"&gt;ObservabilityCON 2024&lt;/a&gt;将于 9 月 24 日至 25 日在纽约市举行，报名现已正式开放！&lt;/p&gt;&lt;p&gt;加入我们的旗舰可观测性活动，探索 Grafana LGTM Stack 的所有最新更新（用于日志的&lt;a href="https://grafana.com/docs/loki/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Loki&lt;/a&gt; 、用于可视化的&lt;a href="https://grafana.com/docs/grafana/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana&lt;/a&gt; 、用于跟踪的&lt;a href="https://grafana.com/docs/tempo/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Tempo&lt;/a&gt;以及用于指标的&lt;a href="https://grafana.com/docs/mimir/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Mimir&lt;/a&gt; ），与行业专家联系，并获得可行的建议，以推进您的组织的发展可观察性策略。&lt;/p&gt;&lt;p&gt;您&lt;a href="https://grafana.com/events/observabilitycon/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在就可以注册&lt;/a&gt;，享受早鸟价，购买标准全价门票可节省 50%。门票数量有限，可享受此折扣 — 并且在纽约几分钟之内就会售空 — 所以今天就预订吧！&lt;/p&gt;&lt;div class="btn-row "&gt; &lt;a class="btn btn--primary " href="https://grafana.com/events/observabilitycon/?pg=blog&amp;amp;plcmt=body-txt" rel="noopener noreferrer"&gt;注册 ObservabilityCON 2024&lt;/a&gt;&lt;/div&gt;&lt;h2 id="observabilitycon-2024-agenda-spotlight-hands-on-workshops"&gt; ObservabilityCON 2024 议程焦点：实践研讨会&lt;/h2&gt;&lt;p&gt;我们为 ObservabilityCON 2024 制定了内容丰富、鼓舞人心且内容丰富的议程。&lt;/p&gt;&lt;p&gt;除了开幕主题演讲、技术深入探讨会议和从社区汲取的经验教训之外，我们还将在 9 月 24 日举办&lt;a href="https://grafana.com/events/observabilitycon/2024/workshops/?pg=blog&amp;amp;plcmt=body-txt"&gt;实践研讨会&lt;/a&gt;，帮助您提高技术技能、学习如何开始使用 OpenTelemetry 等。&lt;/p&gt;&lt;p&gt;今年的研讨会阵容包括： &lt;/p&gt;&lt;h3 id="introduction-to-observability-with-grafana-cloudhttpsgrafanacomeventsobservabilitycon2024workshopsintro-to-observability-with-grafana-cloudpgblogplcmtbody-txt"&gt; &lt;a href="https://grafana.com/events/observabilitycon/2024/workshops/intro-to-observability-with-grafana-cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud 的可观察性简介&lt;/a&gt;&lt;/h3&gt;&lt;figure class="figure-wrapper w-100p "&gt;&lt;a class="lightbox-link" href="https://grafana.com/events/observabilitycon/2024/workshops/intro-to-observability-with-grafana-cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/events/obscon/registration/Obscon24---intro-to-obs.png"data-srcset="/media/events/obscon/registration/Obscon24---intro-to-obs.png?w=320 320w, /media/events/obscon/registration/Obscon24---intro-to-obs.png?w=550 550w, /media/events/obscon/registration/Obscon24---intro-to-obs.png?w=750 750w, /media/events/obscon/registration/Obscon24---intro-to-obs.png?w=900 900w, /media/events/obscon/registration/Obscon24---intro-to-obs.png?w=1040 1040w, /media/events/obscon/registration/Obscon24---intro-to-obs.png?w=1240 1240w, /media/events/obscon/registration/Obscon24---intro-to-obs.png?w=1920 1920w"
data-sizes="auto"alt="Grafana Cloud 研讨会的会议卡。"
width="1200"
height="628"
/&gt; &lt;noscript&gt;&lt;img
src="/media/events/obscon/registration/Obscon24---intro-to-obs.png"
alt="Grafana Cloud 研讨会的会议卡。"
width="1200"
height="628"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;了解监控现代应用程序的最佳实践，并使用 Grafana Cloud 的可观察性工作流程来快速识别问题、排除故障并找到根本原因。通过指标、日志、跟踪和黑盒监控的组合，您将获得对可观察性技术的实用见解，并有机会观察在 Kubernetes 上运行的现代微服务应用程序。 &lt;/p&gt;&lt;h3 id="introduction-to-opentelemetryhttpsgrafanacomeventsobservabilitycon2024workshopsintro-to-opentelemetrypgblogplcmtbody-txt"&gt; &lt;a href="/events/observabilitycon/2024/workshops/intro-to-opentelemetry/?pg=blog&amp;amp;plcmt=body-txt"&gt;开放遥测简介&lt;/a&gt;&lt;/h3&gt;&lt;figure
class="figure-wrapper w-100p "
style="max-width: 1200px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/events/observabilitycon/2024/workshops/intro-to-opentelemetry/?pg=blog&amp;amp;plcmt=body-txt"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/events/obscon/registration/Obscon24---intro-to-OTel.png"data-srcset="/media/events/obscon/registration/Obscon24---intro-to-OTel.png?w=320 320w, /media/events/obscon/registration/Obscon24---intro-to-OTel.png?w=550 550w, /media/events/obscon/registration/Obscon24---intro-to-OTel.png?w=750 750w, /media/events/obscon/registration/Obscon24---intro-to-OTel.png?w=900 900w, /media/events/obscon/registration/Obscon24---intro-to-OTel.png?w=1040 1040w, /media/events/obscon/registration/Obscon24---intro-to-OTel.png?w=1240 1240w, /media/events/obscon/registration/Obscon24---intro-to-OTel.png?w=1920 1920w"
data-sizes="auto"alt="OpenTelemetry 研讨会的会议卡。"
width="1200"
height="628"
/&gt; &lt;noscript&gt;&lt;img
src="/media/events/obscon/registration/Obscon24---intro-to-OTel.png"
alt="OpenTelemetry 研讨会的会议卡。"
width="1200"
height="628"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;探索 OpenTelemetry 的基础知识（包括信号、术语、工具和最佳实践）以实现现代可观测性，并了解如何通过 Grafana Cloud 快速开始使用这些开放标准。您将逐步了解强大的监控和故障排除工作流程以减少 MTTR，并使用 OpenTelemetry 信号来调试和解决问题。 &lt;/p&gt;&lt;h3 id="introduction-to-grafana-cloud-logs-powered-by-lokihttpsgrafanacomeventsobservabilitycon2024workshopsintro-to-grafana-cloud-logs-powered-by-lokipgblogplcmtbody-txt"&gt; &lt;a href="/events/observabilitycon/2024/workshops/intro-to-grafana-cloud-logs-powered-by-loki/?pg=blog&amp;amp;plcmt=body-txt"&gt;由 Loki 提供支持的 Grafana Cloud Logs 简介&lt;/a&gt;&lt;/h3&gt;&lt;figure
class="figure-wrapper w-100p "
style="max-width: 1200px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/events/observabilitycon/2024/workshops/intro-to-grafana-cloud-logs-powered-by-loki/?pg=blog&amp;amp;plcmt=body-txt"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/events/obscon/registration/Obscon24-intro_gcloudlogs.png"data-srcset="/media/events/obscon/registration/Obscon24-intro_gcloudlogs.png?w=320 320w, /media/events/obscon/registration/Obscon24-intro_gcloudlogs.png?w=550 550w, /media/events/obscon/registration/Obscon24-intro_gcloudlogs.png?w=750 750w, /media/events/obscon/registration/Obscon24-intro_gcloudlogs.png?w=900 900w, /media/events/obscon/registration/Obscon24-intro_gcloudlogs.png?w=1040 1040w, /media/events/obscon/registration/Obscon24-intro_gcloudlogs.png?w=1240 1240w, /media/events/obscon/registration/Obscon24-intro_gcloudlogs.png?w=1920 1920w"
data-sizes="auto"alt="Cloud Logs 研讨会的会议卡。"
width="1200"
height="628"
/&gt; &lt;noscript&gt;&lt;img
src="/media/events/obscon/registration/Obscon24-intro_gcloudlogs.png"
alt="Cloud Logs 研讨会的会议卡。"
width="1200"
height="628"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;了解如何开始使用 Grafana Cloud Logs，这是一个由 Grafana Loki 提供支持的完全托管日志系统。在我们的专家解决方案工程师的指导下，您将学习运输、探索、查询和可视化日志数据的最佳实践和工作流程。您还将体验探索日志应用程序的强大功能，以快速浏览大量日志数据，并了解如何从日志模式中发现有价值的见解。&lt;/p&gt;&lt;p&gt;&lt;em&gt;注意：参加研讨会需要&lt;a href="/events/observabilitycon/2024/workshops/?pg=blog&amp;amp;plcmt=body-txt"&gt;单独的门票&lt;/a&gt;，并且只能与完整的会议门票一起购买。&lt;/em&gt;&lt;/p&gt;&lt;p&gt;想要详细了解 ObservabilityCON 2024 的总体议程吗？敬请关注！我们很快就会为您提供更多详细信息。&lt;/p&gt;&lt;h3 id="justify-your-trip"&gt;证明你的旅行合理&lt;/h3&gt;&lt;p&gt;我们知道您的时间很宝贵 - 这就是为什么您的经理在批准您参加之前可能会询问您将从 ObservabilityCON 2024 中获得什么。&lt;/p&gt;&lt;p&gt;我们相信您在结束活动时会得到实用的建议，您可以将这些建议应用到您的工作中，并在第二天与您的团队分享。除了提高您的技术技能之外，您还将学习可以推动真正业务影响的可观察性策略，帮助提高组织的客户满意度。&lt;/p&gt;&lt;p&gt;但不要相信我们的话——看看&lt;a href="/blog/2023/02/09/inside-observabilitycon-i-picked-up-so-much-practical-information/"&gt;一位工程师对参加 ObservabilityCON 的评价&lt;/a&gt;。如果您需要更多帮助来证明您的旅行合理性，您可以将这封&lt;a href="/events/observabilitycon/2024/justify-your-attendance/?pg=blog&amp;amp;plcmt=body-txt"&gt;准备好的信件&lt;/a&gt;发送给您的经理，其中概述了参加 ObservabilityCON 2024 的成本和收益。&lt;/p&gt;&lt;p&gt;我们迫不及待地想在九月见到您！&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="/about/events/observabilitycon/2024/?pg=blog&amp;amp;plcmt=body-txt"&gt;ObservabilityCON 2024&lt;/a&gt;倒计时已正式开始！我们一定会及时向您通报所有最新动态。如果您想探索其他即将举行的活动（无论是现场活动还是虚拟活动），请查看&lt;a href="/events/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Labs 活动页面&lt;/a&gt;。&lt;/em&gt;&lt;/p&gt;</description><pubDate>Wed, 26 Jun 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/06/26/observabilitycon-2024-register-and-reserve-your-spot-today/</guid></item><item><title>【Grafana 11.1 release: new visualization features, Grafana Alerting updates, and more】</title><link>https://grafana.com/blog/2024/06/25/grafana-11.1-release-new-visualization-features-grafana-alerting-updates-and-more/</link><description>&lt;p&gt;Grafana 11.1 次要版本是在 GrafanaCON 上发布&lt;a href="https://www.youtube.com/watch?v=96ZXShRyMB8" rel="noopener noreferrer" target="_blank"&gt;Grafana 11&lt;/a&gt;之后发布的，但它包含了一些易用性可视化改进、Grafana 警报更新（我发现了一个新的设置页面），以及对 Grafana 整体可访问性的一些有影响力的更改。&lt;/p&gt;&lt;div class="btn-row "&gt; &lt;a class="btn btn--primary " href="https://grafana.com/grafana/download/11.1.0/?pg=blog&amp;amp;plcmt=body-txt-btn" rel="noopener noreferrer"&gt;Grafana 11.1：立即下载！&lt;/a&gt;&lt;/div&gt;&lt;div class="shortcode youtube"&gt;&lt;/div&gt;&lt;p&gt;有关此版本中所有更改的更多详细信息，请参阅&lt;a href="https://github.com/grafana/grafana/blob/main/CHANGELOG.md" rel="noopener noreferrer" target="_blank"&gt;更改日志&lt;/a&gt;或&lt;a href="https://grafana.com/docs/grafana/latest/whatsnew/whats-new-in-v11-1/?pg=blog&amp;amp;plcmt=body-txt"&gt;新增功能文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="new-in-grafana-dashboards-and-visualizations"&gt; Grafana 仪表板和可视化中的新增功能&lt;/h2&gt;&lt;h3 id="text-wrapping-in-table-panel"&gt;表格面板中的文本换行&lt;/h3&gt;&lt;p&gt;&lt;em&gt;在所有版本的 Grafana 中提供公共预览版&lt;/em&gt;&lt;/p&gt;&lt;p&gt;Grafana 社区中最受欢迎的功能之一就在这里！我们在&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/table/?pg=blog&amp;amp;plcmt=body-txt"&gt;表格面板&lt;/a&gt;的单元格内启用了文本换行，使复杂的长行文本更易于阅读，而无需滚动屏幕或扩大列大小。&lt;/p&gt;&lt;p&gt;默认情况下，将选择具有最长文本的列进行换行。或者，您可以使用字段覆盖手动配置换行。&lt;/p&gt;&lt;div class="shortcode youtube"&gt;&lt;/div&gt;&lt;h3 id="customize-percent-change-colors-in-stat-panels"&gt;自定义统计面板中的百分比变化颜色&lt;/h3&gt;&lt;p&gt;&lt;em&gt;在 Grafana 的所有版本中普遍可用&lt;/em&gt;&lt;/p&gt;&lt;p&gt;在&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/stat/?pg=blog&amp;amp;plcmt=body-txt"&gt;统计可视化&lt;/a&gt;中，百分比变化的标准行为是以绿色显示正变化，以红色显示负变化。但是，根据您的用例，我们意识到您可能想要自定义表示百分比变化的颜色。现在，您可以选择&lt;strong&gt;反转&lt;/strong&gt;百分比变化颜色，以红色显示正变化，以绿色显示负变化。您还可以选择&lt;strong&gt;与 value 相同&lt;/strong&gt;，这将使百分比变化统计数据与其关联值的颜色相匹配。&lt;/p&gt;&lt;div class="shortcode youtube"&gt;&lt;/div&gt;&lt;h3 id="visualize-x-and-y-values-in-the-xy-chart"&gt;在 XY 图表中可视化 x 和 y 值&lt;/h3&gt;&lt;p&gt;&lt;em&gt;在 Grafana 的所有版本中普遍可用&lt;/em&gt;&lt;/p&gt;&lt;p&gt;XY 图表（现已在 Grafana 11.1 中普遍提供）可帮助您在图表中可视化任意 x 和 y 值，以便您可以轻松显示两个变量之间的关系。 XY 图表通常用于创建散点图，但您也可以使用它们来创建气泡图，其中字段值决定每个气泡的大小。&lt;/p&gt;&lt;div class="shortcode youtube"&gt;&lt;/div&gt;&lt;p&gt;要了解有关该面板的更多信息，请参阅&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/xy-chart/?pg=blog&amp;amp;plcmt=body-txt"&gt;我们的 XY 图表文档&lt;/a&gt;。要使用新的 XY 图表可视化效果，您必须首先启用&lt;code&gt;autoMigrateXYChartPanel&lt;/code&gt; &lt;a href="https://grafana.com/docs/grafana/latest/setup-grafana/configure-grafana/feature-toggles/?pg=blog&amp;amp;plcmt=body-txt"&gt;功能切换&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;您还可以参考我们的&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 可视化&lt;/a&gt;文档以了解有关这些可视化功能的更多信息。&lt;/p&gt;&lt;h2 id="grafana-alerting-new-and-improved-features"&gt; Grafana 警报：新功能和改进功能&lt;/h2&gt;&lt;h3 id="new-holistic-view-of-grafana-managed-alert-instances"&gt;Grafana 管理的警报实例的新整体视图&lt;/h3&gt;&lt;p&gt;&lt;em&gt;在 Grafana 的所有版本中普遍可用&lt;/em&gt;&lt;/p&gt;&lt;p&gt;重新设计的设置页面为您提供了 Grafana 管理的警报实例转发位置的整体视图，这使您可以：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;管理哪些警报管理器从 Grafana 管理的规则接收警报实例，而无需导航和编辑数据源。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;管理内置Alertmanager的版本快照，允许管理员回滚Alertmanager配置中无意的更改或错误。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用视觉差异将历史快照与最新配置进行比较，以查看进行了哪些更改。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/docs/alerting/alert-settings.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/docs/alerting/alert-settings.png"data-srcset="/media/docs/alerting/alert-settings.png?w=320 320w, /media/docs/alerting/alert-settings.png?w=550 550w, /media/docs/alerting/alert-settings.png?w=750 750w, /media/docs/alerting/alert-settings.png?w=900 900w, /media/docs/alerting/alert-settings.png?w=1040 1040w, /media/docs/alerting/alert-settings.png?w=1240 1240w, /media/docs/alerting/alert-settings.png?w=1920 1920w"
data-sizes="auto"alt="警报设置页面"
width="1342"
height="1106"
/&gt; &lt;noscript&gt;&lt;img
src="/media/docs/alerting/alert-settings.png"
alt="警报设置页面"
width="1342"
height="1106"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="alert-templates-for-notification-messages"&gt;通知消息的警报模板&lt;/h3&gt;&lt;p&gt;&lt;em&gt;在 Grafana 的所有版本中普遍可用&lt;/em&gt;&lt;/p&gt;&lt;p&gt;通过在“联系点”表单中添加模板选择器，警报模板选择器使您能够轻松选择要在警报通知消息中使用的模板。&lt;/p&gt;&lt;p&gt;您可以从现有模板中进行选择，也可以根据您的特定需求输入自定义模板。为了让事情变得更容易，您可以在两个选项卡之间切换以访问可用模板列表并将它们复制到自定义版本。&lt;/p&gt;&lt;h3 id="oauth2-authentication-for-alertmanager-or-grafana-mimir"&gt; Alertmanager 或 Grafana Mimir 的 OAuth2 身份验证&lt;/h3&gt;&lt;p&gt;&lt;em&gt;在 Grafana 的所有版本中普遍可用&lt;/em&gt;&lt;/p&gt;&lt;p&gt;在 Grafana 11.1 中，您可以通过用户界面为任何 Alertmanager 或 Mimir 接收器（在 Grafana 中称为“接触点”）配置 OAuth2 身份验证。&lt;/p&gt;&lt;p&gt;&lt;em&gt;注意：Grafana 内置 Alertmanager&lt;strong&gt;未&lt;/strong&gt;实现 OAuth2。&lt;/em&gt;&lt;/p&gt;&lt;h3 id="improved-paused-alert-visibility"&gt;改进了暂停警报的可见性&lt;/h3&gt;&lt;p&gt;&lt;em&gt;在 Grafana 的所有版本中普遍可用&lt;/em&gt;&lt;/p&gt;&lt;p&gt;直接从警报规则列表和详细信息视图暂停和恢复警报规则评估。通过显示“已暂停”作为警报规则状态，有助于提高警报规则何时暂停的可见性。&lt;/p&gt;&lt;h3 id="rule-specific-silences-with-permissions"&gt;具有权限的规则特定沉默&lt;/h3&gt;&lt;p&gt;&lt;em&gt;在 Grafana 的所有版本中普遍可用&lt;/em&gt;&lt;/p&gt;&lt;p&gt;现在，您可以直接从警报规则列表视图或详细信息页面轻松创建警报静音。这些特定于规则的静默保证仅适用于单个规则，并且读取、创建、更新或删除的权限与用户对该规则的权限相关联。&lt;/p&gt;&lt;h3 id="rule-specific-silences-with-rbac"&gt;使用 RBAC 进行规则特定的沉默&lt;/h3&gt;&lt;p&gt;&lt;em&gt;在 Grafana Enterprise 和 Grafana Cloud 中普遍可用&lt;/em&gt;&lt;/p&gt;&lt;p&gt;通过基于角色的访问控制 (RBAC) 管理静默。除了&lt;strong&gt;具有权限的规则特定静默&lt;/strong&gt;中的 Grafana 开源功能外，您还可以使用以下权限选择谁可以创建、编辑和读取静默：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;p&gt;具有&lt;strong&gt;alert.silences:create 权限&lt;/strong&gt;（范围在文件夹内）的用户能够为该文件夹及其子文件夹中包含的规则创建静默。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;具有&lt;strong&gt;alert.silences:read 权限&lt;/strong&gt;（范围在文件夹内）的用户能够读取该文件夹及其子文件夹中包含的规则的静默以及一般静默。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;具有&lt;strong&gt;alert.silences:write 权限&lt;/strong&gt;（范围在文件夹内）的用户能够使该文件夹及其子文件夹中包含的规则过期并重新创建静默。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id="accessibility-improvements-in-grafana"&gt; Grafana 的辅助功能改进&lt;/h2&gt;&lt;p&gt;Grafana 团队致力于改进我们的用户界面和整体体验，以便我们的产品可供所有人使用和访问。在 Grafana 11.1 中，我们很自豪能够在 Grafana 的所有版本中普遍提供以下功能。 &lt;/p&gt;&lt;div class="shortcode youtube"&gt;&lt;iframe src="https://www.youtube.com/embed/Tc0pTXtCsKQ" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="Youtube 视频"&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;h3 id="geomap-keyboard-support"&gt;地理地图键盘支持&lt;/h3&gt;&lt;p&gt;&lt;a href="/docs/grafana/latest/panels-visualizations/visualizations/geomap/?pg=blog&amp;amp;plcmt=body-txt"&gt;地理地图面板&lt;/a&gt;现在可以通过键盘使用！聚焦地图区域，使用箭头键移动并使用&lt;code&gt;+&lt;/code&gt;和&lt;code&gt;-&lt;/code&gt;放大和缩小。&lt;/p&gt;&lt;h3 id="panel-shortcut-keyboard-support"&gt;面板快捷键键盘支持&lt;/h3&gt;&lt;p&gt;我们有&lt;a href="/docs/grafana/latest/dashboards/use-dashboards/?pg=blog&amp;amp;plcmt=body-txt#keyboard-shortcuts"&gt;面板快捷方式&lt;/a&gt;，以前只能在您将鼠标悬停在其上的面板上使用。现在它还考虑了键盘焦点。&lt;/p&gt;&lt;h3 id="heading-improvements"&gt;标题改进&lt;/h3&gt;&lt;p&gt;大多数屏幕阅读器用户&lt;a href="https://webaim.org/projects/screenreadersurvey10/#finding" target="_blank" rel="noopener noreferrer"&gt;使用标题在网页上查找内容&lt;/a&gt;。最近，我们在某些地方添加了缺失的标题并更正了标题级别，尤其是面板标题。&lt;/p&gt;&lt;h3 id="reduced-motion-support"&gt;减少运动支撑&lt;/h3&gt;&lt;p&gt;受到网站上大量动画影响的用户可以配置&lt;a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-reduced-motion" target="_blank" rel="noopener noreferrer"&gt;减少运动设置&lt;/a&gt;。 Grafana 现在支持这一点，要么使动画更简单，要么完全删除它们。我们&lt;a href="https://github.com/grafana/grafana/tree/main/packages/grafana-eslint-rules#no-unreduced-motion" target="_blank" rel="noopener noreferrer"&gt;实施了一项规则&lt;/a&gt;，禁止未处理的过渡和动画，确保我们能够持续支持减少运动。&lt;/p&gt;&lt;h2 id="learn-more-about-grafana-111"&gt;了解有关 Grafana 11.1 的更多信息&lt;/h2&gt;&lt;p&gt;有关 Grafana 11.1 中所有新功能的列表，请查看我们的&lt;a href="/docs/grafana/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 文档&lt;/a&gt;、Grafana &lt;a href="https://github.com/grafana/grafana/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer"&gt;变更日志&lt;/a&gt;或我们的&lt;a href="/docs/grafana/latest/whatsnew/whats-new-in-v11-1/?pg=blog&amp;amp;plcmt=body-txt"&gt;新增功能文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="join-the-grafana-labs-community"&gt;加入 Grafana 实验室社区&lt;/h2&gt;&lt;p&gt;我们邀请您参与 Grafana Labs&lt;a href="https://community.grafana.com/" target="_blank" rel="noopener noreferrer"&gt;社区论坛&lt;/a&gt;。分享您使用新功能的体验，讨论最佳实践，并探索将这些更新集成到您的工作流程中的创造性方法。您的见解和用例对于丰富 Grafana 生态系统非常宝贵。&lt;/p&gt;&lt;h2 id="upgrade-to-grafana-111"&gt;升级到 Grafana 11.1&lt;/h2&gt;&lt;p&gt;立即&lt;a href="/grafana/download/11.1.0/?pg=blog&amp;amp;plcmt=body-txt"&gt;下载 Grafana 11.1&lt;/a&gt;或通过注册&lt;a href="/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;来尝试所有新功能，它提供了实际有用的云免费套餐和针对每个用例的计划。立即注册&lt;a href="/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;免费的 Grafana Cloud 帐户&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;我们的&lt;a href="/docs/grafana/latest/upgrade-guide/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 升级指南&lt;/a&gt;还为那些希望从早期版本升级的用户提供分步说明，以确保顺利过渡。&lt;/p&gt;&lt;h2 id="a-special-thanks-to-our-community"&gt;特别感谢我们的社区&lt;/h2&gt;&lt;p&gt;我们向&lt;a href="/blog/2023/12/12/the-story-of-grafana-documentary-the-community-behind-the-code/"&gt;Grafana 社区&lt;/a&gt;表示衷心的感谢！&lt;/p&gt;&lt;p&gt;您的贡献，从拉取请求到有价值的反馈，对于不断增强 Grafana 至关重要。您的热情和奉献精神激励我们 Grafana Labs 不断创新和提升 Grafana。&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的云免费套餐和计划。&lt;a href="/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Tue, 25 Jun 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/06/25/grafana-11.1-release-new-visualization-features-grafana-alerting-updates-and-more/</guid></item><item><title>【Grafana Cloud updates: new visualization options, performance test analysis, Grafana Alerting improvements, and more】</title><link>https://grafana.com/blog/2024/06/24/grafana-cloud-updates-new-visualization-options-performance-test-analysis-grafana-alerting-improvements-and-more/</link><description>&lt;p&gt;我们不断在 Grafana Cloud 中推出有用的更新和有趣的功能，这是我们完全托管的可观测性平台，由开源 Grafana LGTM Stack（用于日志的&lt;a href="https://grafana.com/oss/loki/?pg=blog&amp;amp;plcmt=body-txt"&gt;Loki&lt;/a&gt; 、用于可视化的&lt;a href="https://grafana.com/oss/grafana/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana&lt;/a&gt; 、用于跟踪的&lt;a href="https://grafana.com/oss/tempo/?pg=blog&amp;amp;plcmt=body-txt"&gt;Tempo&lt;/a&gt;和用于指标的&lt;a href="https://grafana.com/oss/mimir/?pg=blog&amp;amp;plcmt=body-txt"&gt;Mimir&lt;/a&gt; ）提供支持。&lt;/p&gt;&lt;p&gt;如果您错过了，这里汇总了本月 Grafana Cloud 的最新、最精彩的更新。您还可以&lt;a href="https://grafana.com/docs/grafana-cloud/whats-new/?pg=blog&amp;amp;plcmt=body-txt"&gt;在 Grafana Cloud 文档新增功能&lt;/a&gt;中了解我们添加到 Grafana Cloud 的所有功能。&lt;/p&gt;&lt;p&gt;如果您还不是 Grafana Cloud 用户，&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;请&lt;/a&gt;立即注册一个帐户！您可以通过我们慷慨的免费云计划免费尝试这些功能（以及更多）。&lt;/p&gt;&lt;h2 id="data-visualization-enhancements"&gt;数据可视化增强&lt;/h2&gt;&lt;p&gt;我们一直在探索新的、创造性的方法来帮助您可视化数据并从数据中获得有意义的见解。本月，我们很高兴与大家分享我们对 Grafana Cloud 中的数据可视化体验所做的一些小（但有用）更新。&lt;/p&gt;&lt;h3 id="customize-percent-change-colors"&gt;自定义百分比变化颜色&lt;/h3&gt;&lt;p&gt;在&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/stat/"&gt;统计可视化&lt;/a&gt;中，百分比变化的标准行为是以绿色显示正变化，以红色显示负变化。但是，根据您的使用案例，我们意识到您可能想要自定义这些百分比变化颜色。现在，您可以选择反转百分比变化颜色，以红色显示正变化，以绿色显示负变化。您还可以选择让百分比变化颜色与其关联值的颜色相匹配。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/docs/grafana/gif-grafana-11-1-stat-percent-change-color-options.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="显示颜色变化百分比的 gif。" class="lazyload " height="990" width="1920" /&gt;&lt;noscript&gt;&lt;img alt="显示颜色变化百分比的 gif。" height="990" src="https://grafana.com/media/docs/grafana/gif-grafana-11-1-stat-percent-change-color-options.gif" width="1920" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="wrap-text-within-cells"&gt;在单元格内换行文本&lt;/h3&gt;&lt;p&gt;我们从用户那里听到的最常见的请求之一是在&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/table/"&gt;表格面板&lt;/a&gt;的单元格内启用文本换行。随着 Grafana 11.1 的发布，我们添加了这一期待已久的功能！&lt;/p&gt;&lt;p&gt;默认情况下，将选择具有最长文本的列进行换行。或者，您可以使用字段覆盖手动配置换行。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/docs/grafana/gif-grafana-11-1-text-wrapping.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="" class="lazyload " height="311" width="600" /&gt;&lt;noscript&gt;&lt;img alt="" height="311" src="https://grafana.com/media/docs/grafana/gif-grafana-11-1-text-wrapping.gif" width="600" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="visualize-x-and-y-values-in-the-xy-chart"&gt;在 XY 图表中可视化 x 和 y 值&lt;/h3&gt;&lt;p&gt;XY 图表（我们正式将其从公共预览版升级为通用版本）可帮助您在图表中可视化任意 x 和 y 值，以便您可以轻松显示两个变量之间的关系。 XY 图表通常用于创建散点图，但您也可以使用它们来创建气泡图，其中字段值决定每个气泡的大小。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png"data-srcset="/media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png?w=320 320w, /media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png?w=550 550w, /media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png?w=750 750w, /media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png?w=900 900w, /media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png?w=1040 1040w, /media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png?w=1240 1240w, /media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png?w=1920 1920w"
data-sizes="auto"alt="XY 图表的屏幕截图。"
width="2858"
height="914"
/&gt; &lt;noscript&gt;&lt;img
src="/media/docs/grafana/panels-visualizations/screenshot-xy-charts-v11.0.png"
alt="XY 图表的屏幕截图。"
width="2858"
height="914"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;请参阅我们的技术文档，了解有关&lt;a href="/docs/grafana/latest/panels-visualizations/visualizations/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud 可视化的&lt;/a&gt;更多信息。&lt;/p&gt;&lt;h2 id="streaming-query-results-for-grafana-cloud-traces"&gt; Grafana Cloud Traces 的流式查询结果&lt;/h2&gt;&lt;p&gt;&lt;a href="/products/cloud/traces/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud Traces&lt;/a&gt;用户现在可以在 TraceQL 查询进入时获取部分结果，而不必等待所有结果立即返回。这使您可以立即开始查看与查询匹配的跟踪，从而加快根本原因分析。 &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 600px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/grafana-cloud-updates-june-2024/cloud-traces-streaming-query-results-gif.gif"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/grafana-cloud-updates-june-2024/cloud-traces-streaming-query-results-gif.gif"alt="显示流式查询结果功能的 gif。"
width="600"
height="579"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/grafana-cloud-updates-june-2024/cloud-traces-streaming-query-results-gif.gif"
alt="显示流式查询结果功能的 gif。"
width="600"
height="579"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;要了解有关 Grafana Cloud Traces 的更多信息，请查看我们的&lt;a href="/docs/grafana-cloud/send-data/traces/traces-query-editor/traceql-search/?pg=blog&amp;amp;plcmt=body-txt/#streaming-results"&gt;技术文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="performance-test-analysis-with-cloud-insights-in-grafana-cloud-k6"&gt;在 Grafana Cloud k6 中使用 Cloud Insights 进行性能测试分析&lt;/h2&gt;&lt;p&gt;性能测试的真正价值不在于测试本身，而在于能够从结果中分析并得出结论。然而，鉴于当今的系统日益复杂，这并不总是那么容易。当测试中出现问题时，查找根本原因可能会很困难且耗时。&lt;/p&gt;&lt;p&gt;我们的目标是通过&lt;a href="/products/cloud/k6//?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud k6&lt;/a&gt;中的 Cloud Insights 解决这些挑战。 Cloud Insights 分析测试运行期间生成的遥测数据（例如指标、日志和跟踪），以自动识别您正在测试的系统中的问题并提供修复建议。这可以帮助您和您的团队节省时间并更快地确定根本原因。&lt;/p&gt;&lt;p&gt;要使用 Cloud Insights，请在&lt;strong&gt;测试与合成 &amp;gt; 性能的&lt;/strong&gt;Beta 功能模式窗口中启用它。有关更多信息，请参阅&lt;a href="/docs/grafana-cloud/testing/k6/analyze-results/get-cloud-insights/?pg=blog&amp;amp;plcmt=body-txt"&gt;Cloud Insights 文档&lt;/a&gt;。 &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 600px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/grafana-cloud-updates-june-2024/cloud-insights-grafana-k6-gif.gif"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/grafana-cloud-updates-june-2024/cloud-insights-grafana-k6-gif.gif"alt=""
width="600"
height="338"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/grafana-cloud-updates-june-2024/cloud-insights-grafana-k6-gif.gif"
alt=""
width="600"
height="338"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="logs-filtering-and-pinning-in-grafana-explore"&gt; Grafana Explore 中的日志过滤和固定&lt;/h2&gt;&lt;p&gt;&lt;a href="/docs/grafana/latest/explore/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Explore&lt;/a&gt;现在支持日志过滤和固定在&lt;a href="/docs/grafana/latest/explore/?pg=blog&amp;amp;plcmt=body-txt/#content-outline"&gt;内容大纲&lt;/a&gt;中，这是一个侧面导航栏，可跟踪您创建的查询和可视化面板。所有日志级别现在都自动在内容大纲中可用。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;过滤日志&lt;/strong&gt;：您现在可以按日志级别进行过滤，目前 Elasticsearch 和 Loki 数据源支持此功能。要选择多个过滤器，请在单击时按住 Mac 上的 Command 键或 Windows 上的 Control 键。&lt;/p&gt;&lt;p&gt;&lt;strong&gt;固定日志&lt;/strong&gt;：您还可以将日志固定到内容大纲，以便在调查期间轻松访问它们以供参考。要固定日志，请将鼠标悬停在日志面板中的日志上，然后单击日志行菜单中的&lt;strong&gt;固定到内容大纲&lt;/strong&gt;图标。单击固定的日志将打开日志上下文模式，显示该日志在上下文中与其他日志一起突出显示。从这里，您还可以以拆分模式打开日志，以保留左窗格中的时间范围，同时在右窗格中保留特定于该日志的时间范围。&lt;/p&gt;&lt;p&gt;您可以在我们的&lt;a href="/docs/grafana/latest/explore/?pg=blog&amp;amp;plcmt=body-txt"&gt;技术文档&lt;/a&gt;中阅读有关 Grafana Explore 的更多信息。&lt;/p&gt;&lt;h2 id="private-source-map-uploads-in-grafana-cloud-frontend-observability"&gt; Grafana Cloud Frontend Observability 中的私有源地图上传&lt;/h2&gt;&lt;p&gt;本月，我们在&lt;a href="/products/cloud/frontend-observability-for-real-user-monitoring/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud Frontend Observability&lt;/a&gt;中引入了私有源地图上传，这是我们用于真实用户监控 (RUM) 的托管服务，可提供有关最终用户体验的可行见解。借助这项新功能，前端可观察性现在可以使用源映射将来自 JavaScript 浏览器错误的堆栈跟踪转换回其原始表示形式。这样，您就可以看到导致问题的确切代码行。&lt;/p&gt;&lt;p&gt;在推出此功能之前，源地图必须在互联网上公开可用，以便 Grafana Cloud 获取它们。对于许多用户来说，这并不理想，因为这意味着他们需要公开他们的一些 IP。现在，前端可观察性为想要缩小错误堆栈跟踪同时保持源映射私有的用户提供了一个选项。&lt;/p&gt;&lt;p&gt;只需将&lt;a href="/docs/grafana-cloud/monitor-applications/frontend-observability/sourcemap-upload-plugins/?pg=blog&amp;amp;plcmt=body-txt"&gt;新发布的 JavaScript 捆绑器插件&lt;/a&gt;包含到您的构建管道中，输入前端可观察性插件应用程序提供的一些配置上下文，您将能够看到完整的错误堆栈跟踪，而无需与应用程序包一起公开托管源映射。&lt;/p&gt;&lt;p&gt;要了解更多信息，请参阅我们的&lt;a href="/docs/grafana-cloud/monitor-applications/frontend-observability/sourcemap-upload-plugins/?pg=blog&amp;amp;plcmt=body-txt"&gt;前端可观察性文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="grafana-alerting-improvements"&gt; Grafana 警报改进&lt;/h2&gt;&lt;p&gt;我们对 Grafana Alerting 进行了多项更新，包括管理静音的新选项以及为警报通知消息选择模板的更简单方法。&lt;/p&gt;&lt;h3 id="rule-specific-silences-with-rbac"&gt;使用 RBAC 进行规则特定的沉默&lt;/h3&gt;&lt;p&gt;您现在可以使用以下权限选择谁可以创建、编辑和阅读静音：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;具有&lt;code&gt;alert.silences:create&lt;/code&gt;权限（范围在文件夹内）的用户能够为该文件夹及其子文件夹中包含的规则创建静默。&lt;/li&gt;&lt;li&gt;具有&lt;code&gt;alert.silences:read&lt;/code&gt;权限（范围在文件夹内）的用户能够读取该文件夹及其子文件夹中包含的规则的静默以及一般静默。&lt;/li&gt;&lt;li&gt;具有&lt;code&gt;alert.silences:write&lt;/code&gt;权限（范围在文件夹内）的用户能够使该文件夹及其子文件夹中包含的规则过期并重新创建静默。&lt;/li&gt;&lt;/ul&gt;&lt;h3 id="rule-specific-silences-with-permissions"&gt;具有权限的规则特定沉默&lt;/h3&gt;&lt;p&gt;更轻松地直接从&lt;strong&gt;警报规则列表&lt;/strong&gt;视图或&lt;strong&gt;详细信息&lt;/strong&gt;页面创建静默。这些特定于规则的静默保证仅适用于单个规则，并且读取、创建、更新或删除的权限与用户对该规则的权限相关联。&lt;/p&gt;&lt;h3 id="alerting-template-selector"&gt;警报模板选择器&lt;/h3&gt;&lt;p&gt;现在，您可以通过在&lt;strong&gt;“联系点”&lt;/strong&gt;表单中添加模板选择器来轻松选择要在警报通知消息中使用的模板。从现有模板中进行选择或根据您的特定需求自定义一个模板。您可以在两个选项卡之间切换以访问可用模板列表并将它们复制到自定义版本。&lt;/p&gt;&lt;p&gt;要了解有关在 Grafana Cloud 中设置警报的更多信息，请参阅我们的&lt;a href="/docs/grafana/latest/alerting/?pg=blog&amp;amp;plcmt=body-txt"&gt;技术文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="new-integrations-catchpoint"&gt;新集成：Catchpoint&lt;/h2&gt;&lt;p&gt;您现在可以&lt;a href="/solutions/catchpoint/monitor/?pg=blog&amp;amp;plcmt=body-txt"&gt;轻松监控 Catchpoint&lt;/a&gt; ，这是一个数字体验平台，可在 Grafana Cloud 中实时洞察网站、应用程序和基础设施的性能和可用性。该集成包括&lt;a href="/docs/grafana-cloud/monitor-infrastructure/integrations/integration-reference/integration-catchpoint/?pg=blog&amp;amp;plcmt=body-txt/#alerts"&gt;五个有用的警报&lt;/a&gt;和&lt;a href="/docs/grafana-cloud/monitor-infrastructure/integrations/integration-reference/integration-catchpoint/#dashboards"&gt;三个预构建的仪表板，&lt;/a&gt;以帮助监控和可视化 Catchpoint 指标。&lt;/p&gt;&lt;p&gt;此外，我们还引入了&lt;a href="/docs/plugins/grafana-catchpoint-datasource/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Catchpoint Enterprise 数据源插件&lt;/a&gt;，它允许您从 Grafana 中查询和可视化&lt;code&gt;Tests&lt;/code&gt; 、 &lt;code&gt;RUM&lt;/code&gt;和&lt;code&gt;SLO&lt;/code&gt;数据。&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册！&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;</description><pubDate>Mon, 24 Jun 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/06/24/grafana-cloud-updates-new-visualization-options-performance-test-analysis-grafana-alerting-improvements-and-more/</guid></item><item><title>【Shorten your feedback loop: Java observability with OpenTelemetry, Grafana Cloud, and Digma.ai】</title><link>https://grafana.com/blog/2024/06/21/shorten-your-feedback-loop-java-observability-with-opentelemetry-grafana-cloud-and-digma.ai/</link><description>&lt;p&gt;&lt;em&gt;Ron Dover 是&lt;a href="http://digma.ai" rel="noopener noreferrer" target="_blank"&gt;Digma.ai&lt;/a&gt;的首席技术官兼联合创始人，Digma.ai 是一个用于代码运行时 AI 分析的 IDE 插件，可帮助加速复杂代码库的开发。 Ron 是循证开发的坚定拥护者，也是软件工程各个方面持续反馈的支持者。&lt;/em&gt;&lt;/p&gt;&lt;p&gt;传统上，软件开发人员依赖简单的日志来了解代码执行和解决问题。指标、跟踪、仪表板和仪表主要属于 IT 和基础设施团队的领域，这使得开发人员对其应用程序性能的了解有限。这种职责划分通常意味着开发人员只能在出现问题时被动地使用可观察性工具。&lt;/p&gt;&lt;p&gt;随着现代可观测性解决方案的出现，情况正在发生变化。 &lt;a href="https://grafana.com/oss/opentelemetry/?pg=blog&amp;amp;plcmt=body-txt"&gt;OpenTelemetry&lt;/a&gt;等工具简化了 Java 应用程序的跟踪，Grafana 等平台提供了更清晰的应用程序性能视图，使可观察性对开发人员更加友好。此外，像&lt;a href="http://digma.ai" rel="noopener noreferrer" target="_blank"&gt;Digma.ai&lt;/a&gt;这样的专业工具正在弥合仪表板和日常编码工作流程之间的差距，使开发人员能够在整个开发生命周期中主动利用可观察性。&lt;/p&gt;&lt;p&gt;但这在实践中是如何运作的呢？如果可观察性所做的只是聚合数据，那么它对任何人都没有任何好处。因此，我们在本博客中的目标将是演示开发人员如何通过&lt;strong&gt;缩短反馈循环&lt;/strong&gt;将可观察性付诸实际应用。具体来说，我们希望缩短从引入错误或问题到开发人员意识到问题及其根源之间的持续时间。&lt;/p&gt;&lt;h2 id="connecting-a-java-app-to-grafana-cloud-and-digmaai"&gt;将 Java 应用程序连接到 Grafana Cloud 和 Digma.ai&lt;/h2&gt;&lt;p&gt;对于我们的示例场景，我们将示例 Spring Boot 应用程序连接到&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt; 。我们还将使用 Digma.ai，这是一种持续反馈工具，可以直接在 IDE 中分析应用程序跟踪。为了让这更有趣，我们将使用一种名为&lt;a href="https://grafana.com/oss/alloy-opentelemetry-collector/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Alloy 的&lt;/a&gt;新技术，这是一种基于组件且易于使用的&lt;a href="https://opentelemetry.io/docs/collector/" rel="noopener noreferrer" target="_blank"&gt;OpenTelemetry Collector 开源发行版。&lt;/a&gt;使用 Alloy 是配置我们要收集哪些数据以及要将数据发送到何处的简单方法。完整的管道将如下所示：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/java-digma/java-workflow.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/java-workflow.png"data-srcset="/media/blog/java-digma/java-workflow.png?w=320 320w, /media/blog/java-digma/java-workflow.png?w=550 550w, /media/blog/java-digma/java-workflow.png?w=750 750w, /media/blog/java-digma/java-workflow.png?w=900 900w, /media/blog/java-digma/java-workflow.png?w=1040 1040w, /media/blog/java-digma/java-workflow.png?w=1240 1240w, /media/blog/java-digma/java-workflow.png?w=1920 1920w"
data-sizes="auto"alt="工作流程图"
width="1462"
height="464"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/java-workflow.png"
alt="工作流程图"
width="1462"
height="464"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;此示例的代码位于&lt;a href="https://github.com/doppleware/spring-petclinic-cf" target="_blank" rel="noopener noreferrer"&gt;此 GitHub 存储库&lt;/a&gt;中。&lt;/p&gt;&lt;h2 id="how-to-connect-your-java-app-to-grafana-cloud"&gt;如何将 Java 应用程序连接到 Grafana Cloud&lt;/h2&gt;&lt;p&gt;您需要一个 Grafana Cloud 帐户才能开始。如果您还没有，您可以使用此&lt;a href="/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;链接&lt;/a&gt;注册免费套餐（大约需要五秒钟）。&lt;/p&gt;&lt;p&gt;完成后，我们需要获取大量输入来继续我们的设置并将数据发送到新创建的应用程序可观察性实例！在 Grafana 主页上，单击 OpenTelemetry 框中的&lt;strong&gt;配置&lt;/strong&gt;按钮： &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 502px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/otel-configure.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/otel-configure.png"data-srcset="/media/blog/java-digma/otel-configure.png?w=320 320w, /media/blog/java-digma/otel-configure.png?w=550 550w, /media/blog/java-digma/otel-configure.png?w=750 750w, /media/blog/java-digma/otel-configure.png?w=900 900w, /media/blog/java-digma/otel-configure.png?w=1040 1040w, /media/blog/java-digma/otel-configure.png?w=1240 1240w, /media/blog/java-digma/otel-configure.png?w=1920 1920w"
data-sizes="auto"alt="OpenTelemetry 配置按钮"
width="502"
height="148"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/otel-configure.png"
alt="OpenTelemetry 配置按钮"
width="502"
height="148"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;在 OTel 页面中，我们需要复制稍后需要的一些参数，如下面的屏幕截图所示： &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 926px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/otlp-endpoint.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/otlp-endpoint.png"data-srcset="/media/blog/java-digma/otlp-endpoint.png?w=320 320w, /media/blog/java-digma/otlp-endpoint.png?w=550 550w, /media/blog/java-digma/otlp-endpoint.png?w=750 750w, /media/blog/java-digma/otlp-endpoint.png?w=900 900w, /media/blog/java-digma/otlp-endpoint.png?w=1040 1040w, /media/blog/java-digma/otlp-endpoint.png?w=1240 1240w, /media/blog/java-digma/otlp-endpoint.png?w=1920 1920w"
data-sizes="auto"alt="OTLP 端点菜单"
width="926"
height="565"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/otlp-endpoint.png"
alt="OTLP 端点菜单"
width="926"
height="565"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;ol&gt;&lt;li&gt; &lt;strong&gt;OTLP 端点&lt;/strong&gt;：我们将把所有应用程序可观察性发送到该目的地。&lt;/li&gt;&lt;li&gt; &lt;strong&gt;Grafana 实例 ID&lt;/strong&gt;&lt;/li&gt;&lt;li&gt;创建一个&lt;strong&gt;API 令牌&lt;/strong&gt;，稍后我们将在连接到 Grafana Cloud 实例时使用它。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;将这些值复制到安全的地方；我们将在稍后的设置中使用它们。&lt;/p&gt;&lt;h3 id="start-and-configure-the-grafana-alloy-container"&gt;启动并配置 Grafana Alloy 容器&lt;/h3&gt;&lt;p&gt;Grafana Alloy 容器将充当我们的可观测性“路由器”，收集并聚合我们的可观测性数据，然后将其传输到 Grafana Cloud 实例和 Digma。&lt;/p&gt;&lt;p&gt;我们将首先在示例应用程序下创建一个“observability”子文件夹。我们将在此处存储与配置可观察性管道相关的所有内容。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;在新的可观测性子文件夹下创建一个名为&lt;code&gt;config.river&lt;/code&gt;的新文件。此合金配置使用受 Terraform 启发的配置语言。粘贴以下文本并保存文件：&lt;/li&gt;&lt;/ol&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button x-data="app_code_snippet()" x-init="init()" @click="copy()"&gt;&lt;img class="code-clipboard__icon" src="/media/images/icons/icon-copy-small-2.svg" alt="将代码复制到剪贴板" width="14" height="13"&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre data-expanded="false"&gt; &lt;code class="language-none"&gt;//Basic authentication otelcol.auth.basic &amp;quot;grafana_auth&amp;quot; { username = env(&amp;quot;GRAFANA_CLOUD_INSTANCE_ID&amp;quot;) password = env(&amp;quot;GRAFANA_CLOUD_API_TOKEN&amp;quot;) } // Define the &amp;#39;Receiver&amp;#39; ingesting the data sent out from our app otelcol.receiver.otlp &amp;quot;default&amp;quot; { // configures the default grpc endpoint &amp;quot;0.0.0.0:4317&amp;quot; grpc { } // configures the default http/protobuf endpoint &amp;quot;0.0.0.0:4318&amp;quot; http { } output { traces = [otelcol.processor.batch.default.input] } } //The &amp;#39;processor&amp;#39; optimizes the network throughput by batching the output otelcol.processor.batch &amp;quot;default&amp;quot; { output { traces = [otelcol.exporter.otlp.digma.input,otelcol.exporter.otlphttp.grafana_cloud.input] } } //Our two exporters will send the data both to Digma (to analytize our code observability, and to our Grafana cloud instance otelcol.exporter.otlp &amp;quot;digma&amp;quot; { // Send traces to Digma without TLS enabled. client { endpoint = env(&amp;quot;DIGMA_OTLP_ENDPOINT&amp;quot;) tls { insecure = true } } } otelcol.exporter.otlphttp &amp;quot;grafana_cloud&amp;quot; { client { endpoint = env(&amp;quot;GRAFANA_CLOUD_OTLP_ENDPOINT&amp;quot;) auth = otelcol.auth.basic.grafana_auth.handler } }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;在此文件中，我们将可观察性管道定义为具有以下结构的代码： &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 1116px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/otlp-workflow.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/otlp-workflow.png"data-srcset="/media/blog/java-digma/otlp-workflow.png?w=320 320w, /media/blog/java-digma/otlp-workflow.png?w=550 550w, /media/blog/java-digma/otlp-workflow.png?w=750 750w, /media/blog/java-digma/otlp-workflow.png?w=900 900w, /media/blog/java-digma/otlp-workflow.png?w=1040 1040w, /media/blog/java-digma/otlp-workflow.png?w=1240 1240w, /media/blog/java-digma/otlp-workflow.png?w=1920 1920w"
data-sizes="auto"alt="OTLP工作流程"
width="1116"
height="486"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/otlp-workflow.png"
alt="OTLP工作流程"
width="1116"
height="486"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt; &lt;strong&gt;OTLP 接收器&lt;/strong&gt;。该组件将接收我们的 Java 应用程序发出的跟踪。&lt;/li&gt;&lt;li&gt; &lt;strong&gt;OTLP 处理器&lt;/strong&gt;。这将用于使用批处理策略来优化我们的输出，以将跟踪一起发送而不是逐个发送。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;出口商&lt;/strong&gt;。这些将发送痕迹以进行存储和处理。我们将把跟踪发送到两个目的地：我们的 Grafana Cloud 实例和 Digma，我们将用它来分析我们的代码。&lt;/li&gt;&lt;/ul&gt;&lt;ol start="2"&gt;&lt;li&gt;创建一个新的“docker-compose.yaml”文件。该文件将定义 Alloy 容器并挂载我们的配置文件。&lt;/li&gt;&lt;/ol&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button x-data="app_code_snippet()" x-init="init()" @click="copy()"&gt;&lt;img class="code-clipboard__icon" src="/media/images/icons/icon-copy-small-2.svg" alt="将代码复制到剪贴板" width="14" height="13"&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre data-expanded="false"&gt; &lt;code class="language-none"&gt;version: &amp;quot;3.6&amp;quot; services: grafana-agent: image: grafana/agent:latest restart: always command: - run - --server.http.listen-addr=0.0.0.0:12345 - /etc/agent/config.river volumes: - ./config.river:/etc/agent/config.river ports: - &amp;quot;12345:12345&amp;quot; - &amp;quot;4317:4317&amp;quot; extra_hosts: - &amp;quot;host.docker.internal:host-gateway&amp;quot; environment: - AGENT_MODE=flow - OTLP_EXPORTER_DIGMA_COLLECTOR_API=host.docker.internal:5050 - GRAFANA_CLOUD_OTLP_ENDPOINT=--REPLACE_WITH_GRAFANA_ENDPOINT-- - GRAFANA_CLOUD_API_TOKEN=${GRAFANA_CLOUD_API_TOKEN} - GRAFANA_CLOUD_INSTANCE_ID=--REPLACE_WITH_GRAFNA_INSTANCE_ID--&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;使用从 Grafana Cloud 收集的信息替换“环境”元素下的值。我们希望将 API 令牌设置为参数，以避免将其本地存储在任何文件中。&lt;/p&gt;&lt;p&gt;运行 Docker Compose 文件，如下所示：&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button x-data="app_code_snippet()" x-init="init()" @click="copy()"&gt;&lt;img class="code-clipboard__icon" src="/media/images/icons/icon-copy-small-2.svg" alt="将代码复制到剪贴板" width="14" height="13"&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre data-expanded="false"&gt; &lt;code class="language-none"&gt;cd observability docker compose up -e GRAFANA_CLOUD_API_TOKEN=--REPLACE_WITH_TOKEN--&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt; Grafana Alloy 包含一个用于调试管道状态的 UI，可从此&lt;a href="http://localhost:12345" target="_blank" rel="noopener noreferrer"&gt;URL&lt;/a&gt;访问。从那里，我们可以看到管道每个组件的状态和配置，还有一个很好的图表向我们展示了管道不同组件之间的关系。 &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 1198px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/relationship-graph.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/relationship-graph.png"data-srcset="/media/blog/java-digma/relationship-graph.png?w=320 320w, /media/blog/java-digma/relationship-graph.png?w=550 550w, /media/blog/java-digma/relationship-graph.png?w=750 750w, /media/blog/java-digma/relationship-graph.png?w=900 900w, /media/blog/java-digma/relationship-graph.png?w=1040 1040w, /media/blog/java-digma/relationship-graph.png?w=1240 1240w, /media/blog/java-digma/relationship-graph.png?w=1920 1920w"
data-sizes="auto"alt="关系图"
width="1198"
height="795"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/relationship-graph.png"
alt="关系图"
width="1198"
height="795"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="install-the-digma-plugin"&gt;安装 Digma 插件&lt;/h3&gt;&lt;p&gt;现在我们需要安装 Digma 插件以立即开始从 Java 应用程序收集数据。您可以从 IDE 中的 IntelliJ 市场安装它： &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 1452px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/digma-cf.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/digma-cf.png"data-srcset="/media/blog/java-digma/digma-cf.png?w=320 320w, /media/blog/java-digma/digma-cf.png?w=550 550w, /media/blog/java-digma/digma-cf.png?w=750 750w, /media/blog/java-digma/digma-cf.png?w=900 900w, /media/blog/java-digma/digma-cf.png?w=1040 1040w, /media/blog/java-digma/digma-cf.png?w=1240 1240w, /media/blog/java-digma/digma-cf.png?w=1920 1920w"
data-sizes="auto"alt="IntelliJ 市场中的 Digma 持续反馈插件"
width="1452"
height="879"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/digma-cf.png"
alt="IntelliJ 市场中的 Digma 持续反馈插件"
width="1452"
height="879"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;接下来，配置 Digma 插件以将本地跟踪发送到我们在前面的步骤中创建的 Alloy 容器。进入IntelliJ IDE的&lt;strong&gt;Settings&lt;/strong&gt;页面，搜索“Digma”，弹出Digma插件配置页面： &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 1451px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/digma-plugin-2.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/digma-plugin-2.png"data-srcset="/media/blog/java-digma/digma-plugin-2.png?w=320 320w, /media/blog/java-digma/digma-plugin-2.png?w=550 550w, /media/blog/java-digma/digma-plugin-2.png?w=750 750w, /media/blog/java-digma/digma-plugin-2.png?w=900 900w, /media/blog/java-digma/digma-plugin-2.png?w=1040 1040w, /media/blog/java-digma/digma-plugin-2.png?w=1240 1240w, /media/blog/java-digma/digma-plugin-2.png?w=1920 1920w"
data-sizes="auto"alt="Digma 插件形式"
width="1451"
height="890"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/digma-plugin-2.png"
alt="Digma 插件形式"
width="1451"
height="890"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;编辑“运行时可观察性后端 URL”字段并将其设置为&lt;a href="http://localhost:4317" target="_blank" rel="noopener noreferrer"&gt;http://localhost:4317&lt;/a&gt; 。这是 Alloy 收集器使用的默认端口。&lt;/p&gt;&lt;h3 id="run-your-code-and-validate-that-everything-works-as-expected"&gt;运行您的代码并验证一切是否按预期工作！&lt;/h3&gt;&lt;p&gt;安装 Digma 后，您的代码将被自动检测。&lt;/p&gt;&lt;p&gt;您可以在 IDE 中打开 Digma 可观察性面板来验证一切是否正常。该面板将始终反映最新捕获的可观测性数据。 &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 1403px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/grafana-cloud-traces.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/grafana-cloud-traces.png"data-srcset="/media/blog/java-digma/grafana-cloud-traces.png?w=320 320w, /media/blog/java-digma/grafana-cloud-traces.png?w=550 550w, /media/blog/java-digma/grafana-cloud-traces.png?w=750 750w, /media/blog/java-digma/grafana-cloud-traces.png?w=900 900w, /media/blog/java-digma/grafana-cloud-traces.png?w=1040 1040w, /media/blog/java-digma/grafana-cloud-traces.png?w=1240 1240w, /media/blog/java-digma/grafana-cloud-traces.png?w=1920 1920w"
data-sizes="auto"alt="痕迹仪表板"
width="1403"
height="619"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/grafana-cloud-traces.png"
alt="痕迹仪表板"
width="1403"
height="619"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="how-to-use-observability-data-when-developing-code"&gt;开发代码时如何使用可观测性数据&lt;/h2&gt;&lt;p&gt;当您工作（运行、调试或运行测试）时，Digma 插件会忙于分析可观测性数据、查找问题并创建有用的使用分析。然后，它将该数据集成到 IDE 中。数据还将紧密集成到代码本身中，因此您将能够在跟踪和相应的代码行之间快速跳转。&lt;/p&gt;&lt;p&gt;您可以在三个主要区域看到正在运行的数据：&lt;/p&gt;&lt;h3 id="the-observability-panel"&gt;可观察性面板&lt;/h3&gt;&lt;p&gt;当我们对数据管道进行健康检查时，我们已经审查了这个领域。在这里，您将能够快速跳转以查看最近操作的跟踪或导航到相关端点。&lt;/p&gt;&lt;h3 id="the-insights-panel"&gt;见解面板&lt;/h3&gt;&lt;p&gt;该面板致力于对每个代码位置、资产、数据库查询端点等进行更深入的分析。它与 IDE 中的代码交互，可以将您带到相关的代码位置或显示见解（问题和分析） ）与当前选定的代码相关。 &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 559px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/digma-insights.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/digma-insights.png"data-srcset="/media/blog/java-digma/digma-insights.png?w=320 320w, /media/blog/java-digma/digma-insights.png?w=550 550w, /media/blog/java-digma/digma-insights.png?w=750 750w, /media/blog/java-digma/digma-insights.png?w=900 900w, /media/blog/java-digma/digma-insights.png?w=1040 1040w, /media/blog/java-digma/digma-insights.png?w=1240 1240w, /media/blog/java-digma/digma-insights.png?w=1920 1920w"
data-sizes="auto"alt="Digma 见解面板"
width="559"
height="800"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/digma-insights.png"
alt="Digma 见解面板"
width="559"
height="800"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="code-annotations"&gt;代码注释&lt;/h3&gt;&lt;p&gt;安装插件后，您将能够看到 CodeLens 覆盖在代码本身上，指示运行时使用情况、死代码和关键见解： &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 1088px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/code-sample.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/code-sample.png"data-srcset="/media/blog/java-digma/code-sample.png?w=320 320w, /media/blog/java-digma/code-sample.png?w=550 550w, /media/blog/java-digma/code-sample.png?w=750 750w, /media/blog/java-digma/code-sample.png?w=900 900w, /media/blog/java-digma/code-sample.png?w=1040 1040w, /media/blog/java-digma/code-sample.png?w=1240 1240w, /media/blog/java-digma/code-sample.png?w=1920 1920w"
data-sizes="auto"alt="代码示例"
width="1088"
height="591"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/code-sample.png"
alt="代码示例"
width="1088"
height="591"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="bonus-open-the-tracing-visualization-in-grafana-cloud-from-your-ide"&gt;奖励：从 IDE 打开 Grafana Cloud 中的跟踪可视化&lt;/h3&gt;&lt;p&gt;正如我们在上一节中看到的，我们可以在 IDE 中看到跟踪可视化。但是，我们还可以将 Digma 与 Grafana Cloud 连接起来，直接在您的实例中打开跟踪。 &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 700px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/java-digma/digma-plugin.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/java-digma/digma-plugin.png"data-srcset="/media/blog/java-digma/digma-plugin.png?w=320 320w, /media/blog/java-digma/digma-plugin.png?w=550 550w, /media/blog/java-digma/digma-plugin.png?w=750 750w, /media/blog/java-digma/digma-plugin.png?w=900 900w, /media/blog/java-digma/digma-plugin.png?w=1040 1040w, /media/blog/java-digma/digma-plugin.png?w=1240 1240w, /media/blog/java-digma/digma-plugin.png?w=1920 1920w"
data-sizes="auto"alt="Digma 插件报名表"
width="700"
height="478"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/java-digma/digma-plugin.png"
alt="Digma 插件报名表"
width="700"
height="478"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;要启用此行为：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;打开 Digma 设置页面。&lt;/li&gt;&lt;li&gt;将 Digma IntelliJ 插件的“Jaeger 链接模式”设置更改为外部&lt;/li&gt;&lt;li&gt;更改“Jaeger URL”设置以指向您的 Grafana Cloud Tracese 页面。您可以使用以下 URL 模板（并替换 [Your_Account]）：&lt;br /&gt;&lt;br /&gt; https://[YOUR_ACCOUNT].grafana.net/explore?left=%7B%22range%22%3A%7B%22from%22%3A%22now-5m%22%2C%22to%22%3A%22now%22 %7D%2C%22datasource%22%3A%22grafanacloud-traces%22%2C%22queries%22%3A%5B%7B%22query%22%3A% &lt;code&gt;{TRACE_ID}&lt;/code&gt; %22%2C%22queryType%22%3A%22traceql %22%7D%5D%7D&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;现在，在 IntelliJ 的 Digma Observability 视图中，如果单击跟踪按钮，您将在&lt;a href="/products/cloud/traces/"&gt;Grafana Cloud Traces&lt;/a&gt;中看到跟踪可视化。&lt;/p&gt;&lt;h2 id="code-with-feedback"&gt;带反馈的代码&lt;/h2&gt;&lt;p&gt;现在一切都已启动并运行，您可以开始尝试&lt;a href="https://digma.ai/continuous-feedback/" target="_blank" rel="noopener noreferrer"&gt;持续反馈&lt;/a&gt;(CF) 的新开发实践，它提供即时代码反馈和分析。作为开发人员，我们注意到可以轻松收集有关代码运行时的大量有用数据；然而，使这些数据有用完全是另一回事。这就是为什么将代码可观察性集成到更接近开发周期可以加速代码发布并帮助比以前更早地发现问题。观看&lt;a href="https://www.youtube.com/watch?v=3wgQl69WSvw" target="_blank" rel="noopener noreferrer"&gt;此视频&lt;/a&gt;了解 CF 的工作原理。&lt;/p&gt;&lt;p&gt;通过&lt;a href="https://continuous-feedback.slack.com/ssb/redirect" target="_blank" rel="noopener noreferrer"&gt;Slack 频道&lt;/a&gt;联系我们，让我们了解您的里程变化情况以及您能够利用的反馈类型！&lt;/p&gt;</description><pubDate>Fri, 21 Jun 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/06/21/shorten-your-feedback-loop-java-observability-with-opentelemetry-grafana-cloud-and-digma.ai/</guid></item><item><title>【How the DoD is embracing OSS and DevSecOps modernization with Grafana】</title><link>https://grafana.com/blog/2024/06/20/how-the-dod-is-embracing-oss-and-devsecops-modernization-with-grafana/</link><description>&lt;p&gt;当谈到可观察性时，我们相信开源最终会获胜。这是广大用户的共同看法，无论他们从事&lt;a href="https://grafana.com/blog/2023/09/25/how-to-monitor-slos-with-grafana-grafana-loki-prometheus-and-pyrra-inside-the-daimler-truck-observability-stack/"&gt;汽车制造&lt;/a&gt;、 &lt;a href="https://grafana.com/blog/2022/11/28/how-banco-itau-tracks-1.5b-daily-metrics-on-prem-and-in-aws-with-grafana-and-observability/"&gt;银行业&lt;/a&gt;还是&lt;a href="https://grafana.com/blog/2024/03/22/how-shipping/third-party-logistics-companies-reduce-mttr-and-increase-uptime-with-the-grafana-lgtm-stack/"&gt;航运业&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;美国联邦政府是另一个证明这一点的行业，表明即使是那些在最严格的安全和合规要求下运营的企业也将 OSS 视为他们的首选方法。在这篇博文中，我们将简要介绍国防部如何优先考虑开源，作为更广泛推动软件开发现代化的一部分，以及 Grafana 如何支持这些努力。&lt;/p&gt;&lt;h2 id="oss-and-software-factories"&gt; OSS 和软件工厂&lt;/h2&gt;&lt;p&gt;国防部几十年来一直&lt;a href="https://dodcio.defense.gov/Open-Source-Software-FAQ/#q-does-the-dod-already-use-open-source-software" rel="noopener noreferrer" target="_blank"&gt;广泛使用开源&lt;/a&gt;，但它越来越成为国防软件项目的起点，作为减少依赖性、避免供应商锁定以及部署为云和微服务构建的工具的手段。在&lt;a href="https://dodcio.defense.gov/portals/0/documents/library/softwaredev-opensource.pdf" rel="noopener noreferrer" target="_blank"&gt;2022 年的一份备忘录&lt;/a&gt;中，国防部首席信息官约翰·谢尔曼 (John Sherman) 写道，该部门更喜欢“在购买专有产品之前采用现有的政府或 OSS 解决方案”，并补充说“OSS 构成了软件定义世界的基石，对于更快地交付软件至关重要。”&lt;/p&gt;&lt;p&gt;去年，国防部公开发布了一项&lt;a href="https://dodcio.defense.gov/Portals/0/Documents/Library/SW-Mod-I-PlanExecutiveSummary.pdf" rel="noopener noreferrer" target="_blank"&gt;软件现代化计划&lt;/a&gt;，该计划不仅优先考虑速度，还优先考虑软件开发和管理中更好的质量和保护。这种转变的一个重要部分是推动创建 &lt;a href="https://en.wikipedia.org/wiki/Software_factory" rel="noopener noreferrer" target="_blank"&gt;软件工厂&lt;/a&gt;生态系统，该生态系统创建一个工具和流程框架来自动化开发人员使用的许多底层组件。对于国防部来说，这意味着创建一个以 DevSecOps 原则为基础的持续开发管道。&lt;/p&gt;&lt;blockquote class="pullquote en "&gt;&lt;div class="pullquote__content"&gt;&lt;p&gt; OSS 构成了软件定义世界的基石，对于更快地交付软件至关重要。&lt;/p&gt;&lt;p&gt;美国国防部首席信息官约翰·谢尔曼&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;p&gt;软件工厂提供商联盟已经开始出现，重点是&lt;a href="https://coalition.dso.mil/about-us/" rel="noopener noreferrer" target="_blank"&gt;构建开放的生态系统&lt;/a&gt;。其中一个提供商&lt;a href="https://p1.dso.mil/" rel="noopener noreferrer" target="_blank"&gt;Platform One&lt;/a&gt;托管 CI/CD DevSecOps 管道，并提供用于托管微服务的安全 Kubernetes 平台。 Platform One 的核心产品包括 Big Bang，这是一个可定制的平台，旨在加速国防部内的软件开发和部署。它提供了一套全面的工具和服务，包括基础设施配置、CI/CD 管道和安全扫描，目前正被空军、陆军和海军等国防部部门使用。&lt;/p&gt;&lt;p&gt;去年，第一平台&lt;a href="https://docs-bigbang.dso.mil/latest/blog/big-bang-2-0/" rel="noopener noreferrer" target="_blank"&gt;推出了Big Bang 2.0&lt;/a&gt; ，降低准入门槛，默认平台免费开放。该版本的一个重要部分是包含了三个 Grafana Labs 开源项目：用于日志的&lt;a href="https://grafana.com/oss/loki/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Loki&lt;/a&gt; 、用于可视化的&lt;a href="https://grafana.com/oss/grafana?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana&lt;/a&gt;和用于跟踪的&lt;a href="https://grafana.com/oss/tempo/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Tempo&lt;/a&gt; 。&lt;/p&gt;&lt;p&gt; Big Bang 的默认堆栈已从 Elasticsearch、Fluentbit 和 Kibana 的组合切换为 Promtail、Loki 和 Grafana，Platform One 表示用户的资源成本较低，并且无需核心功能的许可证要求。作为这一转变的一部分，Big Bang 2.0 还将追踪从 Jaeger 转移到 Tempo，因为它与其堆栈集成得更好。&lt;/p&gt;&lt;h2 id="how-dod-software-factories-can-rely-on-grafana"&gt;国防部软件工厂如何依赖 Grafana&lt;/h2&gt;&lt;p&gt; Grafana 非常适合现代软件开发，无论哪个行业。它是一个集中式可观察平台，聚合来自不同来源的数据，包括基础设施、应用程序和网络设备。这使得软件工厂能够在单一管理平台中全面了解整个生态系统，从而能够主动检测和解决问题。&lt;/p&gt;&lt;p&gt;开发人员可以使用定制的、基于角色的仪表板来立即了解关键绩效指标 (KPI)，例如构建和部署指标、系统正常运行时间和资源利用率。他们还可以使用 Grafana 通过识别交付流程中的瓶颈和低效率来提高系统可靠性。&lt;/p&gt;&lt;p&gt;要了解有关 Grafana 如何帮助 DoD 团队提供更快、更可靠的部署的更多信息，请发送电子邮件至&lt;a href="mailto:federal@grafana.com"&gt;Federal@grafana.com&lt;/a&gt;&lt;a href="https://grafana.com/blog/federal@grafana.com"&gt;&lt;/a&gt; 。请查看我们的&lt;a href="https://grafana.com/blog/2021/09/29/the-u.s.-department-of-defense-formally-authorizes-grafana-grafana-enterprise-and-loki-for-its-100000-developers/"&gt;其他博客文章，&lt;/a&gt;重点介绍&lt;a href="https://grafana.com/blog/2022/02/04/a-look-at-how-the-u.s.-department-of-defense-deploys-the-grafana-stack/?pg=blog&amp;amp;plcmt=body-txt"&gt;DoD 如何部署 Grafana&lt;/a&gt; 。&lt;/p&gt;</description><pubDate>Thu, 20 Jun 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/06/20/how-the-dod-is-embracing-oss-and-devsecops-modernization-with-grafana/</guid></item><item><title>【Translate Datadog metrics into OTLP with the OpenTelemetry Collector and Grafana Alloy】</title><link>https://grafana.com/blog/2024/06/18/translate-datadog-metrics-into-otlp-with-the-opentelemetry-collector-and-grafana-alloy/</link><description>&lt;p&gt;&lt;em&gt;编者注： &lt;a href="https://grafana.com/docs/alloy/v1.2/"&gt;Grafana Alloy v1.2.0&lt;/a&gt;于 2024 年 6 月 26 日发布。此博客已更新以反映这一变化。&lt;/em&gt;&lt;/p&gt;&lt;p&gt;今天，我们很高兴地宣布，我们将以开源方式发布&lt;a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/datadogreceiver" rel="noopener noreferrer" target="_blank"&gt;OpenTelemetry Datadog 接收器&lt;/a&gt;的新代码。此代码允许用户将 Datadog 指标格式转换为本机 OTLP 格式。然后，这些指标可以发送到任何与 OpenTelemetry 兼容的指标系统，无论是 Prometheus、 &lt;a href="https://grafana.com/oss/mimir/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Mimir&lt;/a&gt;还是其他后端数据库。&lt;/p&gt;&lt;p&gt; Grafana Labs 的核心价值观是拥抱&lt;a href="https://grafana.com/blog/2022/11/01/watch-grafana-labs-ceo-co-founder-raj-dutt-discuss-why-companies-need-observability/"&gt;“大帐篷”理念&lt;/a&gt;，过去当我们作为&lt;a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/1852#issuecomment-1403663819" rel="noopener noreferrer" target="_blank"&gt;Datadog 接收器的审阅者和代码共同所有者以获取 OTel 社区提出的跟踪时&lt;/a&gt;，或者当我们构建&lt;a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/18635" rel="noopener noreferrer" target="_blank"&gt;Loki 接收器&lt;/a&gt;时，就证明了这一点。我们相信让我们的用户能够在他们的可观察性策略中做出自己的选择。我们优先考虑互操作性和减少供应商锁定，并且我们坚信开源的价值。&lt;/p&gt;&lt;p&gt;我们的 OpenTelemetry Datadog 接收器代码最初是一个支持大客户迁移的项目。本着尽快将工作代码交到尽可能多的人手中的精神，我们从今天开始在&lt;a href="https://github.com/grafana/alloy" rel="noopener noreferrer" target="_blank"&gt;Grafana Alloy&lt;/a&gt;中提供它，这是我们的 OpenTelemetry Collector 发行版，它为 OpenTelemetry 和 Prometheus 格式提供了独特的本机管道。基于此代码库，我们已向&lt;a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/pull/33631" rel="noopener noreferrer" target="_blank"&gt;OpenTelemetry 提交了第一个 PR&lt;/a&gt; ，并将通过正常渠道合并我们的所有工作。由于我们预计此代码会根据社区审查和反馈进行更改，因此此功能在 Grafana Alloy 中被标记为实验性的。一旦我们的代码被合并到 OpenTelemetry 的上游主分支中，我们也将在 Grafana Alloy 中更新并发布它。&lt;/p&gt;&lt;h2 id="translate-datadog-metrics-to-otlp-how-it-works"&gt;将 Datadog 指标转换为 OTLP：它是如何工作的&lt;/h2&gt;&lt;p&gt;&lt;em&gt;编者注：Datadog、Prometheus 和 OpenTelemetry 对指标类型使用不同的术语。在本博客中，除非另有说明，我们使用 OpenTelemetry 术语。&lt;/em&gt;&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png"data-srcset="/media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png?w=320 320w, /media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png?w=550 550w, /media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png?w=750 750w, /media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png?w=900 900w, /media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png?w=1040 1040w, /media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png?w=1240 1240w, /media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png?w=1920 1920w"
data-sizes="auto"alt="Datadog 指标如何转换为 OTLP 格式的图表"
width="1200"
height="628"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/opentelemetry-datadog-receiver/datadog-otlp-metrics-chart.png"
alt="Datadog 指标如何转换为 OTLP 格式的图表"
width="1200"
height="628"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt; Datadog 的&lt;a href="https://docs.datadoghq.com/metrics/types/?tab=count" target="_blank" rel="noopener noreferrer"&gt;官方文档&lt;/a&gt;提供了有关其指标类型的完整信息：计数、计量、速率、直方图和分布。&lt;/p&gt;&lt;p&gt;转换 Count、Gauge 和 Rate 指标类型的过程相对简单，因为它们都可以相当直接地映射到&lt;a href="https://opentelemetry.io/docs/specs/otel/metrics/data-model/#point-kinds" target="_blank" rel="noopener noreferrer"&gt;OpenTelemetry 指标格式&lt;/a&gt;。 Datadog Gauge 指标可以映射到 OpenTelemetry Gauge 指标，Count 和 Rate 指标可以映射到 OpenTelemetry Sum 指标（通过调整 Rate 指标的值来考虑间隔）。&lt;/p&gt;&lt;p&gt; Datadog Distribution 指标类型可以最接近地映射到 OpenTelemetry 的指数直方图指标类型。由于两个系统中定义桶边界的方式不同，这是一个更具挑战性的转换。实施了尽力翻译，以最大程度地减少生成的指数直方图的准确性损失。&lt;/p&gt;&lt;p&gt;有关技术实现的更多详细信息将在未来的博客文章中介绍。&lt;/p&gt;&lt;h2 id="from-datadog-metrics-to-prometheus-metrics"&gt;从 Datadog 指标到 Prometheus 指标&lt;/h2&gt;&lt;p&gt;启用 Datadog 接收器后，收集器将有效地使用来自 Datadog 检测应用程序的 OpenTelemetry 指标。您可以从各种收集器导出器中进行选择，将这些指标写入特定后端。但是，我们建议您使用&lt;a href="https://opentelemetry.io/docs/languages/sdk-configuration/otlp-exporter/" target="_blank" rel="noopener noreferrer"&gt;默认的 OTLP 导出器&lt;/a&gt;，以使您的管道尽可能成为 OTel 原生管道。&lt;/p&gt;&lt;p&gt;值得注意的是，OpenTelemetry 规范定义了&lt;a href="https://opentelemetry.io/docs/specs/otel/metrics/data-model/#temporality" target="_blank" rel="noopener noreferrer"&gt;两种不同的时间性&lt;/a&gt;。如果您打算写入 Prometheus、Mimir OSS 或 Grafana Cloud，则需要处理器在这些时间性之间进行转换。&lt;/p&gt;&lt;p&gt;对于此类用例，我们构建并贡献了一个开源处理器，称为&lt;a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/deltatocumulativeprocessor" target="_blank" rel="noopener noreferrer"&gt;deltatocumulative 处理器&lt;/a&gt;。一旦 OTLP 指标从 Datadog 接收器发出并通过该处理器，它们就可以通过 OTLP HTTP 导出器导出到 Prometheus 的本机 OTLP 端点或其他系统，例如 Grafana Cloud。&lt;/p&gt;&lt;p&gt;我们计划将来发布有关 deltatocumulative 处理器的技术深度博客。&lt;/p&gt;&lt;h2 id="how-to-get-started-translating-datadog-metrics-to-otlp"&gt;如何开始将 Datadog 指标转换为 OTLP&lt;/h2&gt;&lt;p&gt;我们预计上游审核过程将需要几周时间，因为我们会与 OpenTelemetry 社区进行协调。同时，我们希望您今天就能尝试一下，因此我们在&lt;a href="/docs/alloy/v1.2/"&gt;Grafana Alloy v1.2.0&lt;/a&gt;中包含了接收器和处理器。 &lt;/p&gt;&lt;figure
class="figure-wrapper figure-wrapper__lightbox w-100p "
style="max-width: 1200px;"
itemprop="associatedMedia"
itemscope=""
itemtype="http://schema.org/ImageObject"
&gt; &lt;a
class="lightbox-link"
href="/media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png"
itemprop="contentUrl"
&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img
class="lazyload "
data-src="/media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png"data-srcset="/media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png?w=320 320w, /media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png?w=550 550w, /media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png?w=750 750w, /media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png?w=900 900w, /media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png?w=1040 1040w, /media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png?w=1240 1240w, /media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png?w=1920 1920w"
data-sizes="auto"alt="Grafana Alloy 配置中使用的 OpenTelemetry Datadog 接收器架构"
width="1200"
height="628"
/&gt; &lt;noscript&gt;&lt;img
src="/media/blog/opentelemetry-datadog-receiver/datadog-opentelemetry-architecture-diagram.png"
alt="Grafana Alloy 配置中使用的 OpenTelemetry Datadog 接收器架构"
width="1200"
height="628"
/&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;这是合金配置示例：&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button x-data="app_code_snippet()" x-init="init()" @click="copy()"&gt;&lt;img class="code-clipboard__icon" src="/media/images/icons/icon-copy-small-2.svg" alt="将代码复制到剪贴板" width="14" height="13"&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre data-expanded="false"&gt; &lt;code class="language-none"&gt;otelcol.processor.deltatocumulative “example” { max_stale = “5m” max_streams = 10000 output { metrics = [otelcol.processor.batch.example.input] } } otelcol.processor.batch “example” { output { metrics = [otelcol.exporter.otlp.default.input] } } otelcol.receiver.datadog “example” { endpoint = “localhost:4444” output { metrics = [otelcol.processor.deltatocumulative.example.input] } }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;h3 id="how-to-configure-datadog-agent-to-send-data-to-alloy"&gt;如何配置 Datadog Agent 将数据发送到 Alloy&lt;/h3&gt;&lt;p&gt;您可以设置 Datadog Agent 以将 Datadog 指标同时转发到 Alloy 和 Datadog。我们向当前想要尝试此方法的 Datadog 用户推荐此方法。&lt;/p&gt;&lt;p&gt;将以下环境变量添加到您的 datadog-agent 安装中，其中 port 是之前为 Datadog 接收器配置的端口。&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button x-data="app_code_snippet()" x-init="init()" @click="copy()"&gt;&lt;img class="code-clipboard__icon" src="/media/images/icons/icon-copy-small-2.svg" alt="将代码复制到剪贴板" width="14" height="13"&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre data-expanded="false"&gt; &lt;code class="language-none"&gt;DD_ADDITIONAL_ENDPOINTS=&amp;#39;{&amp;quot;http://&amp;lt;alloy_endpoint&amp;gt;:&amp;lt;port&amp;gt;&amp;quot;: [&amp;quot;grafana-labs&amp;quot;]}&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;您还可以通过更新配置 yaml 中的 Datadog URL 来设置 Datadog Agent 将所有指标转发到 Alloy：&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button x-data="app_code_snippet()" x-init="init()" @click="copy()"&gt;&lt;img class="code-clipboard__icon" src="/media/images/icons/icon-copy-small-2.svg" alt="将代码复制到剪贴板" width="14" height="13"&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre data-expanded="false"&gt; &lt;code class="language-none"&gt;dd_url: http://&amp;lt;alloy_endpoint&amp;gt;:&amp;lt;port&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;或者通过环境变量：&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button x-data="app_code_snippet()" x-init="init()" @click="copy()"&gt;&lt;img class="code-clipboard__icon" src="/media/images/icons/icon-copy-small-2.svg" alt="将代码复制到剪贴板" width="14" height="13"&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre data-expanded="false"&gt; &lt;code class="language-none"&gt;DD_DD_URL=http://&amp;lt;alloy_endpoint&amp;gt;:&amp;lt;port&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;如需分步指南，请查看我们的&lt;a href="/docs/alloy/v1.2/tasks/configure-alloy-to-use-datadog-receiver/"&gt;合金文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="tell-us-what-you-think"&gt;告诉我们你的想法！&lt;/h2&gt;&lt;p&gt;一如既往，欢迎并感谢社区反馈！请将您在接收器中发现的任何问题提交到 GitHub 的上游&lt;a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/issues/" target="_blank" rel="noopener noreferrer"&gt;opentelemetry-collector-contrib 存储库&lt;/a&gt;中。&lt;/p&gt;&lt;p&gt;除了这个用于 Datadog 指标摄取的新解决方案之外，Grafana Labs 还可以帮助客户自动将仪表板、警报和 SLO 从 Datadog 迁移到 Grafana Cloud。这些迁移由我们专门的专业服务团队领导，可以大大缩短将在 Datadog 上投入大量资金的组织迁移到 Grafana Cloud 所需的时间。要了解更多信息，请联系&lt;a href="/contact?about=grafana-plugins&amp;amp;topic=enterprise-plugin&amp;amp;pg=blog&amp;amp;plcmt=body-txt&amp;amp;value=Datadog"&gt;客户支持&lt;/a&gt;。&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Tue, 18 Jun 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/06/18/translate-datadog-metrics-into-otlp-with-the-opentelemetry-collector-and-grafana-alloy/</guid></item></channel></rss>