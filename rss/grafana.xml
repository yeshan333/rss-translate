<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Grafana Labs 上的 Grafana Labs 博客</title><link>https://grafana.com/blog/</link><description>Grafana Labs 上的 Grafana Labs 博客中的最​​新内容</description><lastBuildDate>Tue, 21 May 2024 16:04:41 GMT</lastBuildDate><generator>rfeed v1.1.1</generator><docs>https://github.com/svpino/rfeed/blob/master/README.md</docs><item><title>【Grafana OnCall: Connect to Discord, Mattermost, and more with webhooks】Grafana OnCall：使用 webhooks 连接到 Discord、Mattermost 等</title><link>https://grafana.com/blog/2024/05/20/grafana-oncall-connect-to-discord-mattermost-and-more-with-webhooks/</link><description>&lt;p&gt;采用工具时的一个重要考虑因素是它是否可以与您现有的工作流程和服务集成。每个场景都可能非常具体，这就是为什么寻找具有公共 API 或可自定义 Webhook 的工具非常重要。&lt;/p&gt;&lt;p&gt;去年， &lt;a href="https://grafana.com/products/cloud/oncall/"&gt;Grafana OnCall&lt;/a&gt;扩展了其&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/oncall/outgoing-webhooks/"&gt;Webhook 支持&lt;/a&gt;，以允许更复杂的设置，从而在警报组事件期间提供与其他服务交互的更大灵活性。&lt;/p&gt;&lt;p&gt;这些网络钩子如何工作？为了说明如何调整 Grafana OnCall 并将其与现有环境联系起来，我们将向您展示如何向其他消息传递解决方案（例如&lt;a href="https://mattermost.com/" rel="noopener noreferrer" target="_blank"&gt;Mattermost&lt;/a&gt;和&lt;a href="https://discord.com/" rel="noopener noreferrer" target="_blank"&gt;Discord）&lt;/a&gt;发送警报组通知和更新，这些解决方案尚未开箱即用，但仍然可以插入进入您的工作流程。&lt;/p&gt;&lt;p&gt;这里的目标是将 Grafana OnCall webhook 连接到第三方 API，建立一个简单的&lt;strong&gt;单向&lt;/strong&gt;同步（OnCall -&amp;gt; 外部服务）以保持状态信息最新，而无需编写任何代码。我们将分别介绍每个流行的 ChatOps 应用程序的流程，以表明虽然连接可能不同，但 Grafana OnCall 中的设置本质上是相同的，所以让我们看看它是如何工作的！&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;为了更完整的集成或双向同步，需要额外的逻辑和/或使用我们的&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/oncall/oncall-api-reference/"&gt;OnCall API&lt;/a&gt; 。&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id="how-to-integrate-grafana-oncall-with-mattermost"&gt;如何将 Grafana OnCall 与 Mattermost 集成&lt;/h2&gt;&lt;p&gt;Mattermost 是一种流行的开源且灵活的消息传递服务，支持多种集成，您可以自行托管或用作云即服务。对于此集成，计划创建一个机器人，将警报组详细信息发布到 Mattermost 渠道，并使这些警报组的状态和信息保持最新。&lt;/p&gt;&lt;p&gt;首先，让我们创建&lt;a href="https://developers.mattermost.com/integrate/reference/bot-accounts/" rel="noopener noreferrer" target="_blank"&gt;机器人帐户&lt;/a&gt;以使用其访问令牌访问&lt;a href="https://api.mattermost.com/" rel="noopener noreferrer" target="_blank"&gt;Mattermost API&lt;/a&gt; ：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/create-bot.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="最重要的集成菜单" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="最重要的集成菜单" src="https://grafana.com/media/blog/oncall-chatops/create-bot.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;您可能需要设置系统管理员角色以允许机器人更新消息。请参阅&lt;a href="https://developers.mattermost.com/integrate/reference/bot-accounts/#can-bot-accounts-edit-messages-through-the-restful-api" rel="noopener noreferrer" target="_blank"&gt;此 Mattermost 常见问题解答&lt;/a&gt;以了解更多信息。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;创建后您将获得一个代币；确保保留该值。&lt;/p&gt;&lt;p&gt;接下来，将机器人用户添加为您希望将通知发布到的频道中的成员，并从该频道的信息视图中获取频道 ID。要到达那里，请单击频道名称下拉列表，您将看到“查看信息”选项。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/mattermost-id-info.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="最重要的 ID 信息" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="最重要的 ID 信息" src="https://grafana.com/media/blog/oncall-chatops/mattermost-id-info.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;此时，您应该拥有一个令牌，并且能够使用该 &lt;a href="https://api.mattermost.com/#tag/authentication" rel="noopener noreferrer" target="_blank"&gt;令牌&lt;/a&gt;以及通道 ID 来访问 Mattermost API，以作为机器人在指定的 Mattermost 通道中发布消息。使用此&lt;code&gt;curl&lt;/code&gt;命令来测试我们想要在Grafana OnCall中使用的流程：&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button&gt;&lt;img alt="将代码复制到剪贴板" class="code-clipboard__icon" height="13" src="https://grafana.com/media/images/icons/icon-copy-small-2.svg" width="14" /&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre&gt;&lt;code class="language-none"&gt;$ curl -i -X POST -H &amp;#39;Content-Type: application/json&amp;#39; -d &amp;#39;{&amp;quot;channel_id&amp;quot;:&amp;quot;eorfq3i1zj89jg7pqpzpyp8rxh&amp;quot;, &amp;quot;message&amp;quot;:&amp;quot;This is a message from a bot&amp;quot;, &amp;quot;props&amp;quot;:{&amp;quot;attachments&amp;quot;: [{&amp;quot;pretext&amp;quot;: &amp;quot;Look some text&amp;quot;,&amp;quot;text&amp;quot;: &amp;quot;This is text&amp;quot;}]}}&amp;#39; -H &amp;#39;Authorization: Bearer qwd4k954qjyx3euumnbnqfa6wo&amp;#39; http://localhost:8065/api/v4/posts8065/api/v4/posts&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;它应该返回类似于以下内容的输出：&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button&gt;&lt;img alt="将代码复制到剪贴板" class="code-clipboard__icon" height="13" src="https://grafana.com/media/images/icons/icon-copy-small-2.svg" width="14" /&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre&gt;&lt;code class="language-none"&gt;HTTP/1.1 201 Created Content-Type: application/json Permissions-Policy: Referrer-Policy: no-referrer Vary: Accept-Encoding X-Content-Type-Options: nosniff X-Request-Id: mdubxdeqffffpxkcbu65fxaino X-Version-Id: 7.9.0.7.9.0.7f5ade118b6f3cf753675a3fdfaa6d40.false Date: Tue, 16 Apr 2024 17:11:46 GMT Content-Length: 725 {&amp;quot;id&amp;quot;:&amp;quot;kxi7owmor3y9proo5rkef64our&amp;quot;,&amp;quot;create_at&amp;quot;:1713287506329,&amp;quot;update_at&amp;quot;:1713287506329,&amp;quot;edit_at&amp;quot;:0,&amp;quot;delete_at&amp;quot;:0,&amp;quot;is_pinned&amp;quot;:false,&amp;quot;user_id&amp;quot;:&amp;quot;rks6to6tz7n19etm6oboe9s9zh&amp;quot;,&amp;quot;channel_id&amp;quot;:&amp;quot;eorfq3i1zj89jg7pqpzpyp8rxh&amp;quot;,&amp;quot;root_id&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;original_id&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;message&amp;quot;:&amp;quot;This is a message from a bot&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;props&amp;quot;:{&amp;quot;attachments&amp;quot;:[{&amp;quot;id&amp;quot;:0,&amp;quot;fallback&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;color&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;pretext&amp;quot;:&amp;quot;Look some text&amp;quot;,&amp;quot;author_name&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;author_link&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;author_icon&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;title&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;title_link&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;text&amp;quot;:&amp;quot;This is text&amp;quot;,&amp;quot;fields&amp;quot;:null,&amp;quot;image_url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;thumb_url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;footer&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;footer_icon&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;ts&amp;quot;:null}],&amp;quot;from_bot&amp;quot;:&amp;quot;true&amp;quot;},&amp;quot;hashtags&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;pending_post_id&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;reply_count&amp;quot;:0,&amp;quot;last_reply_at&amp;quot;:0,&amp;quot;participants&amp;quot;:null,&amp;quot;metadata&amp;quot;:{&amp;quot;embeds&amp;quot;:[{&amp;quot;type&amp;quot;:&amp;quot;message_attachment&amp;quot;}]}}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;发出上述请求后，您应该会在 Mattermost 频道中收到一条类似于下面屏幕截图中的消息，确认凭据和频道 ID 正常，并且我们可以使用该 API。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/oncall-bot-message.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Oncall 机器人消息" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Oncall 机器人消息" src="https://grafana.com/media/blog/oncall-chatops/oncall-bot-message.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;回到我们使用 webhooks 创建 Grafana OnCall 集成计划的目标，我们对我们的用例的以下 Mattermost API 端点（仅供参考）感兴趣：&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;a href="https://api.mattermost.com/#tag/posts/operation/CreatePost" rel="noopener noreferrer" target="_blank"&gt;创建帖子&lt;/a&gt;，发布新的警报组通知&lt;/li&gt;&lt;li&gt;&lt;a href="https://api.mattermost.com/#tag/posts/operation/UpdatePost" rel="noopener noreferrer" target="_blank"&gt;更新帖子&lt;/a&gt;，以在警报组更新时更新之前发送的通知&lt;/li&gt;&lt;/ul&gt;&lt;h3 id="how-to-connect-grafana-oncall-to-mattermost"&gt;如何将 Grafana OnCall 连接到 Mattermost&lt;/h3&gt;&lt;p&gt;在 Grafana OnCall 中，我们需要配置两个 Webhook：一个用于在创建警报组时发布通知（使用“创建帖子”端点），另一个用于在警报组状态更改时更新该通知（使用“更新帖子”端点）。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/mattermost.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="将 Grafana OnCall 连接到 Mattermost 的步骤" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="将 Grafana OnCall 连接到 Mattermost 的步骤" src="https://grafana.com/media/blog/oncall-chatops/mattermost.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;让我们首先设置&lt;code&gt;Alert Group Created&lt;/code&gt; webhook：&lt;/p&gt;&lt;p&gt;如果您在自己的计算机上进行操作，则需要输入以下内容才能实现上面 GIF 中概述的步骤中所看到的内容：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;名称：&lt;/strong&gt; mattermost-new&lt;/li&gt;&lt;li&gt;&lt;strong&gt;启用：&lt;/strong&gt;真&lt;/li&gt;&lt;li&gt;&lt;strong&gt;触发类型：&lt;/strong&gt;已创建警报组&lt;/li&gt;&lt;li&gt;&lt;strong&gt;HTTP 方法：&lt;/strong&gt; POST&lt;/li&gt;&lt;li&gt; &lt;strong&gt;Webhook URL：&lt;/strong&gt; http://localhost:8065/api/v4/posts&lt;/li&gt;&lt;li&gt;&lt;strong&gt;授权标头：&lt;/strong&gt; Bearer [您的令牌]&lt;/li&gt;&lt;li&gt;&lt;strong&gt;全部转发：&lt;/strong&gt;错误&lt;/li&gt;&lt;li&gt;&lt;strong&gt;数据：&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button&gt;&lt;img alt="将代码复制到剪贴板" class="code-clipboard__icon" height="13" src="https://grafana.com/media/images/icons/icon-copy-small-2.svg" width="14" /&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre&gt;&lt;code class="language-none"&gt;{ &amp;quot;channel_id&amp;quot;: &amp;quot;eorfq3i1zj89jg7pqpzpyp8rxh&amp;quot;, &amp;quot;message&amp;quot;: &amp;quot;{% if alert_group.state == &amp;#39;acknowledged&amp;#39;%}:large_orange_circle:{% elif alert_group.state == &amp;#39;resolved&amp;#39;%}:large_green_circle:{% elif alert_group.state == &amp;#39;silenced&amp;#39;%}:white_circle:{% else %}:red_circle:{% endif %} **{{ alert_group.title }}**\n*{{ alert_group.state }}*\n{{ alert_payload.message }}\n*{{ integration.name }}*\n\n{% if event.type == &amp;#39;acknowledge&amp;#39; %}**Acknowledged by: {{ user.username }}**{% endif %}{% if event.type == &amp;#39;resolve&amp;#39; %}**Resolved by: {{ user.username }}**{% endif %}{% if event.type == &amp;#39;silence&amp;#39; %}**Silenced by: {{ user.username }} (until {{ event.until }})**{% endif %}\n\n[View in Grafana OnCall]({{ alert_group.permalinks.web }})&amp;quot; }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;要更新已发送的通知，您需要拥有原始消息 ID。触发我们刚刚创建的 Webhook 后，此 ID 将包含在响应中。 Grafana OnCall Webhook 维护链接到警报组的先前响应的记录，使我们能够在更新 Webhook 中 &lt;a href="https://grafana.com/docs/oncall/latest/configure/outgoing-webhooks/#using-response-data"&gt;引用&lt;/a&gt;此信息。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/outgoing-webhook-details.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="传出 Webhook 详细信息" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="传出 Webhook 详细信息" src="https://grafana.com/media/blog/oncall-chatops/outgoing-webhook-details.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;然后，我们可以使用模板表达式&lt;code&gt;{{ responses.WHK9SLCGJBPZK5.id }}&lt;/code&gt;来引用 ID 为&lt;code&gt;WHK9SLCGJBPZK5&lt;/code&gt;的 Webhook 的上一个响应中的&lt;code&gt;id&lt;/code&gt;字段，对应于触发状态更改的同一警报组。 （这是&lt;code&gt;mattermost-new&lt;/code&gt; webhook。您可以从 webhooks 列表 UI 获取此 ID；请参见下文。）&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/webhooks-listing-ui.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Webhook 列表" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Webhook 列表" src="https://grafana.com/media/blog/oncall-chatops/webhooks-listing-ui.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;考虑到这一点，我们现在将设置&lt;code&gt;Alert Group Status Change&lt;/code&gt; Webhook。以下是配置 Webhook 时需要输入的信息：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;名称：&lt;/strong&gt; mattermost-update&lt;/li&gt;&lt;li&gt;&lt;strong&gt;启用：&lt;/strong&gt;真&lt;/li&gt;&lt;li&gt;&lt;strong&gt;触发类型：&lt;/strong&gt;警报组状态变化&lt;/li&gt;&lt;li&gt;&lt;strong&gt;HTTP 方法：&lt;/strong&gt; PUT&lt;/li&gt;&lt;li&gt; &lt;strong&gt;Webhook URL：（&lt;/strong&gt;&lt;em&gt;请使用您最新的 webhook ID。&lt;/em&gt; ）http://localhost:8065/api/v4/posts/{{response.WHK9SLCGJBPZK5.id }}&lt;/li&gt;&lt;li&gt;&lt;strong&gt;授权标头：&lt;/strong&gt; Bearer [您的令牌]&lt;/li&gt;&lt;li&gt;&lt;strong&gt;全部转发：&lt;/strong&gt;错误&lt;/li&gt;&lt;li&gt;&lt;strong&gt;数据：（&lt;/strong&gt;&lt;em&gt;请使用您最新的 webhook ID。&lt;/em&gt; ）&lt;/li&gt;&lt;/ul&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button&gt;&lt;img alt="将代码复制到剪贴板" class="code-clipboard__icon" height="13" src="https://grafana.com/media/images/icons/icon-copy-small-2.svg" width="14" /&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre&gt;&lt;code class="language-none"&gt;{ &amp;quot;id&amp;quot;: &amp;quot;{{ responses.WHK9SLCGJBPZK5.id }}&amp;quot;, &amp;quot;message&amp;quot;: &amp;quot;{% if alert_group.state == &amp;#39;acknowledged&amp;#39;%}:large_orange_circle:{% elif alert_group.state == &amp;#39;resolved&amp;#39;%}:large_green_circle:{% elif alert_group.state == &amp;#39;silenced&amp;#39;%}:white_circle:{% else %}:red_circle:{% endif %} **{{ alert_group.title }}**\n*{{ alert_group.state }}*\n{{ alert_payload.message }}\n*{{ integration.name }}*\n\n{% if event.type == &amp;#39;acknowledge&amp;#39; %}**Acknowledged by: {{ user.username }}**{% endif %}{% if event.type == &amp;#39;resolve&amp;#39; %}**Resolved by: {{ user.username }}**{% endif %}{% if event.type == &amp;#39;silence&amp;#39; %}**Silenced by: {{ user.username }} (until {{ event.until }})**{% endif %}\n\n[View in Grafana OnCall]({{ alert_group.permalinks.web }})&amp;quot; }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;就是这样！如果您发送&lt;a href="https://grafana.com/docs/oncall/latest/set-up/get-started/#send-a-demo-alert"&gt;演示警报&lt;/a&gt;，您应该会收到类似于以下内容的通知：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/incident-firing.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana Oncall 中的事件触发消息" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana Oncall 中的事件触发消息" src="https://grafana.com/media/blog/oncall-chatops/incident-firing.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;确认后，将更新为：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/incident-acknowledged.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="来自 Grafana Oncall 的事件确认消息" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="来自 Grafana Oncall 的事件确认消息" src="https://grafana.com/media/blog/oncall-chatops/incident-acknowledged.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;由于我们没有设置任何&lt;a href="https://grafana.com/docs/oncall/latest/configure/outgoing-webhooks/#integrations"&gt;集成&lt;/a&gt;作为过滤依据，因此将为堆栈中的每个警报组触发 Webhook。&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id="how-to-integrate-grafana-oncall-with-discord"&gt;如何将 Grafana OnCall 与 Discord 集成&lt;/h2&gt;&lt;p&gt;Discord 是一个即时消息和 VoIP 社交平台，支持语音通话、视频通话、短信以及媒体和文件。对于此集成，计划创建一个机器人，将警报组详细信息发布到频道并保持这些警报组的状态和信息最新。&lt;/p&gt;&lt;p&gt;在这种情况下，我们将使用&lt;a href="https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks" rel="noopener noreferrer" target="_blank"&gt;Discord webhooks&lt;/a&gt;来实现通知：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/new-webhook.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="不和谐集成 UI" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="不和谐集成 UI" src="https://grafana.com/media/blog/oncall-chatops/new-webhook.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;通过 webhook URL 我们可以进行&lt;a href="https://discord.com/developers/docs/resources/webhook" rel="noopener noreferrer" target="_blank"&gt;多种操作&lt;/a&gt;。出于我们的目的，我们感兴趣的是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;a href="https://discord.com/developers/docs/resources/webhook#execute-webhook" rel="noopener noreferrer" target="_blank"&gt;创建消息&lt;/a&gt;，发布新的警报组通知&lt;/li&gt;&lt;li&gt;&lt;a href="https://discord.com/developers/docs/resources/webhook#edit-webhook-message" rel="noopener noreferrer" target="_blank"&gt;编辑消息&lt;/a&gt;，以在更新警报组时更新先前发送的通知&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;注意：创建消息时，我们需要设置&lt;code&gt;?wait=true&lt;/code&gt;查询参数以获取包含创建的消息信息的响应，稍后我们需要更新该消息。&lt;/p&gt;&lt;h3 id="how-to-connect-grafana-oncall-to-discord"&gt;如何将 Grafana OnCall 连接到 Discord&lt;/h3&gt;&lt;p&gt;与我们为 Mattermost 所做的类似，我们需要按照链接的 API 规范创建 Grafana OnCall Webhooks：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/discord.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="在 Grafana Oncall 中连接到 Discord 的步骤" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="在 Grafana Oncall 中连接到 Discord 的步骤" src="https://grafana.com/media/blog/oncall-chatops/discord.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;您需要输入以下内容才能实现上面 GIF 中概述的步骤中所看到的内容：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;名称：&lt;/strong&gt; discord-新&lt;/li&gt;&lt;li&gt;&lt;strong&gt;启用：&lt;/strong&gt;真&lt;/li&gt;&lt;li&gt;&lt;strong&gt;触发类型：&lt;/strong&gt;已创建警报组&lt;/li&gt;&lt;li&gt;&lt;strong&gt;HTTP 方法：&lt;/strong&gt; POST&lt;/li&gt;&lt;li&gt; &lt;strong&gt;Webhook URL：&lt;/strong&gt; [您的 Discord webhook URL]？wait=true&lt;/li&gt;&lt;li&gt;&lt;strong&gt;全部转发：&lt;/strong&gt;错误&lt;/li&gt;&lt;li&gt;&lt;strong&gt;数据：&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button&gt;&lt;img alt="将代码复制到剪贴板" class="code-clipboard__icon" height="13" src="https://grafana.com/media/images/icons/icon-copy-small-2.svg" width="14" /&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre&gt;&lt;code class="language-none"&gt;{ &amp;quot;content&amp;quot;: &amp;quot;{% if alert_group.state == &amp;#39;acknowledged&amp;#39;%}:orange_circle:{% elif alert_group.state == &amp;#39;resolved&amp;#39;%}:green_circle:{% elif alert_group.state == &amp;#39;silenced&amp;#39;%}:white_circle:{% else %}:red_circle:{% endif %} **{{ alert_group.title }}**\n*{{ alert_group.state }}*\n{{ alert_payload.message }}\n*{{ integration.name }}*\n\n{% if event.type == &amp;#39;acknowledge&amp;#39; %}**Acknowledged by: {{ user.username }}**{% endif %}{% if event.type == &amp;#39;resolve&amp;#39; %}**Resolved by: {{ user.username }}**{% endif %}{% if event.type == &amp;#39;silence&amp;#39; %}**Silenced by: {{ user.username }} (until {{ event.until }})**{% endif %}\n\n[View in Grafana OnCall]({{ alert_group.permalinks.web }})&amp;quot; }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;对于更新 webhook，我们将使用 URL 路径中之前的&lt;code&gt;discord-new&lt;/code&gt;响应中的消息&lt;code&gt;id&lt;/code&gt; ：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;名称：&lt;/strong&gt;不和谐更新&lt;/li&gt;&lt;li&gt;&lt;strong&gt;启用：&lt;/strong&gt;真&lt;/li&gt;&lt;li&gt;&lt;strong&gt;触发类型：&lt;/strong&gt;警报组状态变化&lt;/li&gt;&lt;li&gt;&lt;strong&gt;HTTP 方法：&lt;/strong&gt;补丁&lt;/li&gt;&lt;li&gt;&lt;strong&gt;Webhook URL：（&lt;/strong&gt;&lt;em&gt;请改用您的 Discord 新 Webhook ID。&lt;/em&gt; ）[您的 Discord Webhook URL]/messages/{{response.WH5PXWNJ7MT9Y5.id }}&lt;/li&gt;&lt;li&gt;&lt;strong&gt;全部转发：&lt;/strong&gt;错误&lt;/li&gt;&lt;li&gt;&lt;strong&gt;数据：&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button&gt;&lt;img alt="将代码复制到剪贴板" class="code-clipboard__icon" height="13" src="https://grafana.com/media/images/icons/icon-copy-small-2.svg" width="14" /&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre&gt;&lt;code class="language-none"&gt;{ &amp;quot;content&amp;quot;: &amp;quot;{% if alert_group.state == &amp;#39;acknowledged&amp;#39;%}:orange_circle:{% elif alert_group.state == &amp;#39;resolved&amp;#39;%}:green_circle:{% elif alert_group.state == &amp;#39;silenced&amp;#39;%}:white_circle:{% else %}:red_circle:{% endif %} **{{ alert_group.title }}**\n*{{ alert_group.state }}*\n{{ alert_payload.message }}\n*{{ integration.name }}*\n\n{% if event.type == &amp;#39;acknowledge&amp;#39; %}**Acknowledged by: {{ user.username }}**{% endif %}{% if event.type == &amp;#39;resolve&amp;#39; %}**Resolved by: {{ user.username }}**{% endif %}{% if event.type == &amp;#39;silence&amp;#39; %}**Silenced by: {{ user.username }} (until {{ event.until }})**{% endif %}\n\n[View in Grafana OnCall]({{ alert_group.permalinks.web }})&amp;quot; }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;让我们触发一个&lt;a href="https://grafana.com/docs/oncall/latest/set-up/get-started/#send-a-demo-alert"&gt;演示警报&lt;/a&gt;并查看通知的外观：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/discord-incident-firing.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="事件触发消息" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="事件触发消息" src="https://grafana.com/media/blog/oncall-chatops/discord-incident-firing.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;然后在确认后更新：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/oncall-chatops/discord-incident-acknowledged.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="事件确认消息" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="事件确认消息" src="https://grafana.com/media/blog/oncall-chatops/discord-incident-acknowledged.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="set-up-webhooks-programmatically"&gt;以编程方式设置 Webhook&lt;/h2&gt;&lt;p&gt;作为奖励，我制作了几个脚本来使用 Grafana OnCall API 创建/更新 OnCall webhook。 （我们是否提到过 API 很有用？）这些脚本使迭代&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/oncall/configure/outgoing-webhooks/#outgoing-webhook-templates"&gt;通知模板&lt;/a&gt;变得更简单，直到获得所需的输出。您应该能够使用&lt;a href="https://registry.terraform.io/providers/grafana/grafana/latest/docs/resources/oncall_outgoing_webhook" rel="noopener noreferrer" target="_blank"&gt;Terraform&lt;/a&gt;进行类似的设置。&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;a href="https://gist.github.com/matiasb/69e8c41e4418ed30ab672b940cf9800b" rel="noopener noreferrer" target="_blank"&gt;Mattermost 的脚本&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://gist.github.com/matiasb/957e04bbe42ddee1f7a32e4b4d5d10f0" rel="noopener noreferrer" target="_blank"&gt;不和谐的脚本&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 id="going-further"&gt;更进一步&lt;/h2&gt;&lt;p&gt;对&lt;a href="https://github.com/grafana/oncall/issues/2683" rel="noopener noreferrer" target="_blank"&gt;Microsoft Teams&lt;/a&gt;或&lt;a href="https://github.com/grafana/oncall/issues/298" rel="noopener noreferrer" target="_blank"&gt;Google Chat&lt;/a&gt;等其他 ChatOps 服务采用类似的方法也是可行的。如果您尝试，请告诉我们！&lt;/p&gt;&lt;p&gt;另一个值得探索的增强功能是根据&lt;a href="https://grafana.com/docs/oncall/latest/manage/on-call-schedules/"&gt;OnCall 时间表&lt;/a&gt;通知用户的能力。这可以通过使用&lt;a href="https://grafana.com/docs/oncall/latest/configure/outgoing-webhooks/#escalation-step"&gt;升级步骤&lt;/a&gt;webhook 结合&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/oncall/configure/outgoing-webhooks/#users_to_notify"&gt;&lt;code&gt;users_to_notify&lt;/code&gt;&lt;/a&gt;字段中的信息来实现。&lt;/p&gt;&lt;p&gt;此外，我们正在考虑对 Mattermost 和 Discord 进行更全面的集成，我们很乐意帮助任何愿意为此&lt;a href="https://github.com/grafana/oncall/issues/96" rel="noopener noreferrer" target="_blank"&gt;做出贡献的&lt;/a&gt;人。请随时通过我们的&lt;a href="https://grafana.slack.com/archives/C02LSUUSE2G" rel="noopener noreferrer" target="_blank"&gt;Community Slack&lt;/a&gt;与我们联系。&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Mon, 20 May 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/20/grafana-oncall-connect-to-discord-mattermost-and-more-with-webhooks/</guid></item><item><title>【Grafana Cloud updates: revamped Synthetic Monitoring, improvements to Kubernetes Monitoring, and more】Grafana Cloud 更新：改进综合监控、改进 Kubernetes 监控等</title><link>https://grafana.com/blog/2024/05/16/grafana-cloud-updates-revamped-synthetic-monitoring-improvements-to-kubernetes-monitoring-and-more/</link><description>&lt;p&gt;我们不断在 Grafana Cloud 中发布有用的更新和有趣的功能，这是我们完全托管的可观测性平台，由开源 Grafana LGTM Stack（用于日志的&lt;a href="https://grafana.com/oss/loki/?pg=blog&amp;amp;plcmt=body-txt"&gt;Loki&lt;/a&gt; 、用于可视化的&lt;a href="https://grafana.com/oss/grafana?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana&lt;/a&gt; 、用于跟踪的&lt;a href="https://grafana.com/oss/tempo/?pg=blog&amp;amp;plcmt=body-txt"&gt;Tempo&lt;/a&gt;和用于指标的&lt;a href="https://grafana.com/oss/mimir/?pg=blog&amp;amp;plcmt=body-txt"&gt;Mimir&lt;/a&gt; ）提供支持。&lt;/p&gt;&lt;p&gt;如果您错过了，这里汇总了本月 Grafana Cloud 的最新、最精彩的更新。您还可以&lt;a href="https://grafana.com/docs/grafana-cloud/whats-new/?pg=blog&amp;amp;plcmt=body-txt"&gt;在 Grafana Cloud 文档新增功能&lt;/a&gt;中了解我们添加到 Grafana Cloud 的所有功能。&lt;/p&gt;&lt;p&gt;如果您不是 Grafana Cloud 用户……我们还在等什么？您可以通过我们慷慨的免费云计划免费尝试这些功能中的任何一个。今天&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;就注册&lt;/a&gt;一个帐户！&lt;/p&gt;&lt;h2 id="synthetic-monitoring-enhancements"&gt;综合监控增强功能&lt;/h2&gt;&lt;p&gt;我们宣布&lt;a href="https://grafana.com/blog/2024/05/01/grafana-cloud-synthetic-monitoring-all-the-latest-features/"&gt;对综合监控产品进行重大更新，&lt;/a&gt;以帮助您从用户的角度主动监控 API 和 Web 应用程序的性能。&lt;/p&gt;&lt;p&gt;传统上，综合监控使用 Prometheus 黑盒导出器在协议级别进行测试：HTTP、DNS、TCP、gRPC 和 ICMP（用于 ping 和 Traceroute）。这对于运行状况和正常运行时间监控非常有效，但重要的是还要测试单个端点之外的内容并深入研究复杂的事务和关键用户旅程。&lt;/p&gt;&lt;p&gt;这是我们改进的&lt;a href="https://grafana.com/products/cloud/synthetic-monitoring/"&gt;Grafana 云综合监控&lt;/a&gt;产品背后的动机，该产品由&lt;a href="https://grafana.com/oss/k6/"&gt;Grafana k6&lt;/a&gt;提供支持。我们现在提供两种新的检查类型，以扩大您的测试覆盖范围并增强您对应用程序的信心：&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;strong&gt;MultiHTTP 检查（普遍可用）&lt;/strong&gt; ：一种基于表单的方法，用于定义多步骤测试。在后台，该表单会生成一个 k6 脚本，因此您无需编写代码。&lt;/li&gt;&lt;li&gt; &lt;strong&gt;k6 脚本化检查（公共预览版）&lt;/strong&gt; ：为您提供在 JavaScript 中定义工作流程测试的功能和灵活性，使用 k6 API 高效地编写测试。&lt;/li&gt;&lt;/ul&gt;&lt;div class="shortcode youtube"&gt;&lt;/div&gt;&lt;p&gt;您还可以在开发生命周期的其他部分使用这些 k6 脚本，这样团队就无需维护单独的测试场景，并提高了协作和效率。例如，用于综合监控的相同脚本可以由 CI 管道中的开发人员使用，或者由卓越测试中心使用来运行自动化功能测试。&lt;/p&gt;&lt;p&gt;要了解更多信息，请查看我们的综合监控&lt;a href="https://grafana.com/blog/2024/05/01/grafana-cloud-synthetic-monitoring-all-the-latest-features/"&gt;公告博客文章&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="kubernetes-monitoring-all-the-latest-updates"&gt; Kubernetes 监控：所有最新更新&lt;/h2&gt;&lt;p&gt;我们一直忙于为&lt;a href="https://grafana.com/solutions/kubernetes/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud 中的 Kubernetes 监控&lt;/a&gt;添加新功能，帮助您更有效地跟踪和分析 Kubernetes 环境的运行状况。&lt;/p&gt;&lt;h3 id="user-experience-improvements"&gt;用户体验改进&lt;/h3&gt;&lt;p&gt;您现在可以控制 GUI 的自动刷新间隔，也可以禁用自动刷新，直到您准备好手动执行此操作。此功能对于显示大量数据的大型 Kubernetes 队列特别有用。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/docs/grafana-cloud/k8s/refresh-control.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="显示 Kubernetes 监控中用户体验改进的 gif。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="显示 Kubernetes 监控中用户体验改进的 gif。" src="https://grafana.com/media/docs/grafana-cloud/k8s/refresh-control.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="access-alert-rules-from-a-list-item"&gt;从列表项访问警报规则&lt;/h3&gt;&lt;p&gt;现在可以从集群、命名空间、节点、pod 或容器列表上的列表项导航到警报规则页面。为此，请单击列表项旁边带下划线的警报编号。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/docs/grafana-cloud/k8s/click-alert-number.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="显示如何访问警报规则页面的 gif。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="显示如何访问警报规则页面的 gif。" src="https://grafana.com/media/docs/grafana-cloud/k8s/click-alert-number.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="manage-metrics-in-the-cardinality-page"&gt;在“基数”页面中管理指标&lt;/h3&gt;&lt;p&gt;使用应用程序内的基数页面可以逐个集群地发现您的活动系列的来源。这可以帮助您识别不必要或重复的指标，以及其他潜在的基数问题。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/docs/grafana-cloud/k8s/cardinality-page.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="基数页面的屏幕截图。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="基数页面的屏幕截图。" src="https://grafana.com/media/docs/grafana-cloud/k8s/cardinality-page.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="filter-for-pod-types"&gt;过滤 Pod 类型&lt;/h3&gt;&lt;p&gt;您现在可以在工作负载列表页面上按 Pod 类型进行过滤，以查找&lt;a href="https://kubernetes.io/docs/tasks/configure-pod-container/static-pod/" rel="noopener noreferrer" target="_blank"&gt;静态 Pod&lt;/a&gt;和&lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/#using-pods" rel="noopener noreferrer" target="_blank"&gt;裸/非托管 Pod&lt;/a&gt; 。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/docs/grafana-cloud/k8s/filter-for-static-pod.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="显示如何按 Pod 类型进行过滤的 gif。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="显示如何按 Pod 类型进行过滤的 gif。" src="https://grafana.com/media/docs/grafana-cloud/k8s/filter-for-static-pod.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="begin-a-sift-investigation"&gt;开始 Sift 调查&lt;/h3&gt;&lt;p&gt;&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/machine-learning/sift/"&gt;Sift&lt;/a&gt;是一款强大的诊断助手，由&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/machine-learning/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 机器学习&lt;/a&gt;提供支持，可以对您的基础设施遥测进行调查。在 Kubernetes 监控中，您现在可以通过从 Pod、集群、命名空间或工作负载视图中单击&lt;strong&gt;“运行 Sift 调查”&lt;/strong&gt;来开始&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/machine-learning/manage/sift/#sift-checks"&gt;事件调查&lt;/a&gt;。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/docs/grafana-cloud/k8s/k8s-sift.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Kubernetes 监控中的 Sift 的 gif。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Kubernetes 监控中的 Sift 的 gif。" src="https://grafana.com/media/docs/grafana-cloud/k8s/k8s-sift.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;要了解有关 Grafana Cloud 中 Kubernetes 监控的所有最新更新的更多信息，请查看我们的&lt;a href="https://grafana.com/docs/grafana-cloud/monitor-infrastructure/kubernetes-monitoring/"&gt;技术文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="view-slo-performance-by-team-and-service"&gt;按团队和服务查看 SLO 绩效&lt;/h2&gt;&lt;p&gt;Grafana SLO（服务级别目标）提供了一个框架来衡量您为用户提供的服务质量。现在，SLO 性能页面提供了一个视图，可让您进行筛选以准确查看团队和服务 SLO 的执行情况。这对于拥有大量 SLO、想要查看逻辑子集的客户特别有用。首先，使用&lt;code&gt;team_name&lt;/code&gt;和/或&lt;code&gt;service_name&lt;/code&gt;标签标记您的 SLO。&lt;/p&gt;&lt;p&gt;要了解有关 Grafana SLO 的更多信息，请参阅我们的&lt;a href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/slo/"&gt;技术文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="rbac-for-alert-rule-provisioning-apis"&gt;用于警报规则配置 API 的 RBAC&lt;/h2&gt;&lt;p&gt;警报配置 HTTP API 已更新，以实施基于角色的访问控制 (RBAC)。在 Grafana Cloud 中，具有&lt;strong&gt;规则编写者&lt;/strong&gt;角色和&lt;strong&gt;设置配置状态&lt;/strong&gt;的用户可以访问 API 并限制对使用特定数据源的警报规则的访问。&lt;/p&gt;&lt;h2 id="new-grafana-cloud-integrations"&gt;新的 Grafana 云集成&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;&lt;a href="https://grafana.com/solutions/velero/monitor/"&gt;维莱罗&lt;/a&gt;&lt;/strong&gt;。您现在可以在 Grafana Cloud 中轻松监控 Velero，这是一款开源工具，可帮助备份和迁移 Kubernetes 集群资源和持久卷。此集成包括四个有用的警报和三个用于备份、快照和集群视图的预构建仪表板。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;&lt;a href="https://grafana.com/solutions/openldap/monitor/"&gt;开放式LDAP&lt;/a&gt;&lt;/strong&gt; 。我们为轻量级目录访问协议 (LDAP) 的开源实现添加了新的集成，其中包括四个有用的警报和两个预构建的仪表板，可帮助您监控 OpenLDAP 指标和日志。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;更多 Kubernetes 集成&lt;/strong&gt;。我们为&lt;a href="https://grafana.com/solutions/tensorflow-serving/monitor/"&gt;TensorFlow&lt;/a&gt; 、 &lt;a href="https://grafana.com/solutions/oracle-database/monitor/"&gt;OracleDB&lt;/a&gt; 、 &lt;a href="https://grafana.com/solutions/microsoft-sql-server/monitor/"&gt;Microsoft SQL Server&lt;/a&gt;和&lt;a href="https://grafana.com/solutions/istio/monitor/"&gt;Istio&lt;/a&gt;集成添加了 Kubernetes 支持。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt; &lt;em&gt;&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Thu, 16 May 2024 11:15:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/16/grafana-cloud-updates-revamped-synthetic-monitoring-improvements-to-kubernetes-monitoring-and-more/</guid></item><item><title>【AI-powered insights for continuous profiling: introducing Flame graph AI in Grafana Cloud】AI 驱动的持续分析洞察：在 Grafana Cloud 中引入 Flame graph AI</title><link>https://grafana.com/blog/2024/05/15/ai-powered-insights-for-continuous-profiling-introducing-flame-graph-ai-in-grafana-cloud/</link><description>&lt;p&gt;与可观察性领域的许多人一样，我们看到了利用人工智能来增强开发人员体验的巨大潜力。随着我们不断发展和扩展我们的可观测性平台，我们努力开发的功能不仅可以解决复杂的问题，而且可以更轻松地访问&lt;a href="https://grafana.com/docs/pyroscope/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Pyrscope&lt;/a&gt;等工具并从中获取价值。&lt;/p&gt;&lt;p&gt;今天，经过几个月的专门开发和完善，我们很高兴地宣布&lt;a href="https://grafana.com/docs/grafana-cloud/monitor-applications/profiles/flamegraph-ai/?pg=blog&amp;amp;plcmt=body-txt"&gt;Flame graph AI&lt;/a&gt; ，这是我们基于人工智能的火焰图分析功能。火焰图 AI 现已在&lt;a href="https://grafana.com/docs/grafana-cloud/monitor-applications/profiles/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud Profiles&lt;/a&gt; （由 Grafana Pyrscope 提供支持的托管连续分析工具）中提供，它使用大语言模型 (LLM) 来协助火焰图数据解释，以便您可以更快地识别瓶颈、根本原因和建议的修复方案。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_gif1_and_2_updated.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="显示火焰图 AI 功能的 gif。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="显示火焰图 AI 功能的 gif。" src="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_gif1_and_2_updated.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="the-challenge-of-turning-profiling-data-into-actionable-decisions"&gt;将分析数据转化为可行决策的挑战&lt;/h2&gt;&lt;p&gt;我们经常发现自己在与客户或社区成员进行对话，他们了解分析在削减成本、更快地解决事件和减少延迟方面的高层次价值。一旦添加到您的工具带中，分析就是主动和被动地了解代码中成本、问题或延迟的根本原因的最有效工具。&lt;/p&gt;&lt;p&gt;然而，当涉及到让他们的开发团队将火焰图和分析数据转化为可操作的代码更改以产生这些积极结果时，许多人陷入了困境。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_meme.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="一个流行的女性集中注意力的模因。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="一个流行的女性集中注意力的模因。" src="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_meme.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;这是因为通过检测应用程序来收集分析数据通常很简单，但是一旦获取这些数据，对其进行分析和解释往往具有挑战性。火焰图为分析数据提供了有价值且密集的可视化，但即使是经验丰富的开发人员也会发现它们难以理解。在现实环境中，学习曲线是复杂的，开发人员同时尝试从不同的可观测信号中获取价值。&lt;/p&gt;&lt;h2 id="bots-vs-brains-whos-better-at-flame-graph-interpretation"&gt;机器人与大脑：谁更擅长解释火焰图？&lt;/h2&gt;&lt;p&gt;认识到这些挑战后，Grafana Pyrscope 团队看到了使用人工智能简化火焰图解释的机会。&lt;/p&gt;&lt;p&gt;在最近的&lt;a href="https://grafana.com/blog/2024/03/01/grafana-labs-hackathon-projects-where-are-they-now/"&gt;Grafana 黑客马拉松&lt;/a&gt;中，我们对 OpenAI 的法学硕士进行了实际测试。我们向不同的人群发送了相同的火焰图（如下图所示）。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_meta.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="火焰图的屏幕截图。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="火焰图的屏幕截图。" src="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_meta.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;这些人根据他们在火焰图分析方面的专业知识进行分类：初学者、高级或专家。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_skill_level_chart.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="显示火焰图经验水平的饼图。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="显示火焰图经验水平的饼图。" src="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_skill_level_chart.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;然后，我们向人工智能系统和用户提供此提示，要求他们解释火焰图并回答与识别和解决性能瓶颈相关的三个具体问题：&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button&gt;&lt;img alt="将代码复制到剪贴板" class="code-clipboard__icon" height="13" src="https://grafana.com/media/images/icons/icon-copy-small-2.svg" width="14" /&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre&gt;&lt;code class="language-none"&gt;interpret this flamegraph for me and answer the following three questions: - **Performance Bottleneck**: What&amp;#39;s slowing things down? - **Root Cause**: Why is this happening? - **Recommended Fix**: How can we resolve it? [ ... specially compressed flamegraph data ]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;当我们将人工智能系统的响应与用户的响应进行比较时，我们发现人工智能在解释火焰图方面比（大多数）人类更好。以下是对其中一些发现的仔细研究：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;火焰图专家用户&lt;/strong&gt;：83% 通过。他们表现出高度的准确性和详细的理解，能够快速查明问题并正确解释它们&lt;/li&gt;&lt;li&gt;&lt;strong&gt;火焰图高级用户&lt;/strong&gt;：70% 通过。他们的反应各不相同；有些是正确的，而另一些则没有深入研究火焰图来确定根本原因。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;火焰图初学者（又称非技术专业人士）&lt;/strong&gt; ：23% 通过。该组最常选择“我不知道”的回答，尤其是当被问及根本原因和建议的解决方案时——尽管有一些非常有趣的猜测！&lt;/li&gt;&lt;li&gt; &lt;strong&gt;AI解释器&lt;/strong&gt;：100%通过（基于具有相同提示的10次迭代）。人工智能口译员的表现始终优于初学者和高级用户，提供了比专家准确但不太详细/细致的解释。&lt;/li&gt;&lt;/ul&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_quiz_results.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="显示测验结果的条形图。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="显示测验结果的条形图。" src="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_quiz_results.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="flame-graph-ai-from-concept-to-core-feature"&gt;火焰图人工智能：从概念到核心功能&lt;/h2&gt;&lt;p&gt;在黑客马拉松之后，我们认识到人工智能在帮助火焰图分析方面的价值，我们加快了人工智能驱动的火焰图工具的开发，并根据广泛的用户反馈对其进行了完善。&lt;/p&gt;&lt;p&gt; Flame graph AI 使用&lt;a href="https://grafana.com/grafana/plugins/grafana-llm-app/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 的 LLM 插件&lt;/a&gt;来提供使用 OpenAI API 的 LLM。该功能已从实验阶段过渡到在 Grafana Cloud 中普遍可用，体现了我们通过创新增强开发人员工具的可用性和有效性的承诺。&lt;/p&gt;&lt;p&gt;火焰图 AI 可以直观地引导火焰图的密集数据，突出显示关键信息并自动提出优化建议。这不仅使火焰图更易于访问，而且显着加快了问题解决和故障排除的过程。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_gif1_and_2_updated.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="显示火焰图 AI 的 gif。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="显示火焰图 AI 的 gif。" src="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_gif1_and_2_updated.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="taking-ai-profiling-further-integration-with-github-for-line-level-insights"&gt;进一步进行 AI 分析：与 GitHub 集成以获取行级见解&lt;/h3&gt;&lt;p&gt;虽然我们最初的人工智能辅助火焰图解释本身就非常有价值，但我们已经将我们的人工智能能力更进一步了。我们新的&lt;a href="https://grafana.com/docs/grafana-cloud/monitor-applications/profiles/pyroscope-github-integration/"&gt;GitHub 集成&lt;/a&gt;允许 AI 系统访问直接链接到火焰图中特定节点的源代码。这种集成通过将行级性能数据与实际代码相结合，提供有针对性的建议并识别反模式，从而实现更精确的分析。&lt;/p&gt;&lt;p&gt;典型的工作流程如下所示：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;strong&gt;识别瓶颈&lt;/strong&gt;：使用火焰图 AI 查明应用程序中的性能问题。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;通过 AI-GitHub 集成进行检查&lt;/strong&gt;：然后可以通过 GitHub 使用相关源代码详细检查已识别的节点。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;接收人工智能驱动的建议&lt;/strong&gt;：根据对周围代码的评估，人工智能直接在 Grafana 界面中提供有关代码优化的具体建议和意见。&lt;/li&gt;&lt;/ol&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_gif3.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="演示 GitHub 集成的 gif。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="演示 GitHub 集成的 gif。" src="https://grafana.com/media/blog/flame_graph_AI_in_grafana_cloud/flame_graph_AI_gif3.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt; GitHub 集成不仅会向您显示代码中的问题，还会引导您直接找到源代码，从而在需要时立即进行有效的更正。&lt;strong&gt;分析是唯一能够使用人工智能将见解转化为行动并具有这种效率和准确性的工具。&lt;/strong&gt;&lt;/p&gt;&lt;h2 id="try-flame-graph-ai-now-in-grafana-cloud"&gt;立即在 Grafana Cloud 中尝试 Flame graph AI&lt;/h2&gt;&lt;p&gt;亲身体验我们的人工智能火焰图分析如何改变您的分析方法。&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;立即注册 Grafana Cloud&lt;/a&gt; ，开始将复杂的数据转化为可行的见解。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;/p&gt;</description><pubDate>Wed, 15 May 2024 13:59:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/15/ai-powered-insights-for-continuous-profiling-introducing-flame-graph-ai-in-grafana-cloud/</guid></item><item><title>【ObservabilityCON 2024 is coming to New York!】ObservabilityCON 2024 即将来到纽约！</title><link>https://grafana.com/blog/2024/05/15/observabilitycon-2024-is-coming-to-new-york/</link><description>&lt;p&gt;官方消息：条条大路通纽约。&lt;/p&gt;&lt;p&gt;我们很高兴地宣布&lt;a href="https://grafana.com/about/events/observabilitycon/2024/?pg=blog&amp;amp;plcmt=body-txt"&gt;ObservabilityCON 2024&lt;/a&gt;将于 9 月 24 日至 25 日在纽约市举行。 Grafana Labs 的旗舰开源可观测性会议每年举行一次。您有机会成为第一个了解 Grafana LGTM Stack（用于日志的&lt;a href="https://grafana.com/docs/loki/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Loki&lt;/a&gt; 、用于可视化的&lt;a href="https://grafana.com/docs/grafana/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana&lt;/a&gt; 、用于跟踪的&lt;a href="https://grafana.com/docs/tempo/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Tempo&lt;/a&gt;以及用于指标的&lt;a href="https://grafana.com/docs/mimir/latest/?pg=blog&amp;amp;plcmt=body-txt"&gt;Mimir&lt;/a&gt; ）和可观测性解决方案的最新更新的机会，从演示和研讨会中学习提示和技巧，以及与社区其他成员联系。&lt;/p&gt;&lt;p&gt;今年为期两天的活动将包括：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;开幕主题演讲探讨了开源可观察性的新变化和未来发展趋势。&lt;/li&gt;&lt;li&gt;实践研讨会和技术会议可帮助您更深入地了解应用程序性能、改善最终用户体验、加速根本原因分析等。&lt;/li&gt;&lt;li&gt;现场演示和一直很受欢迎的“专家咨询”展位，Grafana Labs 团队成员可以帮助您解决最棘手的可观测性挑战。&lt;/li&gt;&lt;li&gt;可观察性的成功案例和从社区汲取的经验教训。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;请继续关注 ObservabilityCON 2024 议程的更多详细信息。&lt;/p&gt;&lt;h2 id="how-to-register"&gt;如何注册&lt;/h2&gt;&lt;p&gt;ObservabilityCON 2024 的注册将于 6 月底开放。去年的活动门票很快就卖完了，所以&lt;a href="https://grafana.com/about/events/observabilitycon/2024/?pg=blog&amp;amp;plcmt=body-txt"&gt;今天就注册，以便在活动开始时收到通知&lt;/a&gt;，并享受早鸟价。门票数量有限，可按此折扣价购买，因此您需要在门票售完之前抢占席位。&lt;/p&gt;&lt;div class="btn-row "&gt; &lt;a class="btn btn--primary " href="https://grafana.com/about/events/observabilitycon/2024/?pg=blog&amp;amp;plcmt=body-txt" rel="noopener noreferrer"&gt;注册以获得通知&lt;/a&gt;&lt;/div&gt;&lt;h2 id="speaking-and-sponsorship-opportunities"&gt;演讲和赞助机会&lt;/h2&gt;&lt;p&gt;您有一个可观察性胜利或项目想要与更广泛的 Grafana 和开源社区分享吗？我们很乐意听取您的意见。&lt;/p&gt;&lt;p&gt; ObservabilityCON 2024 演讲者的演讲征集 (CFP) 现已开放，我们正在寻找各种技能水平的可观测性从业者和爱好者。您必须在&lt;strong&gt;6 月 10 日&lt;/strong&gt;之前申请我们纽约议程上的席位（以及免费的会议门票）——立即&lt;a href="https://grafana-labs.typeform.com/to/vu8bTIgT?typeform-source=www.google.com#src=xxxxx" rel="noopener noreferrer" target="_blank"&gt;提交您的故事&lt;/a&gt;。如果您需要一点灵感，可以查看去年 ObservabilityCON 活动中的&lt;a href="https://grafana.com/about/events/observabilitycon/2023/"&gt;这些点播演讲&lt;/a&gt;。&lt;/p&gt;&lt;figure class="figure-wrapper w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana-labs.typeform.com/to/vu8bTIgT?typeform-source=www.google.com#src=xxxxx"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="ObservabilityCON 2024 CFP 的图像。" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="ObservabilityCON 2024 CFP 的图像。" src="https://grafana.com/media/blog/observabilitycon2024_save_the_date/obscon2024_save_the_date_CFP.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;我们还提供有限的赞助机会。您可以联系&lt;a href="mailto:sponsors@grafana.com"&gt;sponsors@grafana.com&lt;/a&gt;了解更多信息。&lt;/p&gt;&lt;h2 id="cant-make-it-to-nyc"&gt;无法前往纽约？&lt;/h2&gt;&lt;p&gt;今年晚些时候，我们将在&lt;a href="https://grafana.com/about/events/observabilitycon/2024/on-the-road/berlin/"&gt;柏林&lt;/a&gt;、&lt;a href="https://grafana.com/about/events/observabilitycon/2024/on-the-road/london/"&gt;伦敦&lt;/a&gt;、巴黎（法语）和圣保罗（葡萄牙语）举办此活动的一日版本（不包括研讨会，加上本地用户故事）。&lt;a href="https://grafana.com/about/events/observabilitycon/2024/on-the-road/"&gt;了解有关 ObservabilityCON on the Road 的更多信息&lt;/a&gt;。&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="https://grafana.com/about/events/observabilitycon/2024/?pg=blog&amp;amp;plcmt=body-txt"&gt;ObservabilityCON 2024&lt;/a&gt;倒计时已正式开始！我们一定会及时向您通报所有最新动态。如果您想探索其他即将举行的活动（无论是现场活动还是虚拟活动），请查看 Grafana Labs&lt;a href="https://grafana.com/about/events/?pg=blog&amp;amp;plcmt=body-txt"&gt;活动页面&lt;/a&gt;。&lt;/em&gt;&lt;/p&gt;</description><pubDate>Wed, 15 May 2024 12:08:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/15/observabilitycon-2024-is-coming-to-new-york/</guid></item><item><title>【Canvas panel in Grafana: create custom visualizations with all the latest features】Grafana 中的 Canvas 面板：使用所有最新功能创建自定义可视化效果</title><link>https://grafana.com/blog/2024/05/14/canvas-panel-in-grafana-create-custom-visualizations-with-all-the-latest-features/</link><description>&lt;p&gt;Grafana 10 中普遍提供的 Canvas 面板将 Grafana 的强大功能与自定义元素的灵活性结合在一起。&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/canvas/"&gt;画布可视化&lt;/a&gt;是可扩展的、表单构建的面板，可用于在静态和动态布局中显式放置元素。这允许您以标准 Grafana 面板无法实现的方式设计自定义可视化和叠加数据。最好的部分？这一切都可以在 Grafana 的 UI 中完成。&lt;/p&gt;&lt;p&gt;让我们看一下我们在&lt;a href="https://grafana.com/blog/2024/04/09/grafana-11-release-all-the-new-features/"&gt;Grafana 11&lt;/a&gt;中添加的所有令人兴奋的新功能，这些功能现已普遍可用。&lt;/p&gt;&lt;h3 id="flowcharting"&gt;流程图&lt;/h3&gt;&lt;p&gt;您现在可以使用画布面板构建丰富的动态流程图。从流程图到复杂的网络图，您可以创建和自定义连接以可视化元素之间的关系。&lt;/p&gt;&lt;p&gt;每个元素都有一系列可以连接的锚点。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/anchor-points-elements-grafana-canvas-panel.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="显示 Grafana Canvas 面板中元素上的锚点的图像" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="显示 Grafana Canvas 面板中元素上的锚点的图像" src="https://grafana.com/media/blog/canvas-panel-updates-G11/anchor-points-elements-grafana-canvas-panel.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;只需单击并从一个锚点拖动到另一个锚点即可创建新连接。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/new-connection-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana Canvas 面板中新连接的 Gif" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana Canvas 面板中新连接的 Gif" src="https://grafana.com/media/blog/canvas-panel-updates-G11/new-connection-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;如果您喜欢冒险并且需要放手，您还可以创建不以固定点结束的联系！&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/no-anchor-connection-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana Canvas 面板中无锚点连接的 Gif" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana Canvas 面板中无锚点连接的 Gif" src="https://grafana.com/media/blog/canvas-panel-updates-G11/no-anchor-connection-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;要更改连接的形状，只需拖动任何线段的中点控件即可创建新顶点。当您接近垂直或水平时，您会看到您的线段卡入到位。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/change-connection-shape-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Gif 改变 Grafana Canvas 面板中的连接形状" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Gif 改变 Grafana Canvas 面板中的连接形状" src="https://grafana.com/media/blog/canvas-panel-updates-G11/change-connection-shape-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;要删除顶点，请拖动它，直到它再次捕捉到直线。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/remove-vertex-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="从 Grafana Canvas 面板中删除顶点的 Gif" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="从 Grafana Canvas 面板中删除顶点的 Gif" src="https://grafana.com/media/blog/canvas-panel-updates-G11/remove-vertex-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;您定制的连接形状不会直接受到锚元素位置的影响。移动源元素和目标元素只会分别影响第一个和最后一个片段的显示方式。注意：保存模型以不关心元素是否移动的方式存储您的自定义连接形状。 TLDR：当元素移动时，你的顶点不会移动。&lt;/p&gt;&lt;p&gt;但是，删除元素将删除作为目标锚定到该元素的所有连接。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/remove-element-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Gif 从 Grafana Canvas 面板中删除元素" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Gif 从 Grafana Canvas 面板中删除元素" src="https://grafana.com/media/blog/canvas-panel-updates-G11/remove-element-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;您可以自定义连接的颜色、大小和圆角半径，甚至可以将此样式与您的数据联系起来。这对于找出有问题的连接特别有用！您还可以指定箭头方向、线条样式（实线、虚线、点线），甚至可以为连接设置动画以帮助可视化流程。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/customize-connections-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="" src="https://grafana.com/media/blog/canvas-panel-updates-G11/customize-connections-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;要删除连接，只需直接单击该连接，然后按&lt;strong&gt;删除&lt;/strong&gt;或&lt;strong&gt;退格&lt;/strong&gt;键即可。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/remove-connection-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="" src="https://grafana.com/media/blog/canvas-panel-updates-G11/remove-connection-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;要旋转某个元素，请首先选择它，然后单击并拖动旋转控件。要同时旋转多个元素，请在选择时按住 Shift 键以显示组旋转控件。&lt;/p&gt;&lt;p&gt;注意：虽然旋转会影响元素的锚点，但它不应影响连接的整体形状。考虑到这一点，您可能需要重新绘制连接以捕获所需的结果。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/rotate-elements-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="在 Grafana Canvas 面板中旋转元素的 Gif" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="在 Grafana Canvas 面板中旋转元素的 Gif" src="https://grafana.com/media/blog/canvas-panel-updates-G11/rotate-elements-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;我们使用 Canvas 面板流程图的目标是让您能够可视化、理解并更好地控制您的复杂系统。您应该能够以用户友好的方式快速布置它，而不必担心通常脆弱的具体细节。把那些交给我们吧！&lt;/p&gt;&lt;p&gt;如果您想了解有关幕后细节的更多信息，我邀请您深入了解&lt;a href="https://github.com/grafana/grafana/tree/main/public/app/plugins/panel/canvas/components/connections" rel="noopener noreferrer" target="_blank"&gt;Canvas 连接背后的源代码&lt;/a&gt;。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/flowcharting-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana Canvas 面板中流程图的 Gif 演示" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana Canvas 面板中流程图的 Gif 演示" src="https://grafana.com/media/blog/canvas-panel-updates-G11/flowcharting-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="create-interactive-buttons"&gt;创建交互式按钮&lt;/h3&gt;&lt;p&gt;您现在可以向画布面板添加交互式按钮。按钮可以配置为调用 API 端点。这将 Grafana 的功能推向了新的高度，允许您创建可用于控制外部系统的交互式仪表板。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/interactive-buttons-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana 画布面板中的交互式按钮的 Gif" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana 画布面板中的交互式按钮的 Gif" src="https://grafana.com/media/blog/canvas-panel-updates-G11/interactive-buttons-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;您可以使用基本的、未经身份验证的 HTTP 请求（例如 GET、POST 和 PUT）配置画布按钮，并支持各种有效负载内容类型，包括 JSON、文本、JavaScript 等。 API 编辑器还与&lt;a href="https://grafana.com/docs/grafana/latest/dashboards/variables/"&gt;仪表板变量&lt;/a&gt;完全兼容，因此您可以在配置 API 端点、查询参数、标头参数和负载时提供更多上下文！&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/api-editor-grafana-canvas-panel.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana 中的 API 编辑器 UI" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana 中的 API 编辑器 UI" src="https://grafana.com/media/blog/canvas-panel-updates-G11/api-editor-grafana-canvas-panel.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;画布按钮将 Grafana 转变为双向监控解决方案，我们很高兴看到社区如何采用它。到目前为止，我们已经看到&lt;a href="https://community.grafana.com/t/use-canvas-button-to-write-data-point-to-influxdb/108179" rel="noopener noreferrer" target="_blank"&gt;用户将数据写入 InfluxDB&lt;/a&gt;并尝试管理其 IT 基础设施，而无需离开 Grafana。&lt;/p&gt;&lt;h3 id="ease-of-use-improvements"&gt;易用性改进&lt;/h3&gt;&lt;h4 id="pan--zoom"&gt;平移 + 缩放&lt;/h4&gt;&lt;p&gt;对于特别大的画布，您可以启用平移和缩放功能切换以无缝导航您的设计。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/pan-zoom-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana Canvas 面板中平移和缩放的 Gif" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana Canvas 面板中平移和缩放的 Gif" src="https://grafana.com/media/blog/canvas-panel-updates-G11/pan-zoom-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;要启用此功能，您必须首先启用&lt;code&gt;canvasPanelPanZoom&lt;/code&gt;&lt;a href="https://grafana.com/docs/grafana/next/setup-grafana/configure-grafana/feature-toggles/"&gt;功能切换&lt;/a&gt;。启用功能切换后，您可以打开&lt;code&gt;Pan and zoom&lt;/code&gt;以及&lt;code&gt;Infinite panning&lt;/code&gt;画布编辑器选项来测试它们。该功能处于公开预览阶段， &lt;a href="https://github.com/grafana/grafana/issues/new?assignees=&amp;amp;labels=&amp;amp;projects=&amp;amp;template=1-feature_requests.md&amp;amp;labels=area/panel/canvas" rel="noopener noreferrer" target="_blank"&gt;我们欢迎任何反馈&lt;/a&gt;。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/pan-zoom-controls-grafana-canvas-panel.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana Canvas 面板 UI 中的平移和缩放控件" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana Canvas 面板 UI 中的平移和缩放控件" src="https://grafana.com/media/blog/canvas-panel-updates-G11/pan-zoom-controls-grafana-canvas-panel.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h4 id="snapping-and-alignment"&gt;捕捉和对齐&lt;/h4&gt;&lt;p&gt;在过去，相对于画布的其余部分精确放置一个元素或一组元素并不容易。现在，您可以轻松地捕捉和对齐画布上的一个或一组元素。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/snapping-alignment-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana Canvas 面板中的捕捉和对齐 Gif" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana Canvas 面板中的捕捉和对齐 Gif" src="https://grafana.com/media/blog/canvas-panel-updates-G11/snapping-alignment-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h4 id="expanded-data-link-support"&gt;扩展的数据链路支持&lt;/h4&gt;&lt;p&gt;在“画布”面板中，现在支持数据链接的元素比以往更多。之前，支持仅限于文本和指标值元素。现在，几乎所有元素都支持数据链接。数据链接使您能够链接其他仪表板和外部资源，并以模板变量和数据的形式包含当前仪表板的上下文。要了解如何在画布中设置数据链接，请参阅我们的&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/visualizations/canvas/#data-links"&gt;画布面板文档&lt;/a&gt;。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/canvas-panel-updates-G11/data-link-support-grafana-canvas-panel.gif"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana Cavnas 面板中数据链接支持的 Gif" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana Cavnas 面板中数据链接支持的 Gif" src="https://grafana.com/media/blog/canvas-panel-updates-G11/data-link-support-grafana-canvas-panel.gif" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="get-started-with-the-canvas-panel-in-grafana"&gt;开始使用 Grafana 中的 Canvas 面板&lt;/h2&gt;&lt;p&gt;今天想查看 Grafana 中的 Canvas 面板吗？您可以&lt;a href="https://play.grafana.org/d/adl8u6nt2mfwgc/g11-canvas-demo?orgId=1&amp;amp;from=now-6h&amp;amp;to=now&amp;amp;refresh=5s" rel="noopener noreferrer" target="_blank"&gt;使用 play.grafana.org 上的演示仪表板&lt;/a&gt;探索本博客中概述的所有内容。&lt;/p&gt;&lt;p&gt;通过将所有这些令人兴奋的更新结合在一起，Canvas 面板正在发展成为 Grafana 中功能强大、多功能的可视化工具，使您能够将数据与适合您的具体用例的自定义可视化效果联系起来。&lt;/p&gt;&lt;h2 id="learn-more-about-grafana-11"&gt;了解有关 Grafana 11 的更多信息&lt;/h2&gt;&lt;p&gt;Grafana 11 已正式发布，并包含许多新功能，使 Grafana 更易于使用、操作和扩展。了解有关新功能的更多信息，包括：&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;a href="https://grafana.com/blog/2024/05/14/how-to-explore-metrics-without-promql-queries-in-grafana/"&gt;如何在不编写任何 PromQL 的情况下探索指标&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/blog/2024/05/14/grafana-transformations-10-new-ways-to-get-more-out-of-your-data/"&gt;通过转换充分利用数据的 10 种方法&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/blog/2024/05/14/grafana-alerting-new-tools-to-resolve-incidents-faster-and-avoid-alert-fatigue/"&gt;Grafana Alerting 中的最新工具可加快事件响应速度&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;要了解所有正在运行的最新功能，请观看 GrafanaCON 2024 的“ &lt;a href="https://youtu.be/8pPJ_X1xPfA?feature=shared" rel="noopener noreferrer" target="_blank"&gt;Grafana 11 Deep Dive&lt;/a&gt; ”会议，现已点播。&lt;/p&gt;&lt;p&gt;有关 Grafana 11 中所有新功能的详细列表，请查看我们的&lt;a href="https://grafana.com/docs/grafana/v11.0/"&gt;Grafana 文档&lt;/a&gt;、Grafana &lt;a href="https://github.com/grafana/grafana/blob/main/CHANGELOG.md" rel="noopener noreferrer" target="_blank"&gt;变更日志&lt;/a&gt;或我们的&lt;a href="https://grafana.com/docs/grafana/v11.0/whatsnew/whats-new-in-v11-0/?pg=blog&amp;amp;plcmt=body-txt"&gt;新增功能文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="upgrade-to-grafana-11"&gt;升级到 Grafana 11&lt;/h2&gt;&lt;p&gt;立即&lt;a href="https://grafana.com/grafana/download/11.0.0?pg=blog&amp;amp;plcmt=body-txt"&gt;下载 Grafana 11&lt;/a&gt;或通过注册&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;体验所有新功能，Grafana Cloud 为每个用例提供了实际有用的免费云套餐和计划。立即注册&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;免费的 Grafana Cloud&lt;/a&gt;帐户。&lt;/p&gt;&lt;p&gt;我们的&lt;a href="https://grafana.com/docs/grafana/latest/upgrade-guide/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 升级指南&lt;/a&gt;还为那些希望从早期版本升级的用户提供分步说明，以确保顺利过渡。&lt;/p&gt;&lt;h2 id="join-the-grafana-labs-community"&gt;加入 Grafana 实验室社区&lt;/h2&gt;&lt;p&gt;我们&lt;a href="https://github.com/grafana/grafana/issues/new?assignees=&amp;amp;labels=&amp;amp;projects=&amp;amp;template=1-feature_requests.md&amp;amp;labels=area/panel/canvas" rel="noopener noreferrer" target="_blank"&gt;欢迎您对 Canvas 提出任何反馈&lt;/a&gt;，并期待与社区就未来的开发进行合作。有兴趣了解 Canvas 的起源吗？查看&lt;a href="https://grafana.com/blog/2023/05/11/use-canvas-panels-to-customize-visualizations-in-grafana/"&gt;我们最初的 Canvas 面板博客文章&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;我们还邀请您参与&lt;a href="https://community.grafana.com/?pg=blog&amp;amp;plcmt=body-txt" rel="noopener noreferrer" target="_blank"&gt;Grafana Labs 社区论坛&lt;/a&gt;。分享您使用新功能的体验，讨论最佳实践，并探索将这些更新集成到您的工作流程中的创造性方法。&lt;/p&gt;&lt;h2 id="a-special-thanks-to-our-community"&gt;特别感谢我们的社区&lt;/h2&gt;&lt;p&gt;我们向&lt;a href="https://grafana.com/blog/2023/12/12/the-story-of-grafana-documentary-the-community-behind-the-code/"&gt;Grafana 社区&lt;/a&gt;表示衷心的感谢！&lt;/p&gt;&lt;p&gt;您的贡献，从拉取请求到有价值的反馈，对于不断增强 Grafana 至关重要。您的热情和奉献精神激励我们 Grafana Labs 不断创新并提升 Grafana 平台。&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Tue, 14 May 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/14/canvas-panel-in-grafana-create-custom-visualizations-with-all-the-latest-features/</guid></item><item><title>【Grafana Alerting: new tools to resolve incidents faster and avoid alert fatigue】Grafana Alerting：更快解决事件并避免警报疲劳的新工具</title><link>https://grafana.com/blog/2024/05/14/grafana-alerting-new-tools-to-resolve-incidents-faster-and-avoid-alert-fatigue/</link><description>&lt;p&gt;警报策略的成熟度直接影响基础设施和应用程序的可靠性。它还会对工程生产力产生重大影响。因此，无论您是在谈论更快地解决事件还是避免警报疲劳，警报都应该始终处于首要位置。&lt;/p&gt;&lt;p&gt;借助&lt;a href="https://grafana.com/products/cloud/alerting/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Alerting&lt;/a&gt; ，无论数据存储在何处，您都可以针对日志和指标发出警报，这使其成为整合和自动化观察系统方式的强大工具。近几个月来，我们努力让创建、管理和分类警报变得更加容易。我们还致力于满足企业用户的需求，这些用户希望围绕代码部署实现可扩展性，并支持在同一环境中工作的多个团队。&lt;/p&gt;&lt;p&gt;在这篇博文中，我们将回顾在&lt;a href="https://grafana.com/blog/2024/04/09/grafana-11-release-all-the-new-features/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 11&lt;/a&gt;的道路上所做的一些令人兴奋的更新，该版本现已普遍可用。这些升级可以帮助您更快地识别和解决问题，并提高在凌晨 3 点出现问题时收到通知的工程师的生活质量&lt;/p&gt;&lt;p&gt;要深入了解 Grafana 警报的最新功能，您还可以查看 GrafanaCON 2024 的“ &lt;a href="https://grafana.com/about/events/grafanacon/2024/grafana-alerting-tips-and-tricks-and-roadmap/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 警报的演变&lt;/a&gt;”会议，该会议可供点播观看。&lt;/p&gt;&lt;h2 id="dynamic-alert-routing-simplified"&gt;简化动态警报路由&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;可用性：&lt;/strong&gt; Grafana Cloud、Grafana Enterprise、Grafana OSS&lt;/p&gt;&lt;p&gt;您已经可以在 Grafana 警报中向通知策略添加标签，以将警报路由到不同的接收者（电子邮件、Slack、Grafana OnCall 等），以便修改警报的发送位置。这种动态功能非常强大，但对于不熟悉这种独特方法的用户以及不需要设置动态路由树的用户来说，通常会感到困惑。虽然一些用户喜欢这个功能，但其他用户发现自己要么制造了比他们解决的问题更多的问题，要么干脆完全绕过了它。&lt;/p&gt;&lt;p&gt;通过简化的路由，我们采用了相同的功能并将其抽象化，这&lt;a href="https://grafana.com/blog/2024/04/02/simplified-routing-in-grafana-alerting-easy-secure-and-powerful/?pg=blog&amp;amp;plcmt=body-txt"&gt;解决了阻止许多用户利用这些功能的复杂性问题&lt;/a&gt;。现在，您只需选择希望警报发送到的联系点，我们就会在后台自动生成该策略。然后，您可以修改策略、静音计时、更改分组等等。&lt;/p&gt;&lt;div class="shortcode youtube"&gt;&lt;/div&gt;&lt;h2 id="a-new-dashboard-view-designed-to-expedite-triage"&gt; 旨在加快分类速度的新仪表板视图&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;可用性：&lt;/strong&gt; Grafana Cloud、Grafana Enterprise、Grafana OSS&lt;/p&gt;&lt;p&gt;我们重新设计了警报详细信息视图，以更好地促进警报分类。这会将隐藏在 UI 中的重要信息（例如特定警报的查询）汇集在一起​​，并在您首次打开页面时轻松扫描。现在，您将在面包屑导航中找到命名空间和组，您可以使用它们轻松过滤规则。&lt;/p&gt;&lt;p&gt;我们还添加了“历史记录”选项卡，使您可以更轻松地了解发生的情况，提供功能更丰富的实例视图，并改进了布局以使整个体验更加顺畅。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/alerting-latest-11/signal-to-noisepng.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="信噪比仪表板" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="信噪比仪表板" src="https://grafana.com/media/blog/alerting-latest-11/signal-to-noisepng.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="tco-reduction-through-updated-rule-evaluations"&gt;通过更新规则评估降低 TCO&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;可用性：&lt;/strong&gt; Grafana Cloud、Grafana Enterprise、Grafana OSS&lt;/p&gt;&lt;p&gt;我们刚刚对规则评估进行了更新，通过消除存储某些历史数据的需要并解决现有的内存泄漏问题，应该为几乎所有 Grafana Alerting 用户提供重大改进。&lt;/p&gt;&lt;p&gt;以前，状态管理器存储多个先前评估的结果，这意味着用户能够编写最终消耗所有可用内存的规则。但由于 Grafana Alerting 仅读取最新的评估，因此我们更新了系统，仅保留我们需要的最新数据。&lt;/p&gt;&lt;p&gt;我们预计 Grafana Alerting 的重度用户将能够通过此修复节省千兆字节的数据存储。即使在具有五个简单规则的基本实例上，此修复也可以将整个 Grafana 内存使用量减少多达 30%！为了说明节省的情况，请查看下图，其中所有三个时间序列都跟踪相同的警报规则。最上面的行是没有修复的内存使用情况，下面的行是有修复的内存使用情况。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/alerting-latest-11/memory-savings.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="时间序列图显示更改前后的内存使用情况" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="时间序列图显示更改前后的内存使用情况" src="https://grafana.com/media/blog/alerting-latest-11/memory-savings.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="keep-last-state-to-reduce-noise"&gt; “保持最后状态”以减少噪音&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;可用性：&lt;/strong&gt; Grafana Cloud、Grafana Enterprise、Grafana OSS&lt;/p&gt;&lt;p&gt;我们很高兴与大家分享，“ &lt;a href="https://grafana.com/docs/grafana/latest/alerting/fundamentals/alert-rules/state-and-health/?pg=blog&amp;amp;plcmt=body-txt#keep-last-state"&gt;保持最后状态&lt;/a&gt;”是一种在我们已弃用的旧版警报中很流行的降噪设置，现在可在当前版本的 Grafana 警报中使用。&lt;/p&gt;&lt;p&gt;您是否曾经遇到过间歇性的&lt;code&gt;NoData&lt;/code&gt;或&lt;code&gt;Error&lt;/code&gt;警报，并且不确定是否要发出警报还是维持现状？此设置为这一困境提供了细致入微的解决方案，体现了这样的概念：来自数据源的这些响应不一定等同于系统状态的更改。&lt;/p&gt;&lt;p&gt;此设置不会仓促下结论，而是维护每个实例的最后已知状态。因此，如果一个区域在遇到&lt;code&gt;NoData&lt;/code&gt;或&lt;code&gt;Error&lt;/code&gt;之前运行正常，它将保持在&lt;code&gt;Normal&lt;/code&gt;状态，而当前有问题的区域将继续&lt;code&gt;Firing&lt;/code&gt; 。这确保警报能够更动态地适应不断变化的条件，而不会过早发出警报或消除潜在问题。&lt;/p&gt;&lt;p&gt;然而，必须注意的是，这并不是万无一失的。长时间的&lt;code&gt;NoData&lt;/code&gt;或&lt;code&gt;Error&lt;/code&gt;响应可能最终会破坏假设最后已知状态的可靠性。对于严格监控至关重要的情况，仅依赖此设置可能并不合适。在这些情况下，请使用不同的设置或添加单独的警报规则，以确保有效地发现长期的数据源问题。&lt;/p&gt;&lt;h2 id="enhanced-security-for-as-code-deployments"&gt;增强代码部署的安全性&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;可用性：&lt;/strong&gt; Grafana Cloud、Grafana Enterprise、Grafana OSS&lt;/p&gt;&lt;p&gt;我们添加了用于角色配置的 RBAC，这允许普通用户更安全地访问 Grafana Alerting 的配置 API。以前，您需要一个服务管理员帐户，因此团队在不同的用户组之间共享访问权限。这可能会产生安全问题，因为它为这些用户提供了服务器范围的设置和资源。&lt;/p&gt;&lt;p&gt;但通过 RBAC，这些用户可以访问 API 来创建或静音警报，并且管理员可以确信访问权限将与他们的&lt;a href="https://grafana.com/docs/grafana/latest/administration/roles-and-permissions/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 权限&lt;/a&gt;相关联。这对于以代码形式运行警报的团队特别有用，因为您不需要为所有用户提供管理员级别访问权限。&lt;/p&gt;&lt;h2 id="tighter-integration-withgrafana-oncall"&gt;与 Grafana OnCall 更紧密的集成&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;可用性：&lt;/strong&gt; Grafana Cloud、Grafana Enterprise、Grafana OSS&lt;/p&gt;&lt;p&gt; Grafana OnCall &lt;a href="https://grafana.com/docs/oncall/latest/integrations/grafana-alerting/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在是 Grafana Alerting 的一等公民&lt;/a&gt;。 Grafana OnCall 现在是它自己的联系点类型，这使得从一个 UI 启动您的 OnCall 设置或通过下拉选择连接到现有 OnCall 集成变得非常简单。您可以获得大量功能，并且不再需要自定义 Webhook，从而可以轻松识别警报工作流程中的特定 OnCall 集成。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/alerting-latest-11/oncall-integration.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="UI 中新的 Grafana OnCall 集成菜单" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="UI 中新的 Grafana OnCall 集成菜单" src="https://grafana.com/media/blog/alerting-latest-11/oncall-integration.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="distributed-evaluation-intervals-for-more-consistent-performance"&gt;分布式评估间隔以获得更一致的性能&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;可用性：&lt;/strong&gt; Grafana Cloud、Grafana Enterprise、Grafana OSS&lt;/p&gt;&lt;p&gt;当您在 Grafana Alerting 中制定规则并将其添加到不同的评估组时，这些组可能具有不同的评估窗口。然后，这些窗口定义警报命中数据源的频率，以便您可以查看警报是否正在触发。这增加了一些很好的灵活性，但也可能导致问题。&lt;/p&gt;&lt;p&gt;以前，所有规则都是在这些时间间隔开始时进行评估，这会产生大量请求。这导致查询数据源的资源利用率突然飙升，从而降低性能甚至使繁忙的数据库崩溃。通过最近对 Grafana Alerting 的更新，我们将评估分散到整个时间范围内，因此您消耗的资源更少，并且不必担心那些突然的峰值。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/alerting-latest-11/rule-evaluation.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="图表显示评估间隔更改后从大峰值到一致性能的变化" class="lazyload " /&gt; &lt;noscript&gt;&lt;img alt="图表显示评估间隔更改后从大峰值到一致性能的变化" src="https://grafana.com/media/blog/alerting-latest-11/rule-evaluation.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;把它想象成经营票房。如果您安排所有客户同时前来购票，您会收到大量请求，排起长队，并且您必须加倍努力才能满足您的所有请求。但是，如果您将客户分开，那么您就不需要开放那么多的摊位，并且可以用更少的资源满足所有请求。&lt;/p&gt;&lt;h2 id="reduce-noise-with-recovery-threshold-for-alerts"&gt;通过警报恢复阈值减少噪音&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;可用性：&lt;/strong&gt; Grafana Cloud、Grafana Enterprise、Grafana OSS&lt;/p&gt;&lt;p&gt;警报阈值是主动可观察性策略的基础部分。例如，您可以设置在服务器利用率达到 90% 时触发警报，以便您可以在服务器运行温度升高和性能开始下降之前进行必要的调整。这很棒，但它不允许有很多细微差别。更重要的是，它还会导致不断的警报&lt;a href="https://en.wikipedia.org/wiki/Route_flapping" rel="noopener noreferrer" target="_blank"&gt;扑动&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;当触发相同的警报并解决该警报时，就会发生这种情况，但利用率仍然未达到需要的水平。假设同一台服务器的利用率为 85%。警报会得到解决，但很可能很快就会再次触发，您会发现自己陷入警报和解决方案的循环中。&lt;/p&gt;&lt;p&gt;现在，您可以为何时触发警报以及何时解决警报设置不同的阈值。因此，对于相同的 90% 触发规则，您可以将解析规则设置为 70% 利用率。这样，当您对警报进行分类时，您可以更好地了解如何将其降低到您满意的水平。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/alerting-latest-11/threshold.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="UI 中“阈值”菜单的屏幕截图" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="UI 中“阈值”菜单的屏幕截图" src="https://grafana.com/media/blog/alerting-latest-11/threshold.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="more-grafana-alerting-goodness"&gt;更多 Grafana 警报善良&lt;/h2&gt;&lt;p&gt;我们刚刚完成了 Grafana Alerting 的一些重大更新，但我们还进行了更多更改来改进和简化您的使用方式，包括：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;将警报资源导出到 Terraform。&lt;/strong&gt;您现在可以将警报规则、联系点、通知策略等导出为 Terraform 资源，以便您可以在代码工具中开始配置资源。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;通过仪表板查看警报。&lt;/strong&gt;我们在仪表板顶部添加了一个警报按钮，它将向您显示与该仪表板相关的所有警报。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;更轻松地评估路由性能。&lt;/strong&gt;我们改进了联系点列表视图，以便更轻松地查看某个联系点是否正在使用、上次运行时间以及完成行程需要多长时间。这应该会简化调试数据源集成的任何性能问题的过程。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;在通知策略中使用新字符。&lt;/strong&gt;我们添加了&lt;a href="https://en.wikipedia.org/wiki/UTF-8" rel="noopener noreferrer" target="_blank"&gt;UTF-8&lt;/a&gt;支持，以便您可以将表情符号和其他字符添加到通知中。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;全面了解警报性能。&lt;/strong&gt;我们为 Grafana Cloud 用户添加了一个见解页面，以便在一个地方查看他们的整个设置。您可以查看哪些警报触发次数最多、评估故障、查看性能统计数据等等。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;我们知道警报对于您的可观察性策略有多重要，因此我们将继续添加功能并使 Grafana Alerting 的使用变得更加容易。与此同时，如果您仍在使用我们的旧版警报，请查看&lt;a href="https://grafana.com/blog/2024/04/04/legacy-alerting-removal-what-you-need-to-know-about-upgrading-to-grafana-alerting/?pg=blog&amp;amp;plcmt=body-txt"&gt;此博文&lt;/a&gt;，其中为您提供了有关如何以及为何立即进行转换所需的一切信息。&lt;/p&gt;&lt;h2 id="learn-more-about-grafana-11"&gt;了解有关 Grafana 11 的更多信息&lt;/h2&gt;&lt;p&gt;Grafana 11 已正式发布，并包含许多新功能，使 Grafana 更易于使用、操作和扩展。了解有关新功能的更多信息，包括：&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;a href="https://grafana.com/blog/2024/05/14/how-to-explore-metrics-without-promql-queries-in-grafana/"&gt;如何在不编写任何 PromQL 的情况下探索指标&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/blog/2024/05/14/grafana-transformations-10-new-ways-to-get-more-out-of-your-data/"&gt;通过转换充分利用数据的 10 种方法&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/blog/2024/05/14/grafana-alerting-new-tools-to-resolve-incidents-faster-and-avoid-alert-fatigue/"&gt;&lt;/a&gt; &lt;a href="https://grafana.com/blog/2024/05/14/canvas-panel-in-grafana-create-custom-visualizations-with-all-the-latest-features/"&gt;如何使用 Canvas 面板中的最新工具创建自定义可视化效果&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;要了解所有正在运行的最新功能，请观看 GrafanaCON 2024 的“ &lt;a href="https://grafana.com/about/events/grafanacon/2024/grafana-11-deep-dive/"&gt;Grafana 11 Deep Dive&lt;/a&gt; ”会议，现已点播。&lt;/p&gt;&lt;p&gt;有关 Grafana 11 中所有新功能的详细列表，请查看我们的&lt;a href="https://grafana.com/docs/grafana/v11.0/"&gt;Grafana 文档&lt;/a&gt;、Grafana &lt;a href="https://github.com/grafana/grafana/blob/main/CHANGELOG.md" rel="noopener noreferrer" target="_blank"&gt;变更日志&lt;/a&gt;或我们的&lt;a href="https://grafana.com/docs/grafana/v11.0/whatsnew/whats-new-in-v11-0/?pg=blog&amp;amp;plcmt=body-txt"&gt;新增功能文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="upgrade-to-grafana-11"&gt;升级到 Grafana 11&lt;/h2&gt;&lt;p&gt;立即&lt;a href="https://grafana.com/grafana/download/11.0.0?pg=blog&amp;amp;plcmt=body-txt"&gt;下载 Grafana 11&lt;/a&gt;或通过注册&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;体验所有新功能，Grafana Cloud 为每个用例提供了实际有用的免费云套餐和计划。立即注册&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;免费的 Grafana Cloud&lt;/a&gt;帐户。&lt;/p&gt;&lt;p&gt;我们的&lt;a href="https://grafana.com/docs/grafana/latest/upgrade-guide/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 升级指南&lt;/a&gt;还为那些希望从早期版本升级的用户提供分步说明，以确保顺利过渡。&lt;/p&gt;&lt;h2 id="join-the-grafana-labs-community"&gt;加入 Grafana 实验室社区&lt;/h2&gt;&lt;p&gt;我们还邀请您在&lt;a href="https://community.grafana.com/?pg=blog&amp;amp;plcmt=body-txt" rel="noopener noreferrer" target="_blank"&gt;Grafana Labs 社区论坛&lt;/a&gt;中与其他 Grafana 用户互动。分享您使用新功能的体验，讨论最佳实践，并探索将这些更新集成到您的工作流程中的创造性方法。&lt;/p&gt;&lt;h2 id="a-special-thanks-to-our-community"&gt;特别感谢我们的社区&lt;/h2&gt;&lt;p&gt;我们向&lt;a href="https://grafana.com/blog/2023/12/12/the-story-of-grafana-documentary-the-community-behind-the-code/"&gt;Grafana 社区&lt;/a&gt;表示衷心的感谢！&lt;/p&gt;&lt;p&gt;您的贡献，从拉取请求到有价值的反馈，对于不断增强 Grafana 至关重要。您的热情和奉献精神激励我们 Grafana Labs 不断创新并提升 Grafana 平台。&lt;/p&gt;</description><pubDate>Tue, 14 May 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/14/grafana-alerting-new-tools-to-resolve-incidents-faster-and-avoid-alert-fatigue/</guid></item><item><title>【Grafana transformations: 10 new ways to get more out of your data】Grafana 转换：充分利用数据的 10 种新方法</title><link>https://grafana.com/blog/2024/05/14/grafana-transformations-10-new-ways-to-get-more-out-of-your-data/</link><description>&lt;p&gt;Grafana 的超能力之一是能够借助我们丰富的数据源目录将所有数据整合到一个平台中。&lt;/p&gt;&lt;p&gt;通常，您希望在单个仪表板或面板中可视化来自不同数据源的信息。或者您可能希望优化从查询返回的数据而不更改原始数据源。或者，由于查询语言的限制，您可能需要修改数据，从而无法获得所需的格式。&lt;/p&gt;&lt;p&gt;对于上述所有情况，这就是 Grafana 转换发挥作用的时候，它可以帮助您在可视化数据之前对其进行操作，并从仪表板中获得更多见解。此功能对于从同一数据源创建和管理多个 Grafana 仪表板特别有用，可提高数据可视化的效率和灵活性。&lt;/p&gt;&lt;p&gt;转换的常见用例包括：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;更改字段名称以提高可视化的清晰度或一致性。&lt;/li&gt;&lt;li&gt;执行联接以根据时间或其他共享字段合并来自不同源的数据。&lt;/li&gt;&lt;li&gt;数学运算支持跨查询的计算，例如求和、平均值和计数。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt; Grafana 转换可以做更多事情：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;复杂的工作流程。&lt;/strong&gt;转换按顺序应用，每个转换都作用于前一个转换的结果，从而实现复杂的数据操作工作流程。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;调试。&lt;/strong&gt; Grafana 提供了工具（表中视图）来可视化转换过程中的中间数据状态，帮助识别和修复转换逻辑问题。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;增强性能。&lt;/strong&gt;使用转换可以最大限度地减少为不同可视化重复获取或计算数据的需要，从而提高性能。&lt;/li&gt;&lt;/ul&gt;&lt;h2 id="grafana-transformations-10-new-improvements"&gt; Grafana 转换：10 项新改进&lt;/h2&gt;&lt;p&gt;在转向 Grafana 11 的过程中，我们进行了数十项更改和更新，不仅注重添加新的转换，而且还使浏览、筛选和选择对您所需的结果和数据源最有帮助的转换变得更加容易你有。&lt;/p&gt;&lt;h3 id="1-new-ui-for-improved-developer-experience"&gt; 1.全新UI，提升开发者体验&lt;/h3&gt;&lt;p&gt;Grafana 支持多种类型的转换，使您能够过滤、组合、重新格式化、重新排序和重命名、计算新字段、执行空间操作，甚至创建新的可视化。所有的可能性一开始都会令人生畏。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/grafana-11-transformations/add-another-transformation.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="添加另一个转换菜单" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="添加另一个转换菜单" src="https://grafana.com/media/blog/grafana-11-transformations/add-another-transformation.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;这就是转换抽屉发挥作用的时候。使用新的用户界面，您可以：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;立即查看更多转换，帮助您了解可能性。您还可以更改抽屉的宽度。&lt;/li&gt;&lt;li&gt;根据您需要的操作或结果搜索或过滤转换。&lt;/li&gt;&lt;li&gt;通过改进的描述和可视化转换本质的图像，了解转换的作用。&lt;/li&gt;&lt;li&gt;清楚地识别处于成熟的 alpha 或 beta 阶段的转型。&lt;/li&gt;&lt;/ul&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/grafana-11-transformations/add-another-transformation-box.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="添加另一个转换菜单，突出显示“创建热图”和“提取字段”框" class="lazyload " /&gt; &lt;noscript&gt;&lt;img alt="添加另一个转换菜单，突出显示“创建热图”和“提取字段”框" src="https://grafana.com/media/blog/grafana-11-transformations/add-another-transformation-box.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;此外，Grafana 将检测来自查询的当前数据，并将可能不适合数据源返回的特定数据的转换图块灰显（或静音）。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/grafana-11-transformations/convert-field-type.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="转换字段类型扩展" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="转换字段类型扩展" src="https://grafana.com/media/blog/grafana-11-transformations/convert-field-type.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;我们还将&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/query-transform-data/transform-data/?pg=blog&amp;amp;plcmt=body-txt"&gt;转换文档&lt;/a&gt;引入了 Grafana UI，让您可以轻松参考所需的一切，以充分利用转换并进行故障排除。&lt;/p&gt;&lt;h3 id="2-date-and-time-formatting"&gt; 2. 日期和时间格式&lt;/h3&gt;&lt;p&gt;处理日期和时间数据时，不同的时间格式可能很有用。通过新的&lt;strong&gt;格式时间&lt;/strong&gt;转换，您可以将任何时间格式转换为 Moment.js 支持的任何其他格式。当&lt;strong&gt;通过转换与 Group&lt;/strong&gt;一起使用时，这也可以用于将天、周和其他时间窗口存储在一起。&lt;/p&gt;&lt;p&gt;当使用&lt;strong&gt;格式时间&lt;/strong&gt;和&lt;strong&gt;转换字段类型&lt;/strong&gt;转换将时间格式化为字符串时，我们还添加了对手动设置时区的支持。这允许相对于全球任何时区来格式化时间。&lt;/p&gt;&lt;p&gt;请参阅我们的&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/query-transform-data/transform-data/?pg=blog&amp;amp;plcmt=body-txt#format-time"&gt;格式时间文档&lt;/a&gt;了解更多信息。&lt;/p&gt;&lt;h3 id="3-additional-data-hierarchy-for-table-visualizations"&gt; 3. 用于表格可视化的附加数据层次结构&lt;/h3&gt;&lt;p&gt;处理分层或分组数据时，&lt;strong&gt;嵌套表&lt;/strong&gt;转换特别有用。它允许用户可视化数据中的关系和层次结构。它还有助于将复杂的数据组织成更易于理解和分层的格式，从而更容易分析和解释。&lt;/p&gt;&lt;p&gt;想象一下，您有来自监控系统的数据，其中包含&lt;code&gt;region&lt;/code&gt; 、 &lt;code&gt;server_type&lt;/code&gt;和&lt;code&gt;error_count&lt;/code&gt;字段。使用&lt;code&gt;groupToNestedTable&lt;/code&gt; ，您可以按&lt;code&gt;region&lt;/code&gt;和&lt;code&gt;server_type&lt;/code&gt;进行分组，以快速查看错误计数在各个区域的不同服务器之间的分布情况。&lt;/p&gt;&lt;p&gt;新的&lt;code&gt;groupToNestedTable&lt;/code&gt;功能可在功能标志后面使用。&lt;/p&gt;&lt;h3 id="4-set-threshold-colors"&gt; 4. 设置阈值颜色&lt;/h3&gt;&lt;p&gt;使用&lt;strong&gt;查询结果转换中的配置&lt;/strong&gt;时，能够为各个阈值自定义特定颜色，使您可以更好地控制可视化并更清楚地了解数据。&lt;/p&gt;&lt;p&gt;要了解更多信息，请阅读我们的&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/query-transform-data/transform-data/?pg=blog&amp;amp;plcmt=body-txt#config-from-query-results"&gt;查询结果配置文档&lt;/a&gt;。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/grafana-11-transformations/set-threshold-colors-grafana-transformations.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="在 Grafana 中使用转换设置阈值颜色的屏幕截图" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="在 Grafana 中使用转换设置阈值颜色的屏幕截图" src="https://grafana.com/media/blog/grafana-11-transformations/set-threshold-colors-grafana-transformations.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h3 id="5-substring-matcher-added-to-filter-data-by-values"&gt; 5. 添加子字符串匹配器按值过滤数据&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;按值过滤数据&lt;/strong&gt;转换通过在字段值上启用部分字符串匹配来简化数据过滤，这要归功于两个新的匹配： &lt;code&gt;Contains substring&lt;/code&gt;和&lt;code&gt;Does not contain substring&lt;/code&gt; 。&lt;/p&gt;&lt;p&gt;通过按值筛选数据转换中内置的子字符串匹配器，您可以高效地筛选大型数据集中的关键字、产品名称或用户 ID，从而快速、准确地显示相关信息。&lt;/p&gt;&lt;h3 id="6-plot-enum-values-in-your-time-series-and-state-timeline-visualizations"&gt; 6. 在时间序列和状态时间线可视化中绘制枚举值&lt;/h3&gt;&lt;p&gt;您现在可以在时间序列和状态时间线可视化中绘制枚举值。当您想要可视化系统状态（例如服务状态或设备运行状况）时，此功能非常有用。例如，您可以使用此功能将服务的状态可视化为“开启”、“待机”或“关闭”。要显示枚举值，您可以使用&lt;strong&gt;转换字段类型&lt;/strong&gt;转换。&lt;/p&gt;&lt;div class="shortcode youtube"&gt;&lt;/div&gt;&lt;h3 id="7-dashboard-variables-in-transformations"&gt; 7. 转换中的仪表板变量&lt;/h3&gt;&lt;p&gt;我们将对仪表板变量的支持扩展到&lt;strong&gt;计算转换中的“添加”字段&lt;/strong&gt;之外，还包括以下转换：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;按值过滤&lt;/li&gt;&lt;li&gt;创建热图&lt;/li&gt;&lt;li&gt;直方图&lt;/li&gt;&lt;li&gt;排序依据、限制&lt;/li&gt;&lt;li&gt;按名称过滤&lt;/li&gt;&lt;li&gt;按字段加入&lt;/li&gt;&lt;/ul&gt;&lt;h3 id="8-unary-operations-for-the-add-field-from-calculation-transformation"&gt;8. 计算转换添加字段的一元运算&lt;/h3&gt;&lt;p&gt;一元运算是&lt;strong&gt;从计算转换添加字段&lt;/strong&gt;的一种新模式，可让您将数学运算应用于支持以下功能的字段：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;绝对值 ( &lt;code&gt;abs&lt;/code&gt; ) – 返回给定表达式的绝对值。它将距零的距离表示为正数。&lt;/li&gt;&lt;li&gt;自然指数 ( &lt;code&gt;exp&lt;/code&gt; ) – 返回 e 的给定表达式幂。&lt;/li&gt;&lt;li&gt;自然对数 ( &lt;code&gt;ln&lt;/code&gt; ) – 返回给定表达式的自然对数。&lt;/li&gt;&lt;li&gt; Floor ( &lt;code&gt;floor&lt;/code&gt; ) – 返回小于或等于给定表达式的最大整数。&lt;/li&gt;&lt;li&gt; Ceiling ( &lt;code&gt;ceil&lt;/code&gt; ) – 返回大于或等于给定表达式的最小整数。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;了解有关&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/query-transform-data/transform-data/?pg=blog&amp;amp;plcmt=body-txt#add-field-from-calculation"&gt;从计算转换添加字段的&lt;/a&gt;更多信息。&lt;/p&gt;&lt;h3 id="9-format-string-fields"&gt; 9.格式化字符串字段&lt;/h3&gt;&lt;p&gt;通过新的&lt;strong&gt;格式字符串&lt;/strong&gt;转换，您可以操作字符串字段以改进它们的显示方式：&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;code&gt;Change case&lt;/code&gt;可以将字符串转换为大写、小写、句子、标题、帕斯卡大小写、驼峰大小写或蛇形大小写。&lt;/li&gt;&lt;li&gt; &lt;code&gt;Trim&lt;/code&gt;删除字符串开头和结尾的空白字符。&lt;/li&gt;&lt;li&gt; &lt;code&gt;Substring&lt;/code&gt;选择字符串字段的一部分。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt; &lt;code&gt;formatStringTransformer&lt;/code&gt;在功能标志后面可用。要了解更多信息，请阅读&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/query-transform-data/transform-data/#format-string"&gt;格式化字符串文档&lt;/a&gt;。&lt;/p&gt;&lt;h3 id="10-apply-data-transformations-to-annotations"&gt; 10. 将数据转换应用于注释&lt;/h3&gt;&lt;p&gt;数据转换可用于注释数据，从而可以配置示例在工具提示中的显示方式等。&lt;/p&gt;&lt;h2 id="learn-more-about-grafana-11"&gt;了解有关 Grafana 11 的更多信息&lt;/h2&gt;&lt;p&gt;Grafana 11 已正式发布，并包含许多新功能，使 Grafana 更易于使用、操作和扩展。了解有关新功能的更多信息，包括：&lt;/p&gt;&lt;ul&gt;&lt;li&gt; &lt;a href="https://grafana.com/blog/2024/05/14/how-to-explore-metrics-without-promql-queries-in-grafana/"&gt;如何在不编写任何 PromQ 的情况下探索指标&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/blog/2024/05/14/grafana-alerting-new-tools-to-resolve-incidents-faster-and-avoid-alert-fatigue/"&gt;Grafana Alerting 中的最新工具可加快事件响应速度&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/blog/2024/05/14/canvas-panel-in-grafana-create-custom-visualizations-with-all-the-latest-features/"&gt;新功能可帮助在 Canvas 面板中构建自定义可视化效果&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;要了解所有正在运行的最新功能，请观看 GrafanaCON 2024 的“ &lt;a href="https://grafana.com/about/events/grafanacon/2024/grafana-11-deep-dive/"&gt;Grafana 11 Deep Dive&lt;/a&gt; ”会议，现已点播。&lt;/p&gt;&lt;p&gt;有关 Grafana 11 中所有新功能的详细列表，请查看我们的&lt;a href="https://grafana.com/docs/grafana/v11.0/"&gt;Grafana 文档&lt;/a&gt;、Grafana &lt;a href="https://github.com/grafana/grafana/blob/main/CHANGELOG.md" rel="noopener noreferrer" target="_blank"&gt;变更日志&lt;/a&gt;或我们的&lt;a href="https://grafana.com/docs/grafana/v11.0/whatsnew/whats-new-in-v11-0/?pg=blog&amp;amp;plcmt=body-txt"&gt;新增功能文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="upgrade-to-grafana-11"&gt;升级到 Grafana 11&lt;/h2&gt;&lt;p&gt;立即&lt;a href="https://grafana.com/grafana/download/11.0.0?pg=blog&amp;amp;plcmt=body-txt"&gt;下载 Grafana 11&lt;/a&gt;或通过注册&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;体验所有新功能，Grafana Cloud 为每个用例提供了实际有用的免费云套餐和计划。立即注册&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;免费的 Grafana Cloud&lt;/a&gt;帐户。&lt;/p&gt;&lt;p&gt;我们的&lt;a href="https://grafana.com/docs/grafana/latest/upgrade-guide/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 升级指南&lt;/a&gt;还为那些希望从早期版本升级的用户提供分步说明，以确保顺利过渡。&lt;/p&gt;&lt;h2 id="join-the-grafana-labs-community"&gt;加入 Grafana 实验室社区&lt;/h2&gt;&lt;p&gt;我们&lt;a href="https://github.com/grafana/grafana/issues/new?assignees=&amp;amp;labels=&amp;amp;projects=&amp;amp;template=1-feature_requests.md&amp;amp;labels=area/panel/canvas" rel="noopener noreferrer" target="_blank"&gt;欢迎您对 Canvas 提出任何反馈&lt;/a&gt;，并期待与社区就未来的开发进行合作。有兴趣了解 Canvas 的起源吗？查看&lt;a href="https://grafana.com/blog/2023/05/11/use-canvas-panels-to-customize-visualizations-in-grafana/"&gt;我们最初的 Canvas 面板博客文章&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;我们还邀请您参与&lt;a href="https://community.grafana.com/?pg=blog&amp;amp;plcmt=body-txt" rel="noopener noreferrer" target="_blank"&gt;Grafana Labs 社区论坛&lt;/a&gt;。分享您使用新功能的体验，讨论最佳实践，并探索将这些更新集成到您的工作流程中的创造性方法。&lt;/p&gt;&lt;h2 id="a-special-thanks-to-our-community"&gt;特别感谢我们的社区&lt;/h2&gt;&lt;p&gt;我们向&lt;a href="https://grafana.com/blog/2023/12/12/the-story-of-grafana-documentary-the-community-behind-the-code/"&gt;Grafana 社区&lt;/a&gt;表示衷心的感谢！&lt;/p&gt;&lt;p&gt;您的贡献，从拉取请求到有价值的反馈，对于不断增强 Grafana 至关重要。您的热情和奉献精神激励我们 Grafana Labs 不断创新并提升 Grafana 平台。&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Tue, 14 May 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/14/grafana-transformations-10-new-ways-to-get-more-out-of-your-data/</guid></item><item><title>【How to explore metrics without PromQL queries in Grafana】如何在 Grafana 中探索指标而无需 PromQL 查询</title><link>https://grafana.com/blog/2024/05/14/how-to-explore-metrics-without-promql-queries-in-grafana/</link><description>&lt;p&gt;在 GrafanaCON 2024 上，Grafana 创始人 Torkel Ödegaard 介绍了&lt;a href="https://grafana.com/blog/2024/04/09/grafana-11-release-all-the-new-features/"&gt;Grafana 11&lt;/a&gt; ，它的功能集与我们自&lt;a href="https://grafana.com/blog/2023/12/05/the-story-of-grafana-documentary-celebrating-oss-community-and-innovation/"&gt;2013 年启动 OSS 项目&lt;/a&gt;以来的目标一致。&lt;/p&gt;&lt;p&gt; “我们从一开始就有的 Grafana 核心使命是通过良好的用户体验设计、注重易用性以及用户灵活性和自由度，使可观察性变得简单而强大，”Torkel 说。&lt;/p&gt;&lt;p&gt;多年来，我们通过各种方式解决了这个问题—— &lt;a href="https://grafana.com/blog/2022/07/18/new-in-grafana-9-the-prometheus-query-builder-makes-writing-promql-queries-easier/"&gt;创建更易于使用的强大查询编辑器&lt;/a&gt;；改进&lt;a href="https://grafana.com/blog/2024/01/23/grafana-10.3-release-canvas-panel-updates-multi-stack-data-sources-and-more/#improved-tooltips-for-data-visualization"&gt;构建面板和仪表板&lt;/a&gt;的方法；更新您&lt;a href="https://youtu.be/IhpghtVykLc" rel="noopener noreferrer" target="_blank"&gt;浏览数据的&lt;/a&gt;方式；或者通过&lt;a href="https://grafana.com/docs/grafana/latest/panels-visualizations/configure-data-links/"&gt;数据链接&lt;/a&gt;更轻松地探索或连接仪表板。&lt;/p&gt;&lt;p&gt;但我们总是问 Grafana 如何才能做得更好？学习如何构建仪表板可能需要一些时间，即使是最先进的仪表板有时也可能有点过于静态。那么，如果 Grafana 可以动态地、即时地为您完成这一切呢？&lt;/p&gt;&lt;div class="shortcode youtube"&gt;&lt;/div&gt;&lt;p&gt;在现已全面发布的最新主要版本&lt;a href="https://grafana.com/grafana/download/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 11&lt;/a&gt;中，我们很高兴推出 Explore Metrics，这是一种无查询的体验，让您只需点击几下鼠标即可轻松浏览与 Prometheus 兼容的指标、识别异常并发现见解 - 并且没有 PromQL。&lt;/p&gt;&lt;h2 id="how-explore-metrics-works"&gt;探索指标的工作原理&lt;/h2&gt;&lt;p&gt;在 Grafana Labs，我们热爱指标，并花费大量时间精心设计&lt;a href="https://grafana.com/blog/2020/02/04/introduction-to-promql-the-prometheus-query-language/"&gt;PromQL 查询&lt;/a&gt;来回答问题并构建漂亮的 Grafana 仪表板。然而，并不是每个人都是 PromQL 向导，在事件最激烈的情况下，您最不想做的事情就是&lt;em&gt;再次&lt;/em&gt;搜索正确的查询来可视化热图……。&lt;/p&gt;&lt;p&gt; Explore Metrics（在 Grafana 11 中提供公共预览版）消除了这一障碍，使用户能够轻松导航指标，而无需在 PromQL 中编写查询。因此，探索指标无需管理标签，而是可以让您立即深入了解数据，并使用向您显示的功能：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;指标细分：&lt;/strong&gt;根据标签轻松对指标进行细分，以识别异常并快速解决问题。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;智能可视化：&lt;/strong&gt;自动选择适合您的指标类型的可视化，从而节省您的时间、精力和猜测。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;相关指标：&lt;/strong&gt;显示与您当前选择相关的其他相关指标，为您的分析提供更广泛的背景。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;抽屉中的附加数据：&lt;/strong&gt;抽屉中的探索功能允许您查看覆盖在仪表板上的抽屉中的指标，从而提供附加内容而不会丢失您的位置。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;用户步骤历史记录：&lt;/strong&gt;通过指标及其过滤器查看导航历史记录，从而可以轻松重新访问和参考流程和分析的部分内容。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;下面是如何开始探索指标以及如何深入了解指标以查看细分和其他相关指标的演示。&lt;/p&gt;&lt;div class="shortcode youtube"&gt;&lt;/div&gt;&lt;h2 id="get-started-with-explore-metrics-in-grafana-11"&gt;开始探索 Grafana 11 中的指标&lt;/h2&gt;&lt;p&gt;Explore Metrics 在 Grafana 11 中提供公共预览版。您可以从 Grafana 菜单的&lt;strong&gt;Explore&lt;/strong&gt; &amp;gt; &lt;strong&gt;Metrics&lt;/strong&gt;下访问 Explore Metrics。要了解更多信息，您可以查看我们的&lt;a href="https://grafana.com/docs/grafana/latest/explore/explore-metrics/?pg=blog&amp;amp;plcmt=body-txt"&gt;探索指标文档&lt;/a&gt;。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/explore-metrics/grafana-11-explore-metrics-ui.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Grafana Cloud UI 用于查找“探索指标”功能" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Grafana Cloud UI 用于查找“探索指标”功能" src="https://grafana.com/media/blog/explore-metrics/grafana-11-explore-metrics-ui.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;或者，您也可以在&lt;a href="https://play.grafana.org/explore/metrics" rel="noopener noreferrer" target="_blank"&gt;Grafana Play 环境&lt;/a&gt;中尝试一下 Explore Metrics。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/explore-metrics/grafana-11-explore-metrics-play.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="探索 Grafana Cloud 中的指标 UI" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="探索 Grafana Cloud 中的指标 UI" src="https://grafana.com/media/blog/explore-metrics/grafana-11-explore-metrics-play.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;h2 id="learn-more-about-grafana-11"&gt;了解有关 Grafana 11 的更多信息&lt;/h2&gt;&lt;p&gt;Grafana 11 已正式发布，并包含许多新功能，使 Grafana 更易于使用、操作和扩展。了解有关新功能的更多信息，包括&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="https://grafana.com/blog/2024/05/14/grafana-transformations-10-new-ways-to-get-more-out-of-your-data/"&gt;通过转换充分利用数据的 10 种方法&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/blog/2024/05/14/grafana-alerting-new-tools-to-resolve-incidents-faster-and-avoid-alert-fatigue/"&gt;Grafana Alerting 中的最新工具可加快事件响应速度&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/blog/2024/05/14/canvas-panel-in-grafana-create-custom-visualizations-with-all-the-latest-features/"&gt;如何使用 Canvas 面板中的新功能构建自定义可视化效果&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;要了解所有正在运行的最新功能，请观看 GrafanaCON 2024 的“ &lt;a href="https://grafana.com/about/events/grafanacon/2024/grafana-11-deep-dive/"&gt;Grafana 11 Deep Dive&lt;/a&gt; ”会议，现已点播。&lt;/p&gt;&lt;p&gt;有关 Grafana 11 中所有新功能的详细列表，请查看我们的&lt;a href="https://grafana.com/docs/grafana/v11.0/"&gt;Grafana 文档&lt;/a&gt;、Grafana &lt;a href="https://github.com/grafana/grafana/blob/main/CHANGELOG.md" rel="noopener noreferrer" target="_blank"&gt;变更日志&lt;/a&gt;或我们的&lt;a href="https://grafana.com/docs/grafana/v11.0/whatsnew/whats-new-in-v11-0/?pg=blog&amp;amp;plcmt=body-txt"&gt;新增功能文档&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="upgrade-to-grafana-11"&gt;升级到 Grafana 11&lt;/h2&gt;&lt;p&gt;立即&lt;a href="https://grafana.com/grafana/download/11.0.0?pg=blog&amp;amp;plcmt=body-txt"&gt;下载 Grafana 11&lt;/a&gt;或通过注册&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;体验所有新功能，Grafana Cloud 为每个用例提供了实际有用的免费云套餐和计划。立即注册&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;免费的 Grafana Cloud&lt;/a&gt;帐户。&lt;/p&gt;&lt;p&gt;我们的&lt;a href="https://grafana.com/docs/grafana/latest/upgrade-guide/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana 升级指南&lt;/a&gt;还为那些希望从早期版本升级的用户提供分步说明，以确保顺利过渡。&lt;/p&gt;&lt;h2 id="join-the-grafana-labs-community"&gt;加入 Grafana 实验室社区&lt;/h2&gt;&lt;p&gt;一如既往，我们很高兴收到 Grafana 社区的来信。我们很想听听您如何使用探索指标以及您是否有任何反馈。您可以在&lt;a href="https://slack.grafana.com/" rel="noopener noreferrer" target="_blank"&gt;Grafana Labs Community Slack 的 #grafana 频道中找到该团队。&lt;/a&gt;&lt;/p&gt;&lt;p&gt;我们还邀请您参与&lt;a href="https://community.grafana.com/?pg=blog&amp;amp;plcmt=body-txt" rel="noopener noreferrer" target="_blank"&gt;Grafana Labs 社区论坛&lt;/a&gt;。分享您使用新功能的体验，讨论最佳实践，并探索将这些更新集成到您的工作流程中的创造性方法。&lt;/p&gt;&lt;h2 id="a-special-thanks-to-our-community"&gt;特别感谢我们的社区&lt;/h2&gt;&lt;p&gt;我们向&lt;a href="https://grafana.com/blog/2023/12/12/the-story-of-grafana-documentary-the-community-behind-the-code/"&gt;Grafana 社区&lt;/a&gt;表示衷心的感谢！&lt;/p&gt;&lt;p&gt;您的贡献，从拉取请求到有价值的反馈，对于不断增强 Grafana 至关重要。您的热情和奉献精神激励我们 Grafana Labs 不断创新并提升 Grafana 平台。&lt;/p&gt;&lt;p&gt;&lt;em&gt;开始使用 Grafana 11 的最简单方法是使用&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt; 。我们为每个用例提供慷慨的免费云套餐和计划。&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Tue, 14 May 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/14/how-to-explore-metrics-without-promql-queries-in-grafana/</guid></item><item><title>【Grafana Enterprise data source plugins: A brief guide to what they are and how to get started】Grafana Enterprise 数据源插件：它们是什么以及如何开始的简要指南</title><link>https://grafana.com/blog/2024/05/13/grafana-enterprise-data-source-plugins-a-brief-guide-to-what-they-are-and-how-to-get-started/</link><description>&lt;p&gt;Grafana 最强大的功能之一是能够统一数据并从中获取价值，无论数据位于何处。这是因为我们完全致力于将 Grafana 打造成一个开放、可组合且可扩展的可观测平台，供全球超过 2000 万用户使用。&lt;/p&gt;&lt;p&gt;但我们究竟如何兑现开放性和可扩展性的承诺呢？ Grafana 数据源插件发挥着重要作用。&lt;/p&gt;&lt;p&gt;数据源插件允许您从 Grafana 内部连接到外部系统，因此您可以使用您已经了解和喜爱的 Grafana 仪表板可视化来自各种来源的数据。能够在集中位置查看所有指标、日志和跟踪（无需将数据提取或迁移到公共后端）意味着您可以关联数据、快速识别根本原因并缩短 MTTR。&lt;/p&gt;&lt;p&gt;我们拥有广泛的 Grafana 数据源插件生态系统——这对我们的社区来说是个好消息，但也可能会引发一些关于使用哪种类型的插件的问题。在这篇博文中，我们将专门探讨&lt;strong&gt;Grafana Enterprise 数据源插件&lt;/strong&gt;，包括它们是什么、定价原理等等，以便您今天就可以开始使用它们。&lt;/p&gt;&lt;h2 id="what-is-a-grafana-enterprise-data-source-plugin"&gt;什么是 Grafana Enterprise 数据源插件？&lt;/h2&gt;&lt;p&gt;我们的&lt;a href="https://grafana.com/grafana/plugins/data-source-plugins/"&gt;目录&lt;/a&gt;中有 150 多个数据源。其中许多是由我们的社区成员创建的，许多是由我们的合作伙伴创建的，还有 60 多个是由 Grafana Labs 构建和维护的。大多数数据源都可以在 Grafana OSS 中免费使用。&lt;/p&gt;&lt;p&gt; Grafana Enterprise 数据源由 Grafana Labs 构建和维护，仅在 Grafana Enterprise 和 Grafana Cloud 中提供，包括我们慷慨的永久免费套餐。这些数据源通常连接到专有工具或平台，例如 Splunk、Dynatrace 或 Databricks。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link captioned" href="https://grafana.com/media/blog/grafana-enterprise-plugins-guide/grafana-enterprise-plugin-guide-databricks-screenshot.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="*A Grafana dashboard for the Databricks data source.*" class="lazyload mb-0" title="*Databricks 数据源的 Grafana 仪表板。*" /&gt; &lt;noscript&gt;&lt;img alt="*A Grafana dashboard for the Databricks data source.*" src="https://grafana.com/media/blog/grafana-enterprise-plugins-guide/grafana-enterprise-plugin-guide-databricks-screenshot.png" title="*Databricks 数据源的 Grafana 仪表板。*" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;figcaption class="w-100p caption text-gray-13 "&gt; &lt;em&gt;Databricks 数据源的 Grafana 仪表板。&lt;/em&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;企业数据源提供一流的最终用户体验（包括点击式查询构建和数据过滤），使您能够比以往更快地获取所需的准确数据。它们让您可以通过单一管理平台对数百个不同的数据源进行查询、可视化和警报，从而增强您的整体可观察性策略。例如，您可以关联来自 Datadog 的基础设施运行状况指标、来自 Splunk 的日志、来自 Dynatrace 的应用程序性能数据，甚至来自 ServiceNow 的事件票据，以简化故障排除流程。&lt;/p&gt;&lt;p&gt;另外，由于所有 Grafana Enterprise 数据源插件均由 Grafana Labs 团队维护和支持，因此它们消除了内部构建和维护自己的插件的开销。&lt;/p&gt;&lt;h2 id="which-enterprise-data-source-plugins-are-currently-available"&gt;目前有哪些企业数据源插件可用？&lt;/h2&gt;&lt;p&gt; Grafana Labs 目前提供 20 多个企业数据源 - 我们正在不断努力扩展我们的产品线，以便您可以连接到并可视化所有常用数据源。&lt;/p&gt;&lt;p&gt;我们当前的企业数据源插件列表包括：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/appdynamics/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;应用动态&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/databricks/visualize/"&gt;数据块&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/datadog/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;数据狗&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/dynatrace/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;Dynatrace&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a href="https://grafana.com/solutions/mongodb/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;MongoDB&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/new-relic/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;新遗物&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/oracle-database/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;甲骨文&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/sap-hana/visualize/"&gt;SAP HANA&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/servicenow/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;立即服务&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/snowflake/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;雪花&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/splunk/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;斯普朗克&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href="https://grafana.com/solutions/wavefront/visualize/?pg=blog&amp;amp;plcmt=body-txt"&gt;波前&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;……还有更多。要查看 Grafana Enterprise 数据源的完整列表，请查看我们的&lt;a href="https://grafana.com/grafana/plugins/all-plugins/?enterprise=1"&gt;插件页面&lt;/a&gt;。&lt;/p&gt;&lt;h2 id="how-much-do-grafana-enterprise-plugins-cost"&gt; Grafana Enterprise 插件的费用是多少？&lt;/h2&gt;&lt;p&gt;如前所述，Grafana Enterprise 插件可供 Grafana Enterprise 和 Grafana Cloud 的用户使用。&lt;/p&gt;&lt;p&gt;作为 Grafana Enterprise 许可证的一部分，Grafana Enterprise 用户可以访问所有 Enterprise 插件。要了解有关 Grafana Enterprise 定价和许可模式的更多信息，请&lt;a href="https://grafana.com/contact?pg=pricing&amp;amp;plcmt=self-managed"&gt;联系我们的团队&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;对于 Grafana Cloud，企业插件访问和定价因级别而异：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;strong&gt;永久免费云层：&lt;/strong&gt;包含 3 个活跃用户免费访问企业插件的权限。&lt;/li&gt;&lt;li&gt; &lt;strong&gt;Cloud Pro 即用即付层级：&lt;/strong&gt;企业插件在 Cloud Pro 中被视为付费附加组件。如果您在 Cloud Pro 中启用企业插件，您仍然可以免费为最多 3 个活跃用户访问企业插件，除此之外，每个活跃用户每月需要支付 55 美元。&lt;/li&gt;&lt;li&gt;&lt;strong&gt;云高级层：&lt;/strong&gt;最多 5 个活跃用户可以访问企业插件。然后，每个额外用户的费用为 55 美元。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;em&gt;请参阅&lt;a href="https://grafana.com/pricing/"&gt;我们的定价页面&lt;/a&gt;了解最新的计划和定价详细信息。&lt;/em&gt;&lt;/p&gt;&lt;p&gt;同样，所有企业数据源插件均由 Grafana Labs 团队构建、维护和支持 - 这意味着与内部构建和管理自己的插件相比，TCO 显着降低。&lt;/p&gt;&lt;h2 id="what-should-i-expect-in-terms-of-installation-and-configuration"&gt;在安装和配置方面我应该期待什么？&lt;/h2&gt;&lt;p&gt;使用 Grafana Enterprise 数据源的启动和运行非常简单。&lt;/p&gt;&lt;p&gt;事实上，在 Grafana Cloud 实例上，只需一键安装即可开始安装。安装插件后，您可以通过转至&lt;strong&gt;Connections &amp;gt; Datasources &amp;gt; Add data source&lt;/strong&gt;将其配置为数据源。然后，选择您想要连接的特定企业插件，并按照插件配置页面上的其余步骤进行操作，包括身份验证。&lt;/p&gt;&lt;p&gt;完成所有必填字段和步骤后，您可以保存并测试新数据源。将出现一条消息，验证您是否已成功连接。&lt;/p&gt;&lt;p&gt;有关更多详细信息，您可以参考您正在安装的特定插件的文档。&lt;/p&gt;&lt;h2 id="where-can-i-go-to-learn-more"&gt;我可以去哪里了解更多信息？&lt;/h2&gt;&lt;p&gt;我们有多种资源可供您用来了解有关 Grafana Enterprise 数据源插件的更多信息，包括我们的&lt;a href="https://grafana.com/docs/plugins/"&gt;技术文档&lt;/a&gt;以及由 Grafana Labs 解决方案工程团队的 Christine Wang 和 Aengus Rooney 主持的&lt;a href="https://grafana.com/go/webinar/grafana-plugins-overview-and-demo/"&gt;网络研讨会&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;开始使用我们的企业数据源插件的最简单方法是在&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;中。我们有一个慷慨的永久免费套餐，其中包括 3 个活跃用户对企业数据源的访问权限。如果您还没有， &lt;a href="https://grafana.com/auth/sign-up/create-user?pg=plugins&amp;amp;plcmt=grafana-synthetic-monitoring-app"&gt;请立即免费注册！&lt;/a&gt;&lt;/p&gt;</description><pubDate>Mon, 13 May 2024 12:59:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/13/grafana-enterprise-data-source-plugins-a-brief-guide-to-what-they-are-and-how-to-get-started/</guid></item><item><title>【Use Grafana Alloy to collect Azure metrics with less hassle】使用 Grafana Alloy 轻松收集 Azure 指标</title><link>https://grafana.com/blog/2024/05/08/use-grafana-alloy-to-collect-azure-metrics-with-less-hassle/</link><description>&lt;p&gt;您是否使用&lt;a href="https://grafana.com/docs/alloy/latest/reference/components/prometheus.exporter.azure/?pg=blog&amp;amp;plcmt=body-txt"&gt;Azure 指标导出器&lt;/a&gt;将遥测数据发送到 Grafana Cloud？您是否对避免速率限制所需的大量配置和复杂性感到不知所措？&lt;/p&gt;&lt;p&gt;那么，您是否知道，借助&lt;a href="https://grafana.com/oss/alloy-opentelemetry-collector/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Alloy&lt;/a&gt; （我们的 OpenTelemetry Collector 发行版，具有内置 Prometheus 管道并支持指标、日志、跟踪和配置文件），您现在可以：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;在订阅级别收集您的 Microsoft Azure 指标&lt;/li&gt;&lt;li&gt;在单一配置中配置您需要的所有尺寸&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;让我们看看这两个功能如何降低合金配置的复杂性。&lt;/p&gt;&lt;h2 id="subscription-level-metrics"&gt;订阅级别指标&lt;/h2&gt;&lt;p&gt;Azure 提供各种 API 可用于收集指标。在订阅级别指标之前，Alloy 通过以下工作流程从 Azure 逐个资源收集指标：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/azure-metrics/previous-flow.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="上一个涉及 Alloy、Grafana Cloud 以及 Azure Resource Graph API 和 Azure Monitor API 的流程图" class="lazyload " /&gt; &lt;noscript&gt;&lt;img alt="上一个涉及 Alloy、Grafana Cloud 以及 Azure Resource Graph API 和 Azure Monitor API 的流程图" src="https://grafana.com/media/blog/azure-metrics/previous-flow.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;这种方法有一些缺点：&lt;/p&gt;&lt;ol&gt;&lt;li&gt; Azure 订阅中的资源量极大地增加了收集指标数据所需的时间。&lt;/li&gt;&lt;li&gt; Azure 的 Monitor API 的&lt;a href="https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/request-limits-and-throttling#subscription-and-tenant-limits" rel="noopener noreferrer" target="_blank"&gt;速率限制&lt;/a&gt;不是很高，这使得很容易遇到阻止您收集所有指标数据的错误。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;这些问题有一些解决方法，涉及运行使用不同服务主体的多个 Alloy 部署，每个部署都有自己的资源限制。它最终会看起来像这样：&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/azure-metrics/multiple-alloy.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="包含多个 Alloy 实例的流程图，箭头指向 Grafana Cloud 和 Azure" class="lazyload " /&gt; &lt;noscript&gt;&lt;img alt="包含多个 Alloy 实例的流程图，箭头指向 Grafana Cloud 和 Azure" src="https://grafana.com/media/blog/azure-metrics/multiple-alloy.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;&lt;br /&gt;因此，您必须管理许多无法利用&lt;a href="https://grafana.com/docs/alloy/latest/concepts/clustering/?pg=blog&amp;amp;plcmt=body-txt"&gt;Alloy 集群&lt;/a&gt;的独立 Alloy 部署。&lt;/p&gt;&lt;p&gt;集群使一组 Alloy 部署能够协同工作，以确保高可用性。这将创建一个具有最少资源和运营开销的水平可扩展系统，确保您始终可以使用关键任务 Azure 指标。&lt;/p&gt;&lt;p&gt;使用订阅级指标功能，您可以通过单个 API 调用从一个区域中的所有相关资源收集数据。这使您可以运行单个或集群 Alloy 部署，并有可能将 API 调用量从数千次减少到 100 次以下。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt;&lt;a class="lightbox-link" href="https://grafana.com/media/blog/azure-metrics/subscription-level.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="带有从单个 Grafana Alloy 实例指向 Grafana Cloud 和 Azure 的箭头的流程图" class="lazyload " /&gt; &lt;noscript&gt;&lt;img alt="带有从单个 Grafana Alloy 实例指向 Grafana Cloud 和 Azure 的箭头的流程图" src="https://grafana.com/media/blog/azure-metrics/subscription-level.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;启用此功能就像更改指标配置一样简单：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;从配置中删除&lt;code&gt;resource_graph_query_filter&lt;/code&gt; （如果存在）。&lt;/li&gt;&lt;li&gt;添加一个包含您想要为配置拉取的所有区域的&lt;code&gt;regions&lt;/code&gt;键。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;就是这样！&lt;/p&gt;&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;注意：&lt;/strong&gt;导出器支持 Azure Monitor 可以收集的所有指标，但订阅级指标功能并不适用于所有 Azure 资源类型。如果不支持某种资源类型，您仍然可以使用默认的 Azure 资源图来可视化您的数据。请参阅&lt;a href="https://grafana.com/docs/agent/latest/static/configuration/integrations/azure-exporter-config/?pg=blog&amp;amp;plcmt=body-txt#list-of-supported-services-and-metrics"&gt;文档&lt;/a&gt;以获取更多信息。&lt;/p&gt;&lt;/blockquote&gt;&lt;h2 id="all-your-dimensions-in-a-single-configuration"&gt;单一配置中的所有尺寸&lt;/h2&gt;&lt;p&gt;Azure 服务通过一组维度公开其指标。每个指标的维度集可能不同。如果我们查看 Azure Blob 存储指标的示例，我们可以看到这些指标没有重叠的维度集。&lt;/p&gt;&lt;figure class="figure-wrapper figure-wrapper__lightbox w-100p "&gt; &lt;a class="lightbox-link" href="https://grafana.com/media/blog/azure-metrics/azure-metrics.png"&gt;&lt;div class="img-wrapper w-100p h-auto"&gt;&lt;img alt="Azure 指标维度的屏幕截图" class="lazyload " /&gt;&lt;noscript&gt;&lt;img alt="Azure 指标维度的屏幕截图" src="https://grafana.com/media/blog/azure-metrics/azure-metrics.png" /&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/a&gt;&lt;/figure&gt;&lt;p&gt;如果您想要收集所有这些指标（包括维度），则需要三个单独的配置，每个配置都有不同的维度。这管理起来非常复杂，而且您添加的每个额外配置都会导致更多的 API 调用，从而增加了速率受限的可能性。但现在您可以通过单一配置完成这一切。这样做会让你摆脱这个：&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button&gt;&lt;img alt="将代码复制到剪贴板" class="code-clipboard__icon" height="13" src="https://grafana.com/media/images/icons/icon-copy-small-2.svg" width="14" /&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre&gt;&lt;code class="language-none"&gt;prometheus.exporter.azure &amp;quot;integrations_azure_exporter_1&amp;quot; { subscriptions = [&amp;quot;asdf1234&amp;quot;] resource_type = &amp;quot;Microsoft.Storage/storageAccounts/blobServices&amp;quot; resource_graph_query_filter = &amp;quot;where location == \&amp;quot;westeurope\&amp;quot;&amp;quot; metrics = [ &amp;quot;Availability&amp;quot;, ] included_dimensions = [ &amp;quot;ApiName&amp;quot;, &amp;quot;Authentication&amp;quot;, &amp;quot;GeoType&amp;quot;, &amp;quot;Tier&amp;quot;, ] timespan = &amp;quot;PT1H&amp;quot; } prometheus.exporter.azure &amp;quot;integrations_azure_exporter_2&amp;quot; { subscriptions = [&amp;quot;asdf1234&amp;quot;] resource_type = &amp;quot;Microsoft.Storage/storageAccounts/blobServices&amp;quot; resource_graph_query_filter = &amp;quot;where location == \&amp;quot;westeurope\&amp;quot;&amp;quot; metrics = [ &amp;quot;BlobCapacity&amp;quot;, &amp;quot;BlobCount&amp;quot;, &amp;quot;BlobProvisionedSize&amp;quot;, ] included_dimensions = [ &amp;quot;BlobType&amp;quot;, &amp;quot;Tier&amp;quot;, ] timespan = &amp;quot;PT1H&amp;quot; } prometheus.exporter.azure &amp;quot;integrations_azure_exporter_3&amp;quot; { subscriptions = [&amp;quot;asdf1234&amp;quot;] resource_type = &amp;quot;Microsoft.Storage/storageAccounts/blobServices&amp;quot; resource_graph_query_filter = &amp;quot;where location == \&amp;quot;westeurope\&amp;quot;&amp;quot; metrics = [ &amp;quot;ContainerCount&amp;quot;, ] timespan = &amp;quot;PT1H&amp;quot; }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;p&gt;对此：&lt;/p&gt;&lt;div class="code-snippet code-snippet__mini"&gt;&lt;div class="lang-toolbar__mini"&gt; &lt;span class="code-clipboard"&gt;&lt;button&gt;&lt;img alt="将代码复制到剪贴板" class="code-clipboard__icon" height="13" src="https://grafana.com/media/images/icons/icon-copy-small-2.svg" width="14" /&gt;&lt;span&gt;复制&lt;/span&gt;&lt;/button&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class="code-snippet code-snippet__border"&gt;&lt;pre&gt;&lt;code class="language-none"&gt;prometheus.exporter.azure &amp;quot;integrations_azure_exporter&amp;quot; { subscriptions = [&amp;quot;asdf1234&amp;quot;] resource_type = &amp;quot;Microsoft.Storage/storageAccounts/blobServices&amp;quot; regions = [ &amp;quot;westeurope&amp;quot; ] metrics = [ &amp;quot;Availability&amp;quot;, &amp;quot;BlobCapacity&amp;quot;, &amp;quot;BlobCount&amp;quot;, &amp;quot;BlobProvisionedSize&amp;quot;, &amp;quot;ContainerCount&amp;quot;, ] included_dimensions = [ &amp;quot;ApiName&amp;quot;, &amp;quot;Authentication&amp;quot;, &amp;quot;BlobType&amp;quot;, &amp;quot;GeoType&amp;quot;, &amp;quot;Tier&amp;quot;, ] timespan = &amp;quot;PT1H&amp;quot; }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;h2 id="here-to-help-now-and-into-the-future"&gt;在这里为现在和未来提供帮助&lt;/h2&gt;&lt;p&gt;无论您处于&lt;a href="https://grafana.com/blog/2024/01/29/how-to-improve-your-observability-strategy-introducing-the-observability-journey-maturity-model/"&gt;可观察性之旅&lt;/a&gt;的哪个阶段，Grafana Labs 都会为您提供帮助。 Alloy 中提供的这些新功能应该能够显着降低与观察 Azure 上运行的工作负载相关的复杂性。&lt;/p&gt;&lt;p&gt;如果您有任何问题或功能请求，请随时提交支持票或联系您的 Grafana Labs 代表。我们很高兴收到您的来信，因为这只是我们帮助解决您的 Azure 可观测性需求的计划的一部分，因此请继续关注今年晚些时候将推出的内容！&lt;/p&gt;&lt;p&gt; &lt;em&gt;&lt;a href="https://grafana.com/products/cloud/?pg=blog&amp;amp;plcmt=body-txt"&gt;Grafana Cloud&lt;/a&gt;是开始使用指标、日志、跟踪、仪表板等的最简单方法。我们为每个用例提供慷慨的永久免费套餐和计划。&lt;a href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt"&gt;现在免费注册&lt;/a&gt;！&lt;/em&gt;&lt;/p&gt;</description><pubDate>Wed, 08 May 2024 00:00:00 GMT</pubDate><guid isPermaLink="true">https://grafana.com/blog/2024/05/08/use-grafana-alloy-to-collect-azure-metrics-with-less-hassle/</guid></item></channel></rss>